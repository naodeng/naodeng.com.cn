<!doctype html><html dir=ltr lang=zh data-theme class="html theme--light"><head><title>Pytest 教程：入门介绍和环境搭建准备 |
Nao
</title><meta charset=utf-8><meta name=generator content="Hugo 0.120.4"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Nao"><meta name=description content="这个博客的内容将是关于 Pytest 的教程，主要包括入门介绍和环境搭建准备。在博客中，读者将了解什么是 Pytest 以及如何开始使用它来进行 API 测试。教程将涵盖 Pytest 的基本概念，包括如何设置测试环境，准备所需的工具和资源，以便读者可以开始编写和执行他们自己的 API 测试。这个教程将有助于那些想要学习如何使用 Pytest 进行 API 测试的初学者入门并准备好他们的开发环境。"><meta name=google-site-verification content="google5e9a7c9479924ed2"><link rel=stylesheet href=/scss/main.min.772eefee9824c26da5d3828c2507ea318c8e7a37b0b1d18cd4f224edc2755fea.css integrity="sha256-dy7v7pgkwm2l04KMJQfqMYyOejewsdGM1PIk7cJ1X+o=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=https://naodeng.tech/zh/post/pytest-tutorial-getting-started-and-own-environment-preparation/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><script async defer src=https://naodeng-umami.vercel.app/hugo.js data-website-id=b3b285c9-3c35-4398-9252-91bb70560b84></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://naodeng.tech/images/site-feature-image.png"><meta name=twitter:title content="Pytest 教程：入门介绍和环境搭建准备"><meta name=twitter:description content="这个博客的内容将是关于 Pytest 的教程，主要包括入门介绍和环境搭建准备。在博客中，读者将了解什么是 Pytest 以及如何开始使用它来进行 API 测试。教程将涵盖 Pytest 的基本概念，包括如何设置测试环境，准备所需的工具和资源，以便读者可以开始编写和执行他们自己的 API 测试。这个教程将有助于那些想要学习如何使用 Pytest 进行 API 测试的初学者入门并准备好他们的开发环境。"><meta property="og:title" content="Pytest 教程：入门介绍和环境搭建准备"><meta property="og:description" content="这个博客的内容将是关于 Pytest 的教程，主要包括入门介绍和环境搭建准备。在博客中，读者将了解什么是 Pytest 以及如何开始使用它来进行 API 测试。教程将涵盖 Pytest 的基本概念，包括如何设置测试环境，准备所需的工具和资源，以便读者可以开始编写和执行他们自己的 API 测试。这个教程将有助于那些想要学习如何使用 Pytest 进行 API 测试的初学者入门并准备好他们的开发环境。"><meta property="og:type" content="article"><meta property="og:url" content="https://naodeng.tech/zh/post/pytest-tutorial-getting-started-and-own-environment-preparation/"><meta property="og:image" content="https://naodeng.tech/images/site-feature-image.png"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-11-13T18:11:15+08:00"><meta property="article:modified_time" content="2023-11-13T18:11:15+08:00"><meta property="og:site_name" content="QA Discovery"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"post","name":"Pytest 教程：入门介绍和环境搭建准备","headline":"Pytest 教程：入门介绍和环境搭建准备","alternativeHeadline":"","description":"
      这个博客的内容将是关于 Pytest 的教程，主要包括入门介绍和环境搭建准备。在博客中，读者将了解什么是 Pytest 以及如何开始使用它来进行 API 测试。教程将涵盖 Pytest 的基本概念，包括如何设置测试环境，准备所需的工具和资源，以便读者可以开始编写和执行他们自己的 API 测试。这个教程将有助于那些想要学习如何使用 Pytest 进行 API 测试的初学者入门并准备好他们的开发环境。


    ","inLanguage":"zh","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/naodeng.tech\/zh\/post\/pytest-tutorial-getting-started-and-own-environment-preparation\/"},"author":{"@type":"Person","name":"nao.deng"},"creator":{"@type":"Person","name":"nao.deng"},"accountablePerson":{"@type":"Person","name":"nao.deng"},"copyrightHolder":{"@type":"Person","name":"nao.deng"},"copyrightYear":"2023","dateCreated":"2023-11-13T18:11:15.00Z","datePublished":"2023-11-13T18:11:15.00Z","dateModified":"2023-11-13T18:11:15.00Z","publisher":{"@type":"Organization","name":"nao.deng","url":"https://naodeng.tech/","logo":{"@type":"ImageObject","url":"https:\/\/naodeng.tech\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://naodeng.tech/images/site-feature-image.png"],"url":"https:\/\/naodeng.tech\/zh\/post\/pytest-tutorial-getting-started-and-own-environment-preparation\/","wordCount":"252","genre":["API automation testing","Pytest"],"keywords":["入门介绍"]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src="https://avatars.githubusercontent.com/u/7599466?v=4" alt="profile picture"><div class=sidebar__introduction-title><a href=/zh>QA Discovery</a></div><div class=sidebar__introduction-description><p>质量分析师，而非质量保证师</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://github.com/naodeng/ target=_blank rel="noopener me" aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://naodeng.medium.com/ target=_blank rel="noopener me" aria-label=medium title=medium><i class="fab fa-medium fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=mailto:dengnao@gmail.com target=_blank rel="noopener me" aria-label=e-mail title=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
2015-2023 naodeng ｜ wechat: teststudents</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JBX883ZDJJ",{anonymize_ip:!1})}</script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/zh/ title>首页</a></li><li class=nav__list-item><a href=/zh/post/ title>文章</a></li><li class=nav__list-item><a href=/zh/categories/ title>分类</a></li><li class=nav__list-item><a href=/zh/tags/ title>标签</a></li><li class=nav__list-item><a href=https://github.com/naodeng/naodeng/blob/master/README_CN.md target=_blank rel="noopener noreferrer" title>关于</a></li><li class=nav__list-item><a href=https://naodeng-umami.vercel.app/share/OksEL34H/nao.deng target=_blank rel="noopener noreferrer" title>网站统计</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Pytest 教程：入门介绍和环境搭建准备</h1><ul class=post__meta><li class=post__meta-item><em class="fas fa-calendar-day post__meta-icon"></em>
<span class=post__meta-text>Mon, Nov 13, 2023</span></li><li class=post__meta-item><em class="fas fa-stopwatch post__meta-icon"></em>
<span class=post__meta-text>2-minute read</span></li></ul><ul><li><a href=#%E4%BB%8B%E7%BB%8D>介绍</a><ul><li><a href=#pytest-%E4%BB%8B%E7%BB%8D>Pytest 介绍</a></li><li><a href=#python-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D>python 虚拟环境介绍</a></li></ul></li><li><a href=#%E9%A1%B9%E7%9B%AE%E4%BE%9D%E8%B5%96>项目依赖</a></li><li><a href=#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84>项目目录结构</a></li><li><a href=#%E5%8F%82%E8%80%83>参考</a></li></ul><h2 id=介绍>介绍</h2><h3 id=pytest-介绍>Pytest 介绍</h3><p>Pytest 是一个流行的 Python 测试框架，用于编写、组织和运行各种类型的自动化测试。它提供了丰富的功能，使您能够轻松编写和管理测试用例，以及生成详细的测试报告。以下是 Pytest 的一些主要特点和优势：</p><ol><li><p><strong>简单和易用</strong>：Pytest 的设计使得编写测试用例变得简单且易于理解。您可以使用 Python 的标准 <code>assert</code> 语句来编写测试断言，而不需要学习新的断言语法。</p></li><li><p><strong>自动发现测试用例</strong>：Pytest 可以自动发现和运行项目中的测试用例，而不需要显式配置测试套件。测试用例文件可以命名为 <code>test_*.py</code> 或 <code>*_test.py</code>，或使用特定的测试函数命名规范。</p></li><li><p><strong>丰富的插件生态系统</strong>：Pytest 可以通过插件扩展其功能。有许多第三方插件可用，以满足不同测试需求，如 Allure 报告、参数化、覆盖率分析等。</p></li><li><p><strong>参数化测试</strong>：Pytest 支持参数化测试，允许您运行相同的测试用例多次，但使用不同的参数。这可以减少代码重复，提高测试覆盖率。</p></li><li><p><strong>异常和故障定位</strong>：Pytest 提供详细的错误和异常信息，有助于您更容易地定位和解决问题。它还提供详细的回溯（traceback）信息。</p></li><li><p><strong>并行测试执行</strong>：Pytest 支持并行执行测试用例，提高了测试执行的速度，特别是在大型项目中。</p></li><li><p><strong>多种报告格式</strong>：Pytest 支持多种测试报告格式，包括终端输出、JUnit XML、HTML 报告和 Allure 报告等。这些报告可以帮助您可视化测试结果。</p></li><li><p><strong>命令行选项</strong>：Pytest 提供了丰富的命令行选项，以定制测试运行的行为，包括过滤、重试、覆盖率分析等。</p></li><li><p><strong>集成性</strong>：Pytest 可以与其他测试框架和工具（如 Selenium、Django、Flask 等）以及持续集成系统（如 Jenkins、Travis CI 等）轻松集成。</p></li><li><p><strong>活跃的社区</strong>：Pytest 拥有一个活跃的社区，有广泛的文档和教程可供学习和参考。您还可以在社区中获得支持和解决问题。</p></li></ol><p>总之，Pytest 是一个强大且灵活的测试框架，适用于各种规模和类型的项目。它的易用性、自动化能力以及丰富的插件使它成为 Python 测试领域的首选工具之一。</p><p>官方网站：<a href=https://docs.pytest.org/en/latest/>https://docs.pytest.org/en/latest/</a></p><h3 id=python-虚拟环境介绍>python 虚拟环境介绍</h3><p>Python 虚拟环境（Virtual Environment）是一种机制，用于在单个 Python 安装中创建和管理多个隔离的开发环境。虚拟环境有助于解决不同项目之间的依赖冲突问题，确保每个项目都能够使用其独立的 Python 包和库，而不会相互干扰。以下是如何创建和使用 Python 虚拟环境的步骤：</p><ol><li><p><strong>安装虚拟环境工具</strong>:
在开始之前，确保您已安装 Python 的虚拟环境工具。在 Python 3.3 及更高版本中，<code>venv</code> 模块已经内置，可以使用它来创建虚拟环境。如果您使用较旧版本的 Python，您可以安装 <code>virtualenv</code> 工具。</p><p>对于 Python 3.3+，<code>venv</code> 工具已内置，无需额外安装。</p><p>对于 Python 2.x，可以使用以下命令安装 <code>virtualenv</code> 工具：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install virtualenv
</span></span></code></pre></div></li><li><p><strong>创建虚拟环境</strong>:
打开终端，移动到您希望创建虚拟环境的目录，并运行以下命令以创建虚拟环境：</p><p>使用 <code>venv</code>（适用于 Python 3.3+）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python -m venv myenv
</span></span></code></pre></div><p>使用 <code>virtualenv</code>（适用于 Python 2.x）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>virtualenv myenv
</span></span></code></pre></div><p>在上述命令中，<code>myenv</code> 是虚拟环境的名称，您可以自定义名称。</p></li><li><p><strong>激活虚拟环境</strong>:
要开始使用虚拟环境，需要激活它。在不同的操作系统中，激活命令略有不同：</p><ul><li><p>在 macOS 和 Linux 上：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>source</span> myenv/bin/activate
</span></span></code></pre></div></li><li><p>在 Windows 上（使用 Command Prompt）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>myenv<span class=se>\S</span>cripts<span class=se>\a</span>ctivate
</span></span></code></pre></div></li><li><p>在 Windows 上（使用 PowerShell）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>.<span class=se>\m</span>yenv<span class=se>\S</span>cripts<span class=se>\A</span>ctivate.ps1
</span></span></code></pre></div></li></ul><p>一旦虚拟环境激活，您会在终端提示符前看到虚拟环境的名称，表示您已进入虚拟环境。</p></li><li><p><strong>在虚拟环境中安装依赖</strong>:
在虚拟环境中，您可以使用 <code>pip</code> 安装项目所需的任何 Python 包和库，这些依赖将与该虚拟环境关联。例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install requests
</span></span></code></pre></div></li><li><p><strong>使用虚拟环境</strong>:
在虚拟环境中工作时，您可以运行 Python 脚本和使用安装在虚拟环境中的包。这确保了您的项目在独立的环境中运行，不会与全局 Python 安装产生冲突。</p></li><li><p><strong>退出虚拟环境</strong>:
要退出虚拟环境，只需在终端中运行以下命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>deactivate
</span></span></code></pre></div><p>这将使您返回到全局 Python 环境。</p></li></ol><p>通过使用虚拟环境，您可以在不同项目之间维护干净的依赖关系，并确保项目的稳定性和隔离性。这是 Python 开发中的一个良好实践。</p><h2 id=项目依赖>项目依赖</h2><blockquote><p>需提前安装好以下环境</p></blockquote><ul><li><input checked disabled type=checkbox> python, demo 版本为 v3.11.6</li></ul><blockquote><p>大家安装 python3.x 以上的版本即可</p></blockquote><h2 id=项目目录结构>项目目录结构</h2><p>以下为一个 Pytest 接口自动化测试项目的目录结构示例：</p><blockquote><p>后续 demo 项目会引入 allure 报告，所以会多出一个 allure-report 目录</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Pytest-allure-demo/
</span></span><span class=line><span class=cl>    ├── tests/                  # 存放测试用例文件
</span></span><span class=line><span class=cl>    │   ├── test_login.py       # 示例测试用例文件
</span></span><span class=line><span class=cl>    │   ├── test_order.py       # 示例测试用例文件
</span></span><span class=line><span class=cl>    │   └── ...
</span></span><span class=line><span class=cl>    ├── data/                   # 存放测试数据文件（如 JSON、CSV 等）
</span></span><span class=line><span class=cl>    │   ├── dev_test_data.json      # 开发环境测试数据文件
</span></span><span class=line><span class=cl>    │   ├── prod_test_data.json      # 生产环境测试数据文件
</span></span><span class=line><span class=cl>    │   ├── ...
</span></span><span class=line><span class=cl>    ├── config/
</span></span><span class=line><span class=cl>    │   ├── dev_config.json  # 开发环境配置文件
</span></span><span class=line><span class=cl>    │   ├── prod_config.json  # 生产环境配置文件
</span></span><span class=line><span class=cl>    │   ├── ...
</span></span><span class=line><span class=cl>    ├── conftest.py             # Pytest 的全局配置文件
</span></span><span class=line><span class=cl>    ├── pytest.ini              # Pytest 配置文件
</span></span><span class=line><span class=cl>    ├── requirements.txt        # 项目依赖项文件
</span></span><span class=line><span class=cl>    └── allure-report/          # 存放 Allure 报告
</span></span></code></pre></div><h2 id=参考>参考</h2><ul><li>Pytest: <a href=https://docs.pytest.org/en/latest/>https://docs.pytest.org/en/latest/</a></li></ul><h3>Related Posts</h3><ul><li><a href=/zh/post/pytest-tutorial-building-your-own-project-from-0-to-1/>Pytest 教程：从 0 到 1 搭建 Pytest 接口自动化测试项目</a></li><li><a href=/zh/post/supertest-tutorial-getting-started-and-own-environment-preparation/>SuperTest 教程：入门介绍和环境搭建准备</a></li><li><a href=/zh/post/supertest-tutorial-advance-usage-multiple-environment-support/>SuperTest 教程：进阶用法 - 多环境支持</a></li><li><a href=/zh/post/supertest-tutorial-advance-usage-data-driven/>SuperTest 教程：进阶用法 - 数据驱动</a></li></ul></div><div class=post__footer><span><a class=category href=/zh/categories/api-automation-testing/>API automation testing</a><a class=category href=/zh/categories/pytest/>Pytest</a></span>
<span><a class=tag href=/zh/tags/%E5%85%A5%E9%97%A8%E4%BB%8B%E7%BB%8D/>入门介绍</a></span></div><div id=comment><h2>comments</h2><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//naodeng-tech.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
2015-2023 naodeng ｜ wechat: teststudents</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JBX883ZDJJ",{anonymize_ip:!1})}</script></body></html>