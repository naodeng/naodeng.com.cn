<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment | Nao&#39;s Blog</title>
<meta name="keywords" content="Getting Started">
<meta name="description" content="a tutorial on Pytest, focusing on getting started and preparing the environment to be built.">
<meta name="author" content="nao.deng">
<link rel="canonical" href="http://localhost:1313/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/">
<meta name="google-site-verification" content="google5e9a7c9479924ed2">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/zh/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<meta name="baidu-site-verification" content="codeva-2siuZUJUWf" />

<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "56f727a52e3349f6947d888452fecc8a"}'>
</script>
<meta http-equiv="Content-Type" content="text/html;charset=gb2312" />
<meta name="sogou_site_verification" content="iwkYDJrzfK" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7249159446737834"
     crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-JBX883ZDJJ', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment" />
<meta property="og:description" content="a tutorial on Pytest, focusing on getting started and preparing the environment to be built." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/" /><meta property="og:image" content="http://localhost:1313/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-13T18:11:15+08:00" />
<meta property="article:modified_time" content="2023-11-13T18:11:15+08:00" />



<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://localhost:1313/papermod-cover.png"/>

<meta name="twitter:title" content="Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment"/>
<meta name="twitter:description" content="a tutorial on Pytest, focusing on getting started and preparing the environment to be built."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment",
      "item": "http://localhost:1313/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment",
  "name": "Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment",
  "description": "a tutorial on Pytest, focusing on getting started and preparing the environment to be built.",
  "keywords": [
    "Getting Started"
  ],
  "articleBody": "Introduction Introducing Pytest Pytest is a popular Python testing framework for writing, organizing, and running various types of automated tests. It provides a rich set of features that make it easy to write and manage test cases, as well as generate detailed test reports. Here are some of the key features and benefits of Pytest:\nSimple and easy to use Pytest is designed to make writing test cases simple and easy to understand. You can write test assertions using Pythonâ€™s standard assert statement without having to learn a new assertion syntax.\nAutomatic Discovery of Test Cases Pytest can automatically discover and run test cases in your project without explicitly configuring the test suite. Test case files can be named test_*.py or *_test.py, or use a specific test function naming convention.\nRich plugin ecosystem Pytest can be extended with plugins. There are many third-party plug-ins available to meet different testing needs, such as Allure reporting, parameterization, coverage analysis, and so on.\nParameterized Testing Pytest supports parameterized testing, which allows you to run the same test case multiple times, but with different parameters. This reduces code duplication and improves test coverage.\nException and fault localization Pytest provides detailed error and exception information that helps you locate and resolve problems more easily. It also provides detailed traceback information.\nParallel Test Execution Pytest supports parallel execution of test cases, which increases the speed of test execution, especially in large projects.\nMultiple Report Formats Pytest supports multiple test report formats, including terminal output, JUnit XML, HTML reports and Allure reports. These reports can help you visualize test results.\nCommand Line Options Pytest provides a rich set of command line options to customize the behavior of test runs, including filtering, retrying, coverage analysis, and more.\nIntegration Pytest can be easily integrated with other testing frameworks and tools (e.g. Selenium, Django, Flask, etc.) as well as continuous integration systems (e.g. Jenkins, Travis CI, etc.).\nActive Community Pytest has an active community with extensive documentation and tutorials for learning and reference. You can also get support and solve problems in the community.\nIn short, Pytest is a powerful and flexible testing framework for projects of all sizes and types. Its ease of use, automation capabilities, and rich set of plugins make it one of the go-to tools in Python testing.\nOfficial website: https://docs.pytest.org/en/latest/\nIntroduction to python virtual environments A Python virtual environment is a mechanism for creating and managing multiple isolated development environments within a single Python installation. Virtual environments help resolve dependency conflicts between different projects by ensuring that each project can use its own independent Python packages and libraries without interfering with each other. Here are the steps on how to create and use a Python virtual environment:\nInstall the Virtual Environment Tool Before you begin, make sure you have installed Pythonâ€™s virtual environment tools. In Python 3.3 and later, the venv module is built-in and can be used to create virtual environments. If youâ€™re using an older version of Python, you can install the virtualenv tool.\nFor Python 3.3+, the venv tool is built-in and does not require additional installation.\nFor Python 2.x, you can install the virtualenv tool with the following command:\npip install virtualenv Creating a virtual environment Open a terminal, move to the directory where you wish to create the virtual environment, and run the following command to create the virtual environment:\nUse venv (for Python 3.3+):\npython -m venv myenv Use virtualenv (for Python 2.x):\nvirtualenv myenv In the above command, myenv is the name of the virtual environment and you can customize the name.\nActivate virtual environment To start using the virtual environment, you need to activate it. The activation command is slightly different for different operating systems:\non macOS and Linux: source myenv/bin/activate On Windows (using Command Prompt): myenv\\Scripts\\activate On Windows (using PowerShell): .\\myenv\\Scripts\\Activate.ps1 Once the virtual environment is activated, you will see the name of the virtual environment in front of the terminal prompt, indicating that you are in the virtual environment.\nInstalling dependencies in a virtual environment In a virtual environment, you can use pip to install any Python packages and libraries required by your project, and these dependencies will be associated with that virtual environment. Example:\npip install requests Using a virtual environment When working in a virtual environment, you can run Python scripts and use packages installed in the virtual environment. This ensures that your project runs in a separate environment and does not conflict with the global Python installation.\nExiting the virtual environment To exit the virtual environment, simply run the following command in a terminal:\ndeactivate This returns you to the global Python environment.\nBy using a virtual environment, you can maintain clean dependencies between projects and ensure project stability and isolation. This is a good practice in Python development.\nProject dependencies The following environments need to be installed in advance\npython, demo version is v3.11.6 Just install python 3.x or higher.\nProject directory structure The following is an example of the directory structure of a Pytest API automation test project:\nSubsequent demo projects will introduce allure reports, so there will be an additional allure-report directory.\nPytest-allure-demo/ â”œâ”€â”€ tests/ # test case files â”‚ â”œâ”€â”€ test_login.py # Example test case file â”‚ â”œâ”€â”€ test_order.py # Example test case file â”‚ â””â”€â”€ ... â”œâ”€â”€ data/ # test data files (e.g. JSON, CSV, etc.) â”‚ â”œâ”€â”€ dev_test_data.json # Test data file for development environment. â”‚ â”œâ”€â”€ prod_test_data.json # Test data file for prod environment. â”‚ â”œâ”€â”€ ... â”œâ”€â”€ config/ â”‚ â”œâ”€â”€ dev_config.json # Development environment configuration file â”‚ â”œâ”€â”€ prod_config.json # Production environment configuration file â”‚ â”œâ”€â”€ ... â”œâ”€â”€ conftest.py # Pytest's global configuration file â”œâ”€â”€ pytest.ini # Pytest configuration file â”œâ”€â”€ requirements.txt # Project dependencies file â””â”€â”€ allure-report/ # Allure reports reference pytest: https://docs.pytest.org/en/latest/ ",
  "wordCount" : "960",
  "inLanguage": "en",
  "datePublished": "2023-11-13T18:11:15+08:00",
  "dateModified": "2023-11-13T18:11:15+08:00",
  "author":{
    "@type": "Person",
    "name": "nao.deng"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Nao's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Nao&#39;s Blog (Alt + H)">Nao&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/zh/" title="ðŸ‡¨ðŸ‡³ä¸­æ–‡"
                            aria-label="ðŸ‡¨ðŸ‡³ä¸­æ–‡">ðŸ‡¨ðŸ‡³ä¸­æ–‡</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/series/" title="Series">
                    <span>Series</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment
    </h1>
    <div class="post-meta"><span title='2023-11-13 18:11:15 +0800 CST'>November 13, 2023</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;960 words&nbsp;Â·&nbsp;nao.deng&nbsp;|&nbsp;Translations:
<ul class="i18n_list">
    <li>
        <a href="http://localhost:1313/zh/posts/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/">ðŸ‡¨ðŸ‡³ä¸­æ–‡</a>
    </li>
</ul>&nbsp;|&nbsp;<a href="https://github.com/naodeng/naodeng.com.cn/tree/main/content/posts/API-Automation-Testing/pytest-tutorial-getting-started-and-own-environment-preparation.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a><ul>
                        
                <li>
                    <a href="#introducing-pytest" aria-label="Introducing Pytest">Introducing Pytest</a><ul>
                        
                <li>
                    <a href="#simple-and-easy-to-use" aria-label="Simple and easy to use">Simple and easy to use</a></li>
                <li>
                    <a href="#automatic-discovery-of-test-cases" aria-label="Automatic Discovery of Test Cases">Automatic Discovery of Test Cases</a></li>
                <li>
                    <a href="#rich-plugin-ecosystem" aria-label="Rich plugin ecosystem">Rich plugin ecosystem</a></li>
                <li>
                    <a href="#parameterized-testing" aria-label="Parameterized Testing">Parameterized Testing</a></li>
                <li>
                    <a href="#exception-and-fault-localization" aria-label="Exception and fault localization">Exception and fault localization</a></li>
                <li>
                    <a href="#parallel-test-execution" aria-label="Parallel Test Execution">Parallel Test Execution</a></li>
                <li>
                    <a href="#multiple-report-formats" aria-label="Multiple Report Formats">Multiple Report Formats</a></li>
                <li>
                    <a href="#command-line-options" aria-label="Command Line Options">Command Line Options</a></li>
                <li>
                    <a href="#integration" aria-label="Integration">Integration</a></li>
                <li>
                    <a href="#active-community" aria-label="Active Community">Active Community</a></li></ul>
                </li>
                <li>
                    <a href="#introduction-to-python-virtual-environments" aria-label="Introduction to python virtual environments">Introduction to python virtual environments</a><ul>
                        
                <li>
                    <a href="#install-the-virtual-environment-tool" aria-label="Install the Virtual Environment Tool">Install the Virtual Environment Tool</a></li>
                <li>
                    <a href="#creating-a-virtual-environment" aria-label="Creating a virtual environment">Creating a virtual environment</a></li>
                <li>
                    <a href="#activate-virtual-environment" aria-label="Activate virtual environment">Activate virtual environment</a></li>
                <li>
                    <a href="#installing-dependencies-in-a-virtual-environment" aria-label="Installing dependencies in a virtual environment">Installing dependencies in a virtual environment</a></li>
                <li>
                    <a href="#using-a-virtual-environment" aria-label="Using a virtual environment">Using a virtual environment</a></li>
                <li>
                    <a href="#exiting-the-virtual-environment" aria-label="Exiting the virtual environment">Exiting the virtual environment</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#project-dependencies" aria-label="Project dependencies">Project dependencies</a></li>
                <li>
                    <a href="#project-directory-structure" aria-label="Project directory structure">Project directory structure</a></li>
                <li>
                    <a href="#reference" aria-label="reference">reference</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<h3 id="introducing-pytest">Introducing Pytest<a hidden class="anchor" aria-hidden="true" href="#introducing-pytest">#</a></h3>
<p>Pytest is a popular Python testing framework for writing, organizing, and running various types of automated tests. It provides a rich set of features that make it easy to write and manage test cases, as well as generate detailed test reports. Here are some of the key features and benefits of Pytest:</p>
<h4 id="simple-and-easy-to-use"><strong>Simple and easy to use</strong><a hidden class="anchor" aria-hidden="true" href="#simple-and-easy-to-use">#</a></h4>
<p>Pytest is designed to make writing test cases simple and easy to understand. You can write test assertions using Python&rsquo;s standard <code>assert</code> statement without having to learn a new assertion syntax.</p>
<h4 id="automatic-discovery-of-test-cases"><strong>Automatic Discovery of Test Cases</strong><a hidden class="anchor" aria-hidden="true" href="#automatic-discovery-of-test-cases">#</a></h4>
<p>Pytest can automatically discover and run test cases in your project without explicitly configuring the test suite. Test case files can be named <code>test_*.py</code> or <code>*_test.py</code>, or use a specific test function naming convention.</p>
<h4 id="rich-plugin-ecosystem"><strong>Rich plugin ecosystem</strong><a hidden class="anchor" aria-hidden="true" href="#rich-plugin-ecosystem">#</a></h4>
<p>Pytest can be extended with plugins. There are many third-party plug-ins available to meet different testing needs, such as Allure reporting, parameterization, coverage analysis, and so on.</p>
<h4 id="parameterized-testing"><strong>Parameterized Testing</strong><a hidden class="anchor" aria-hidden="true" href="#parameterized-testing">#</a></h4>
<p>Pytest supports parameterized testing, which allows you to run the same test case multiple times, but with different parameters. This reduces code duplication and improves test coverage.</p>
<h4 id="exception-and-fault-localization"><strong>Exception and fault localization</strong><a hidden class="anchor" aria-hidden="true" href="#exception-and-fault-localization">#</a></h4>
<p>Pytest provides detailed error and exception information that helps you locate and resolve problems more easily. It also provides detailed traceback information.</p>
<h4 id="parallel-test-execution"><strong>Parallel Test Execution</strong><a hidden class="anchor" aria-hidden="true" href="#parallel-test-execution">#</a></h4>
<p>Pytest supports parallel execution of test cases, which increases the speed of test execution, especially in large projects.</p>
<h4 id="multiple-report-formats"><strong>Multiple Report Formats</strong><a hidden class="anchor" aria-hidden="true" href="#multiple-report-formats">#</a></h4>
<p>Pytest supports multiple test report formats, including terminal output, JUnit XML, HTML reports and Allure reports. These reports can help you visualize test results.</p>
<h4 id="command-line-options"><strong>Command Line Options</strong><a hidden class="anchor" aria-hidden="true" href="#command-line-options">#</a></h4>
<p>Pytest provides a rich set of command line options to customize the behavior of test runs, including filtering, retrying, coverage analysis, and more.</p>
<h4 id="integration"><strong>Integration</strong><a hidden class="anchor" aria-hidden="true" href="#integration">#</a></h4>
<p>Pytest can be easily integrated with other testing frameworks and tools (e.g. Selenium, Django, Flask, etc.) as well as continuous integration systems (e.g. Jenkins, Travis CI, etc.).</p>
<h4 id="active-community"><strong>Active Community</strong><a hidden class="anchor" aria-hidden="true" href="#active-community">#</a></h4>
<p>Pytest has an active community with extensive documentation and tutorials for learning and reference. You can also get support and solve problems in the community.</p>
<p>In short, Pytest is a powerful and flexible testing framework for projects of all sizes and types. Its ease of use, automation capabilities, and rich set of plugins make it one of the go-to tools in Python testing.</p>
<p>Official website: <a href="https://docs.pytest.org/en/latest/">https://docs.pytest.org/en/latest/</a></p>
<h3 id="introduction-to-python-virtual-environments">Introduction to python virtual environments<a hidden class="anchor" aria-hidden="true" href="#introduction-to-python-virtual-environments">#</a></h3>
<p>A Python virtual environment is a mechanism for creating and managing multiple isolated development environments within a single Python installation. Virtual environments help resolve dependency conflicts between different projects by ensuring that each project can use its own independent Python packages and libraries without interfering with each other. Here are the steps on how to create and use a Python virtual environment:</p>
<h4 id="install-the-virtual-environment-tool"><strong>Install the Virtual Environment Tool</strong><a hidden class="anchor" aria-hidden="true" href="#install-the-virtual-environment-tool">#</a></h4>
<p>Before you begin, make sure you have installed Python&rsquo;s virtual environment tools. In Python 3.3 and later, the <code>venv</code> module is built-in and can be used to create virtual environments. If you&rsquo;re using an older version of Python, you can install the <code>virtualenv</code> tool.</p>
<p>For Python 3.3+, the <code>venv</code> tool is built-in and does not require additional installation.</p>
<p>For Python 2.x, you can install the <code>virtualenv</code> tool with the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install virtualenv
</span></span></code></pre></div><h4 id="creating-a-virtual-environment"><strong>Creating a virtual environment</strong><a hidden class="anchor" aria-hidden="true" href="#creating-a-virtual-environment">#</a></h4>
<p>Open a terminal, move to the directory where you wish to create the virtual environment, and run the following command to create the virtual environment:</p>
<p>Use <code>venv</code> (for Python 3.3+):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python -m venv myenv
</span></span></code></pre></div><p>Use <code>virtualenv</code> (for Python 2.x):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virtualenv myenv
</span></span></code></pre></div><p>In the above command, <code>myenv</code> is the name of the virtual environment and you can customize the name.</p>
<h4 id="activate-virtual-environment"><strong>Activate virtual environment</strong><a hidden class="anchor" aria-hidden="true" href="#activate-virtual-environment">#</a></h4>
<p>To start using the virtual environment, you need to activate it. The activation command is slightly different for different operating systems:</p>
<ul>
<li>on macOS and Linux:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">source</span> myenv/bin/activate
</span></span></code></pre></div><ul>
<li>On Windows (using Command Prompt):</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">myenv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
</span></span></code></pre></div><ul>
<li>On Windows (using PowerShell):</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">.<span class="se">\m</span>yenv<span class="se">\S</span>cripts<span class="se">\A</span>ctivate.ps1
</span></span></code></pre></div><p>Once the virtual environment is activated, you will see the name of the virtual environment in front of the terminal prompt, indicating that you are in the virtual environment.</p>
<h4 id="installing-dependencies-in-a-virtual-environment"><strong>Installing dependencies in a virtual environment</strong><a hidden class="anchor" aria-hidden="true" href="#installing-dependencies-in-a-virtual-environment">#</a></h4>
<p>In a virtual environment, you can use <code>pip</code> to install any Python packages and libraries required by your project, and these dependencies will be associated with that virtual environment. Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install requests
</span></span></code></pre></div><h4 id="using-a-virtual-environment"><strong>Using a virtual environment</strong><a hidden class="anchor" aria-hidden="true" href="#using-a-virtual-environment">#</a></h4>
<p>When working in a virtual environment, you can run Python scripts and use packages installed in the virtual environment. This ensures that your project runs in a separate environment and does not conflict with the global Python installation.</p>
<h4 id="exiting-the-virtual-environment"><strong>Exiting the virtual environment</strong><a hidden class="anchor" aria-hidden="true" href="#exiting-the-virtual-environment">#</a></h4>
<p>To exit the virtual environment, simply run the following command in a terminal:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">deactivate
</span></span></code></pre></div><p>This returns you to the global Python environment.</p>
<p>By using a virtual environment, you can maintain clean dependencies between projects and ensure project stability and isolation. This is a good practice in Python development.</p>
<h2 id="project-dependencies">Project dependencies<a hidden class="anchor" aria-hidden="true" href="#project-dependencies">#</a></h2>
<blockquote>
<p>The following environments need to be installed in advance</p>
</blockquote>
<ul>
<li><input checked="" disabled="" type="checkbox"> python, demo version is v3.11.6</li>
</ul>
<blockquote>
<p>Just install python 3.x or higher.</p>
</blockquote>
<h2 id="project-directory-structure">Project directory structure<a hidden class="anchor" aria-hidden="true" href="#project-directory-structure">#</a></h2>
<p>The following is an example of the directory structure of a Pytest API automation test project:</p>
<blockquote>
<p>Subsequent demo projects will introduce allure reports, so there will be an additional allure-report directory.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Pytest-allure-demo/
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ tests/                  # test case files
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ test_login.py       # Example test case file
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ test_order.py       # Example test case file
</span></span><span class="line"><span class="cl">    â”‚   â””â”€â”€ ...
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ data/                   # test data files (e.g. JSON, CSV, etc.)
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ dev_test_data.json      #  Test data file for development environment.
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ prod_test_data.json      #  Test data file for prod environment.
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ ...
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ config/
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ dev_config.json  # Development environment configuration file
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ prod_config.json  # Production environment configuration file
</span></span><span class="line"><span class="cl">    â”‚   â”œâ”€â”€ ...
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ conftest.py             # Pytest&#39;s global configuration file
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ pytest.ini              # Pytest configuration file
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ requirements.txt        # Project dependencies file
</span></span><span class="line"><span class="cl">    â””â”€â”€ allure-report/          # Allure reports
</span></span></code></pre></div><h2 id="reference">reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h2>
<ul>
<li>pytest: <a href="https://docs.pytest.org/en/latest/">https://docs.pytest.org/en/latest/</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/getting-started/">Getting Started</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/api-automation-testing/pytest-tutorial-building-your-own-project-from-0-to-1/">
    <span class="title">Â« Prev</span>
    <br>
    <span>Pytest API Automation Testing Tutorial: Building a Pytest API Automation Test project from 0 to 1</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/api-automation-testing/supertest-tutorial-advance-usage-multiple-environment-support/">
    <span class="title">Next Â»</span>
    <br>
    <span>SuperTest API Automation Testing Tutorial Advance Usage - Multiple Environment Support</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on x"
            href="https://x.com/intent/tweet/?text=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f&amp;hashtags=GettingStarted">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f&amp;title=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment&amp;summary=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f&title=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on whatsapp"
            href="https://api.whatsapp.com/send?text=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on telegram"
            href="https://telegram.me/share/url?text=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Pytest%20API%20Automation%20Testing%20Tutorial%3a%20Getting%20Started%20and%20Setting%20Up%20Your%20Environment&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fapi-automation-testing%2fpytest-tutorial-getting-started-and-own-environment-preparation%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
<script src="https://giscus.app/client.js"
        data-repo="naodeng/naodeng.tech"
        data-repo-id="R_kgDOHntNtg"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHntNts4Cavst"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/">Nao&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
