<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ | è½¯ä»¶æµ‹è¯•åŒå­¦</title>
<meta name="keywords" content="">
<meta name="description" content="æ·±å…¥ç ”ç©¶ Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•çš„é«˜çº§ç”¨æ³•ï¼Œä¸“æ³¨äºå¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œç¬¬ä¸‰æ–¹åŒ…ç¤ºä¾‹ã€‚æ¢è®¨å¦‚ä½•ç¼–å†™å¼ºå¤§çš„æµ‹è¯•è„šæœ¬ï¼Œæ¶µç›–å„ç§æµ‹è¯•åœºæ™¯ï¼Œå¹¶ä»‹ç»ä¸€äº›å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œä¼˜åŒ–æµ‹è¯•æµç¨‹ã€‚">
<meta name="author" content="nao.deng">
<link rel="canonical" href="http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/">
<meta name="google-site-verification" content="google5e9a7c9479924ed2">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<meta name="baidu-site-verification" content="codeva-2siuZUJUWf" />

<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "56f727a52e3349f6947d888452fecc8a"}'>
</script>

<script defer data-website-id="b3b285c9-3c35-4398-9252-91bb70560b84" src="https://naodeng-umami.vercel.app/hugo.js"></script>
<meta http-equiv="Content-Type" content="text/html;charset=gb2312" />
<meta name="sogou_site_verification" content="iwkYDJrzfK" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7249159446737834"
     crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-JBX883ZDJJ', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹" />
<meta property="og:description" content="æ·±å…¥ç ”ç©¶ Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•çš„é«˜çº§ç”¨æ³•ï¼Œä¸“æ³¨äºå¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œç¬¬ä¸‰æ–¹åŒ…ç¤ºä¾‹ã€‚æ¢è®¨å¦‚ä½•ç¼–å†™å¼ºå¤§çš„æµ‹è¯•è„šæœ¬ï¼Œæ¶µç›–å„ç§æµ‹è¯•åœºæ™¯ï¼Œå¹¶ä»‹ç»ä¸€äº›å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œä¼˜åŒ–æµ‹è¯•æµç¨‹ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/" /><meta property="og:image" content="http://localhost:1313/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-23T17:37:00+08:00" />
<meta property="article:modified_time" content="2023-11-23T17:37:00+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://localhost:1313/papermod-cover.png"/>

<meta name="twitter:title" content="Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹"/>
<meta name="twitter:description" content="æ·±å…¥ç ”ç©¶ Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•çš„é«˜çº§ç”¨æ³•ï¼Œä¸“æ³¨äºå¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œç¬¬ä¸‰æ–¹åŒ…ç¤ºä¾‹ã€‚æ¢è®¨å¦‚ä½•ç¼–å†™å¼ºå¤§çš„æµ‹è¯•è„šæœ¬ï¼Œæ¶µç›–å„ç§æµ‹è¯•åœºæ™¯ï¼Œå¹¶ä»‹ç»ä¸€äº›å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œä¼˜åŒ–æµ‹è¯•æµç¨‹ã€‚"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/zh/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹",
      "item": "http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹",
  "name": "Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹",
  "description": "æ·±å…¥ç ”ç©¶ Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•çš„é«˜çº§ç”¨æ³•ï¼Œä¸“æ³¨äºå¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œç¬¬ä¸‰æ–¹åŒ…ç¤ºä¾‹ã€‚æ¢è®¨å¦‚ä½•ç¼–å†™å¼ºå¤§çš„æµ‹è¯•è„šæœ¬ï¼Œæ¶µç›–å„ç§æµ‹è¯•åœºæ™¯ï¼Œå¹¶ä»‹ç»ä¸€äº›å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œä¼˜åŒ–æµ‹è¯•æµç¨‹ã€‚",
  "keywords": [
    
  ],
  "articleBody": "è¿›é˜¶ç”¨æ³• ä»¥ä¸‹ä¼šä»‹ç» Postman å’Œ Newman çš„ä¸€äº›è¿›é˜¶ç”¨æ³•ï¼ŒåŒ…æ‹¬å¸¸ç”¨æµ‹è¯•å“åº”æµ‹è¯•è„šæœ¬ï¼Œæµ‹è¯•å‰ç½®è„šæœ¬å’Œå¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å¯ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç­‰ã€‚\nå¸¸ç”¨æµ‹è¯•è„šæœ¬ Postman æä¾›äº†æµ‹è¯•è„šæœ¬åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ JavaScript ç¼–å†™è„šæœ¬æ¥éªŒè¯ API çš„å“åº”å’Œè¡Œä¸ºã€‚è¿™äº›è„šæœ¬å¯ä»¥åœ¨è¯·æ±‚çš„â€œTestsâ€æ ‡ç­¾ä¸‹æ·»åŠ ï¼Œåˆ†ä¸ºè¯·æ±‚å‰è„šæœ¬ï¼ˆPre-request Scriptï¼‰å’Œå“åº”åè„šæœ¬ï¼ˆTestsï¼‰ä¸¤ä¸ªéƒ¨åˆ†ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„ Postman å’Œ Newman æµ‹è¯•è„šæœ¬ï¼š\nå“åº”æµ‹è¯•è„šæœ¬ çŠ¶æ€ç æ£€æŸ¥ï¼š\npm.test(\"Status code is 200\", function () { pm.response.to.have.status(200); }); å“åº”æ—¶é—´æ£€æŸ¥ï¼š\npm.test(\"Response time is less than 200ms\", function () { pm.expect(pm.response.responseTime).to.be.below(200); }); å“åº”ä½“ JSON æ ¼å¼æ£€æŸ¥ï¼š\npm.test(\"Response body is a valid JSON\", function () { pm.response.to.be.json; }); å“åº”ä½“å­—æ®µå€¼æ£€æŸ¥ï¼š\npm.test(\"Response body contains expected value\", function () { pm.expect(pm.response.json().key).to.eql(\"expectedValue\"); }); å“åº”ä½“æ•°ç»„é•¿åº¦æ£€æŸ¥ï¼š\npm.test(\"Response body array has correct length\", function () { pm.expect(pm.response.json().arrayKey).to.have.lengthOf(3); }); å“åº”ä½“å±æ€§å­˜åœ¨æ€§æ£€æŸ¥ï¼š\npm.test(\"Response body has required properties\", function () { pm.expect(pm.response.json()).to.have.property(\"key\"); }); è¯·æ±‚å‰è„šæœ¬ åŠ¨æ€è®¾ç½®è¯·æ±‚å‚æ•°ï¼š\npm.variables.set(\"dynamicVariable\", \"dynamicValue\"); ä½¿ç”¨å…¨å±€å˜é‡è®¾ç½®è¯·æ±‚å¤´ï¼š\npm.request.headers.add({ key: 'Authorization', value: pm.globals.get('authToken') }); ç”Ÿæˆéšæœºæ•°å¹¶è®¾ç½®ä¸ºå˜é‡ï¼š\nconst randomNumber = Math.floor(Math.random() * 1000); pm.variables.set(\"randomNumber\", randomNumber); ç­¾åç”Ÿæˆæˆ–åŠ å¯†ç­‰æ“ä½œï¼š\n// ç¤ºä¾‹ï¼šä½¿ç”¨ CryptoJS è¿›è¡Œ HMAC SHA256 ç­¾å const CryptoJS = require('crypto-js'); const secretKey = 'yourSecretKey'; const message = 'dataToSign'; const signature = CryptoJS.HmacSHA256(message, secretKey).toString(CryptoJS.enc.Base64); pm.variables.set(\"signature\", signature); æµ‹è¯•è„šæœ¬ä¸­å¯ç”¨çš„ç¬¬ä¸‰æ–¹åº“ æä¾›çš„ require æ–¹æ³•å…è®¸æ‚¨ä½¿ç”¨æ²™ç®±å†…ç½®åº“æ¨¡å—ã€‚ä¸‹é¢åˆ—å‡ºäº†ä¸ªäººå¸¸ç”¨çš„å¯ç”¨åº“å’Œç¤ºä¾‹ æ›´å¤šå¯ç”¨çš„åº“å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°\nchai.js æ–­è¨€åº“æ–¹æ³• åœ¨ Postman çš„æµ‹è¯•è„šæœ¬ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Chai æ–­è¨€åº“æ¥ç¼–å†™æ–­è¨€ï¼Œä»¥éªŒè¯ä½ çš„ API å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚Chai æä¾›äº†å¤šç§æ–­è¨€é£æ ¼ï¼ŒåŒ…æ‹¬ BDDï¼ˆBehavior Driven Developmentï¼‰ã€TDDï¼ˆTest Driven Developmentï¼‰ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬çš„ Chai ä½¿ç”¨æ–¹æ³•ï¼š\n1. å®‰è£… Chai åœ¨ Postman çš„è„šæœ¬ç¯å¢ƒä¸­ï¼Œä½ æ— éœ€å•ç‹¬å®‰è£… Chaiï¼Œå› ä¸º Postman é»˜è®¤å·²ç»å†…ç½®äº† Chaiã€‚\n2. ä½¿ç”¨ BDD é£æ ¼æ–­è¨€ åœ¨ Postman çš„ â€œTestsâ€ éƒ¨åˆ†ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Chai çš„ BDD é£æ ¼æ–­è¨€ï¼Œä¾‹å¦‚ï¼š\n// å¼•å…¥ Chai åº“ const chai = require('chai'); // ä½¿ç”¨ BDD é£æ ¼æ–­è¨€ const expect = chai.expect; // ç¤ºä¾‹ï¼šéªŒè¯å“åº”çŠ¶æ€ç ä¸º 200 pm.test('Status code is 200', function() { expect(pm.response.code).to.equal(200); }); // ç¤ºä¾‹ï¼šéªŒè¯å“åº”ä½“æ˜¯ JSON pm.test('Response body is JSON', function() { expect(pm.response.headers.get('Content-Type')).to.include('application/json'); }); 3. ä½¿ç”¨ TDD é£æ ¼æ–­è¨€ // å¼•å…¥ Chai åº“ const chai = require('chai'); // ä½¿ç”¨ TDD é£æ ¼æ–­è¨€ const assert = chai.assert; // ç¤ºä¾‹ï¼šä½¿ç”¨ assert æ–­è¨€å“åº”çŠ¶æ€ç ä¸º 200 assert.equal(pm.response.code, 200, 'Status code should be 200'); 4. Chai æ”¯æŒçš„ä¸€äº›å¸¸ç”¨æ–­è¨€ ç›¸ç­‰æ€§ï¼š\nexpect(actual).to.equal(expected); åŒ…å«ï¼š\nexpect(actual).to.include(expected); ç±»å‹æ£€æŸ¥ï¼š\nexpect(actual).to.be.a('string'); å¤§äº/å°äºï¼š\nexpect(actual).to.be.above(expected); expect(actual).to.be.below(expected); ç©º/éç©ºï¼š\nexpect(actual).to.be.null; expect(actual).to.not.be.null; æ·±åº¦ç›¸ç­‰æ€§ï¼š\nexpect(actual).to.deep.equal(expected); ä»¥ä¸Šåªæ˜¯ Chai æ–­è¨€åº“çš„ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨æ›´å¤šçš„æ–­è¨€æ–¹æ³•å’Œç»„åˆã€‚Chai æä¾›äº†ä¸°å¯Œçš„æ–­è¨€åŠŸèƒ½ï¼Œå¯ä»¥æ»¡è¶³å„ç§æµ‹è¯•éœ€æ±‚ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥é˜… Chai çš„å®˜æ–¹æ–‡æ¡£ï¼šChai Documentationã€‚\nä½¿ç”¨ cheerio æ“ä½œ HTML æ–‡ä»¶ åœ¨ Postman ä¸­ï¼ŒCheerio æ˜¯ä¸€ä¸ªåŸºäº jQuery çš„åº“ï¼Œç”¨äºåœ¨æœåŠ¡å™¨ç«¯æ“ä½œ HTML æ–‡æ¡£ã€‚å®ƒå…è®¸ä½ ä½¿ç”¨ç±»ä¼¼äº jQuery çš„è¯­æ³•æ¥é€‰æ‹©å’Œæ“ä½œ HTML å…ƒç´ ï¼Œéå¸¸é€‚ç”¨äºè§£æå’Œæå– HTML é¡µé¢ä¸­çš„ä¿¡æ¯ã€‚åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Cheerio åº“è¿›è¡Œ HTML å“åº”çš„è§£æã€‚ä»¥ä¸‹æ˜¯ Cheerio åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ï¼š\nå®‰è£… Cheerioï¼š\nç”±äº Postman ä½¿ç”¨çš„æ˜¯ Node.js è¿è¡Œæ—¶ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ Postman çš„è„šæœ¬ä¸­å®‰è£… Cheerio æ¥ä½¿ç”¨å®ƒã€‚åœ¨è¯·æ±‚çš„ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… Cheerioï¼š // å®‰è£… Cheerio const cheerio = require('cheerio'); ä½¿ç”¨ Cheerio è§£æ HTMLï¼š\nåœ¨è¯·æ±‚çš„ â€œTestsâ€ éƒ¨åˆ†ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Cheerio è§£æ HTMLã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š // ä»å“åº”ä¸­è·å– HTML å†…å®¹ const htmlContent = pm.response.text(); // ä½¿ç”¨ Cheerio è§£æ HTML const $ = cheerio.load(htmlContent); // ç¤ºä¾‹ï¼šä» HTML ä¸­æå–æ ‡é¢˜æ–‡æœ¬ const titleText = $('title').text(); console.log('Title:', titleText); // ç¤ºä¾‹ï¼šä» HTML ä¸­æå–æ‰€æœ‰é“¾æ¥çš„ href å±æ€§ const links = []; $('a').each(function () { const link = $(this).attr('href'); links.push(link); }); console.log('Links:', links); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œcheerio.load(htmlContent) ç”¨äºåŠ è½½ HTML å†…å®¹ï¼Œå¹¶ä½¿ç”¨ç±»ä¼¼äº jQuery çš„è¯­æ³•æ¥é€‰æ‹©å’Œæ“ä½œå…ƒç´ ã€‚\næ³¨æ„äº‹é¡¹ï¼š\nCheerio ä¸»è¦ç”¨äºè§£æé™æ€ HTMLï¼Œå¯¹äºä½¿ç”¨ JavaScript åŠ¨æ€ç”Ÿæˆçš„å†…å®¹ï¼Œå¯èƒ½æ— æ³•æ­£å¸¸è·å–ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨ Puppeteer æˆ–å…¶ä»–æ”¯æŒ JavaScript æ‰§è¡Œçš„å·¥å…·ã€‚ è¿™åªæ˜¯ Cheerio åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚ä½¿ç”¨ Cheerio æä¾›çš„å„ç§é€‰æ‹©å™¨å’Œæ–¹æ³•ã€‚è¯·æŸ¥é˜… Cheerio çš„å®˜æ–¹æ–‡æ¡£ä»¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼šCheerio Documentationã€‚\nä½¿ç”¨ tv4 æ¥éªŒè¯ JSON Schema åœ¨ Postman ä¸­ï¼Œtv4 æ˜¯ä¸€ä¸ª JSON Schema éªŒè¯åº“ï¼Œç”¨äºéªŒè¯ JSON æ•°æ®æ˜¯å¦ç¬¦åˆç»™å®šçš„ JSON Schemaã€‚JSON Schema æ˜¯ä¸€ç§æè¿° JSON æ•°æ®ç»“æ„çš„è§„èŒƒï¼Œå®ƒå®šä¹‰äº† JSON å¯¹è±¡çš„å±æ€§ã€ç±»å‹å’Œå…¶ä»–çº¦æŸã€‚\nä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ tv4 è¿›è¡Œ JSON Schema éªŒè¯çš„åŸºæœ¬æ­¥éª¤ï¼š\nå®‰è£… tv4 åº“ï¼š\nç”±äº Postman ä½¿ç”¨çš„æ˜¯ Node.js è¿è¡Œæ—¶ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ Postman çš„è„šæœ¬ä¸­å®‰è£… tv4 æ¥ä½¿ç”¨å®ƒã€‚åœ¨è¯·æ±‚çš„ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… tv4ï¼š // å®‰è£… tv4 const tv4 = require('tv4'); å®šä¹‰ JSON Schemaï¼š\nåœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥åœ¨è¯·æ±‚çš„ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†å®šä¹‰ JSON Schemaã€‚JSON Schema å¯ä»¥ä½œä¸ºä¸€ä¸ª JavaScript å¯¹è±¡è¿›è¡Œå®šä¹‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š // å®šä¹‰ JSON Schema const jsonSchema = { \"type\": \"object\", \"properties\": { \"name\": { \"type\": \"string\" }, \"age\": { \"type\": \"number\" } }, \"required\": [\"name\", \"age\"] }; ä½¿ç”¨ tv4 è¿›è¡ŒéªŒè¯ï¼š\nåœ¨è¯·æ±‚çš„ â€œTestsâ€ éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ tv4 å¯¹ JSON æ•°æ®è¿›è¡ŒéªŒè¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š // è·å–å“åº”çš„ JSON æ•°æ® const jsonResponse = pm.response.json(); // ä½¿ç”¨ tv4 è¿›è¡Œ JSON Schema éªŒè¯ const isValid = tv4.validate(jsonResponse, jsonSchema); // æ£€æŸ¥éªŒè¯ç»“æœ pm.test('JSON is valid according to the schema', function() { pm.expect(isValid).to.be.true; }); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œtv4.validate(jsonResponse, jsonSchema) ç”¨äºéªŒè¯ jsonResponse æ˜¯å¦ç¬¦åˆ jsonSchema å®šä¹‰çš„è§„èŒƒã€‚éªŒè¯ç»“æœå­˜å‚¨åœ¨ isValid å˜é‡ä¸­ï¼Œç„¶åä½¿ç”¨ pm.test æ¥æ£€æŸ¥éªŒè¯ç»“æœã€‚\nè¿™åªæ˜¯ tv4 åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ï¼Œå®šä¹‰æ›´å¤æ‚çš„ JSON Schemaï¼Œå¹¶ä½¿ç”¨ tv4 çš„å…¶ä»–åŠŸèƒ½è¿›è¡Œæ›´çµæ´»çš„éªŒè¯ã€‚è¯·æŸ¥é˜… tv4 çš„å®˜æ–¹æ–‡æ¡£ä»¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼štv4 Documentationã€‚\nç”Ÿæˆ uuid åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ uuid æ¨¡å—æ¥ç”Ÿæˆ UUIDï¼ˆUniversally Unique Identifierï¼‰ï¼Œä¹Ÿè¢«ç§°ä¸º GUIDã€‚ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ uuid æ¨¡å—çš„åŸºæœ¬ç”¨æ³•ï¼š\n1. å®‰è£… uuid æ¨¡å— åœ¨ Postman çš„ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… uuid æ¨¡å—ï¼š\n// å®‰è£… uuid æ¨¡å— const uuid = require('uuid'); 2. ç”Ÿæˆ UUID // ç”Ÿæˆ UUID const generatedUUID = uuid.v4(); console.log('Generated UUID:', generatedUUID); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œuuid.v4() ç”¨äºç”Ÿæˆä¸€ä¸ªåŸºäºéšæœºæ•°çš„ UUIDã€‚ä½ å¯ä»¥åœ¨ Postman è„šæœ¬ä¸­ä½¿ç”¨ç”Ÿæˆçš„ UUIDï¼Œä¾‹å¦‚å°†å…¶è®¾ç½®ä¸ºè¯·æ±‚å¤´æˆ–å‚æ•°çš„å€¼ã€‚\nç¤ºä¾‹ ä»¥ä¸‹æ˜¯ä¸€ä¸ªåœ¨ Postman â€œPre-request Scriptâ€ ä¸­ç”Ÿæˆ UUID å¹¶è®¾ç½®ä¸ºè¯·æ±‚å¤´çš„ç¤ºä¾‹ï¼š\n// å®‰è£… uuid æ¨¡å— const uuid = require('uuid'); // ç”Ÿæˆ UUID const generatedUUID = uuid.v4(); // è®¾ç½®è¯·æ±‚å¤´ pm.request.headers.add({ key: 'X-Request-ID', value: generatedUUID }); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒX-Request-ID æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯·æ±‚å¤´ï¼Œç”¨äºæ ‡è¯†è¯·æ±‚çš„å”¯ä¸€æ€§ã€‚ç”Ÿæˆçš„ UUID è¢«è®¾ç½®ä¸ºè¿™ä¸ªè¯·æ±‚å¤´çš„å€¼ï¼Œä»¥ç¡®ä¿æ¯ä¸ªè¯·æ±‚éƒ½æœ‰å”¯ä¸€çš„æ ‡è¯†ã€‚\nè¯·æ³¨æ„ï¼ŒPostman åœ¨è¿è¡Œè„šæœ¬æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œå®‰è£…ä¾èµ–é¡¹çš„æ­¥éª¤ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£… uuid æ¨¡å—ã€‚\nä½¿ç”¨ xml2js å°† XML è½¬æ¢ä¸º JavaScript å¯¹è±¡ åœ¨ Postman ä¸­ï¼Œxml2js æ˜¯ä¸€ä¸ªç”¨äºå°† XML è½¬æ¢ä¸º JavaScript å¯¹è±¡çš„åº“ã€‚åœ¨ Postman çš„è„šæœ¬ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ xml2js æ¥å¤„ç† XML å“åº”å¹¶å°†å…¶è½¬æ¢ä¸ºæ˜“äºå¤„ç†çš„ JavaScript å¯¹è±¡ã€‚ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ xml2js çš„åŸºæœ¬æ­¥éª¤ï¼š\nå®‰è£… xml2js åº“ï¼š\nç”±äº Postman ä½¿ç”¨çš„æ˜¯ Node.js è¿è¡Œæ—¶ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ Postman çš„è„šæœ¬ä¸­å®‰è£… xml2js æ¥ä½¿ç”¨å®ƒã€‚åœ¨è¯·æ±‚çš„ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… xml2jsï¼š // å®‰è£… xml2js const xml2js = require('xml2js'); è§£æ XML å“åº”ï¼š\nè·å– XML å“åº”åï¼Œä½ å¯ä»¥ä½¿ç”¨ xml2js å°†å…¶è§£æä¸º JavaScript å¯¹è±¡ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š // è·å–å“åº”çš„ XML å†…å®¹ const xmlContent = pm.response.text(); // ä½¿ç”¨ xml2js è§£æ XML xml2js.parseString(xmlContent, function (err, result) { if (err) { console.error('Error parsing XML:', err); return; } // result æ˜¯è§£æåçš„ JavaScript å¯¹è±¡ console.log('Parsed XML:', result); }); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œxml2js.parseString(xmlContent, function (err, result) {...} ç”¨äºå¼‚æ­¥åœ°è§£æ XML å†…å®¹ã€‚è§£æåçš„ JavaScript å¯¹è±¡å­˜å‚¨åœ¨ result ä¸­ã€‚\nå¤„ç†è§£æåçš„ JavaScript å¯¹è±¡ï¼š\nä¸€æ—¦ä½ è·å¾—äº†è§£æåçš„ JavaScript å¯¹è±¡ï¼Œä½ å°±å¯ä»¥æŒ‰ç…§æ™®é€šçš„ JavaScript å¯¹è±¡å¤„ç†æ–¹å¼è®¿é—®å’Œæ“ä½œå®ƒçš„å±æ€§ã€‚ // ç¤ºä¾‹ï¼šè®¿é—®è§£æåçš„ JavaScript å¯¹è±¡çš„å±æ€§ const value = result.root.element[0].subelement[0]._; console.log('Value from parsed XML:', value); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œresult.root.element[0].subelement[0]._ æ˜¯ä¸€ä¸ªè®¿é—®è§£æåå¯¹è±¡å±æ€§çš„ç¤ºä¾‹ã€‚å…·ä½“çš„ç»“æ„å–å†³äºä½ çš„ XML ç»“æ„ã€‚\nè¿™åªæ˜¯ xml2js åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ä½¿ç”¨ xml2js çš„å…¶ä»–åŠŸèƒ½ï¼Œä¾‹å¦‚è®¾ç½®è§£æé€‰é¡¹ï¼Œå¤„ç†å‘½åç©ºé—´ç­‰ã€‚è¯·æŸ¥é˜… xml2js çš„å®˜æ–¹æ–‡æ¡£ä»¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼šxml2js Documentationã€‚\nå¸¸ç”¨å·¥å…·å‡½æ•° util åœ¨ Postman ä¸­ï¼Œutil æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œæä¾›äº†ä¸€äº›å¸¸ç”¨çš„å®ç”¨å·¥å…·å‡½æ•°ï¼Œå¯ä»¥åœ¨ Postman è„šæœ¬ä¸­ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ util å¯¹è±¡çš„ç”¨æ³•ï¼š\n1. util.guid() - ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆGUIDï¼‰ // ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ const uniqueId = util.guid(); console.log('Unique ID:', uniqueId); 2. util.timestamp() - è·å–å½“å‰æ—¶é—´æˆ³ // è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ const timestamp = util.timestamp(); console.log('Timestamp:', timestamp); 3. util.randomInt(min, max) - ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•° // ç”Ÿæˆ 1 åˆ° 100 ä¹‹é—´çš„éšæœºæ•´æ•° const randomInt = util.randomInt(1, 100); console.log('Random Integer:', randomInt); 4. util.unixTimestamp() - è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆUnix æ—¶é—´æˆ³ï¼Œç§’ï¼‰ // è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰ const unixTimestamp = util.unixTimestamp(); console.log('Unix Timestamp:', unixTimestamp); 5. util.encodeBase64(str) å’Œ util.decodeBase64(base64Str) - Base64 ç¼–ç å’Œè§£ç  // Base64 ç¼–ç  const encodedString = util.encodeBase64('Hello, World!'); console.log('Encoded String:', encodedString); // Base64 è§£ç  const decodedString = util.decodeBase64(encodedString); console.log('Decoded String:', decodedString); 6. util.each(obj, callback) - éå†å¯¹è±¡æˆ–æ•°ç»„ // éå†æ•°ç»„ const array = [1, 2, 3, 4]; util.each(array, function (value, index) { console.log(`Index ${index}: ${value}`); }); // éå†å¯¹è±¡ const obj = { a: 1, b: 2, c: 3 }; util.each(obj, function (value, key) { console.log(`Key ${key}: ${value}`); }); æ³¨æ„äº‹é¡¹ åœ¨ Postman è„šæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡ util å¯¹è±¡ç›´æ¥è°ƒç”¨è¿™äº›å®ç”¨å·¥å…·å‡½æ•°ã€‚ util å¯¹è±¡æä¾›çš„è¿™äº›æ–¹æ³•èƒ½å¤Ÿç®€åŒ–åœ¨ Postman è„šæœ¬ä¸­çš„ä¸€äº›å¸¸è§ä»»åŠ¡ï¼Œå¦‚ç”Ÿæˆéšæœºæ•°ã€å¤„ç†æ—¶é—´æˆ³ç­‰ã€‚ è¯·æ³¨æ„æŸ¥é˜… Postman çš„å®˜æ–¹æ–‡æ¡£ï¼Œå› ä¸º Postman ä¼šä¸æ–­æ›´æ–°å’Œæ”¹è¿›å…¶è„šæœ¬ç¯å¢ƒï¼Œå¯èƒ½ä¼šå¼•å…¥æ–°çš„å®ç”¨å·¥å…·å‡½æ•°ã€‚ stream æµæ“ä½œ åœ¨ Node.js ä¸­ä½¿ç”¨æµï¼ˆStreamsï¼‰é€šå¸¸ç”¨äºå¤„ç†å¤§é‡çš„æ•°æ®ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é™ä½å†…å­˜å ç”¨å¹¶æé«˜æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åœ¨ Node.js ä¸­ä½¿ç”¨æµçš„åŸºæœ¬ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒè¿™äº›æ–¹æ³•æ¥å¤„ç†æ•°æ®æˆ–æ–‡ä»¶ã€‚\n1. è¯»å–æµï¼ˆReadable Streamsï¼‰ï¼š const fs = require('fs'); // åˆ›å»ºå¯è¯»æµ const readableStream = fs.createReadStream('input.txt'); // è®¾ç½®ç¼–ç ï¼ˆå¦‚æœæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼‰ readableStream.setEncoding('utf-8'); // å¤„ç†æ•°æ® readableStream.on('data', function(chunk) { console.log('Received chunk:', chunk); }); // å¤„ç†ç»“æŸ readableStream.on('end', function() { console.log('Stream ended.'); }); // å¤„ç†é”™è¯¯ readableStream.on('error', function(err) { console.error('Error:', err); }); 2. å†™å…¥æµï¼ˆWritable Streamsï¼‰ï¼š const fs = require('fs'); // åˆ›å»ºå¯å†™æµ const writableStream = fs.createWriteStream('output.txt'); // å†™å…¥æ•°æ® writableStream.write('Hello, World!\\n'); writableStream.write('Another line.'); // ç»“æŸå†™å…¥ writableStream.end(); // å¤„ç†ç»“æŸ writableStream.on('finish', function() { console.log('Write completed.'); }); // å¤„ç†é”™è¯¯ writableStream.on('error', function(err) { console.error('Error:', err); }); 3. è½¬æ¢æµï¼ˆTransform Streamsï¼‰ï¼š const { Transform } = require('stream'); // åˆ›å»ºè½¬æ¢æµ const myTransform = new Transform({ transform(chunk, encoding, callback) { // è½¬æ¢æ•°æ® const transformedData = chunk.toString().toUpperCase(); this.push(transformedData); callback(); } }); // ç®¡é“è¿æ¥è¯»å–æµã€è½¬æ¢æµå’Œå†™å…¥æµ readableStream.pipe(myTransform).pipe(writableStream); è¿™åªæ˜¯ Node.js ä¸­ä½¿ç”¨æµçš„ä¸€äº›åŸºæœ¬ç”¨æ³•ã€‚åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥åœ¨è¯·æ±‚çš„è„šæœ¬ä¸­ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œä¾‹å¦‚ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†ï¼Œé€šè¿‡ Node.js è¿è¡Œç¯å¢ƒæ¥æ‰§è¡Œè¿™äº›è„šæœ¬ã€‚è¯·æ³¨æ„ï¼ŒNode.js ä¸­çš„æµ API å¯ä»¥æ›´å¤æ‚ï¼Œä¾‹å¦‚é€šè¿‡ä½¿ç”¨ pipeline å‡½æ•°æ¥å¤„ç†å¤šä¸ªæµçš„è¿æ¥ã€‚\nå®šæ—¶å™¨ timers åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Node.js çš„å®šæ—¶å™¨åŠŸèƒ½æ¥å¤„ç†å®šæ—¶ä»»åŠ¡æˆ–å»¶æ—¶æ‰§è¡Œçš„æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬çš„ Node.js å®šæ—¶å™¨çš„ç”¨æ³•ï¼Œè¿™äº›ç”¨æ³•å¯ä»¥åœ¨ Postman çš„è„šæœ¬ä¸­ä½¿ç”¨ã€‚\n1. setTimeout - å»¶æ—¶æ‰§è¡Œ // å»¶æ—¶æ‰§è¡Œæ“ä½œ setTimeout(function() { console.log('Delayed operation.'); }, 2000); // 2000 æ¯«ç§’ï¼ˆ2 ç§’ï¼‰ 2. setInterval - å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ // å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ const intervalId = setInterval(function() { console.log('Repeated operation.'); }, 3000); // 3000 æ¯«ç§’ï¼ˆ3 ç§’ï¼‰ // å–æ¶ˆå®šæ—¶æ‰§è¡Œ // clearInterval(intervalId); 3. åœ¨ Postman ä¸­ä½¿ç”¨ åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥åœ¨ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†ä¸­ä½¿ç”¨è¿™äº›å®šæ—¶å™¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ â€œTestsâ€ éƒ¨åˆ†ä¸­å»¶æ—¶æ‰§è¡Œæ“ä½œï¼š\n// åœ¨ \"Tests\" éƒ¨åˆ†å»¶æ—¶æ‰§è¡Œæ“ä½œ setTimeout(function() { console.log('Delayed operation in Tests.'); }, 2000); // 2000 æ¯«ç§’ï¼ˆ2 ç§’ï¼‰ è¯·æ³¨æ„ï¼Œåœ¨ Postman çš„ â€œPre-request Scriptâ€ æˆ– â€œTestsâ€ éƒ¨åˆ†æ‰§è¡Œçš„ä»£ç æ˜¯åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œçš„ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨ Node.js æ”¯æŒçš„å¤§å¤šæ•°åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®šæ—¶å™¨ã€‚\nåœ¨ä»¥ä¸Šä¾‹å­ä¸­ï¼ŒsetTimeout ä¼šåœ¨æŒ‡å®šçš„å»¶æ—¶åæ‰§è¡Œä¸€æ¬¡æ“ä½œï¼Œè€Œ setInterval ä¼šåœ¨æ¯éš”æŒ‡å®šçš„æ—¶é—´é—´éš”åæ‰§è¡Œä¸€æ¬¡æ“ä½œã€‚åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ä½¿ç”¨è¿™äº›å®šæ—¶å™¨åŠŸèƒ½ã€‚\næ—¶é—´å¤„ç† events åœ¨ Postman çš„è„šæœ¬ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Node.js çš„ events æ¨¡å—æ¥å¤„ç†äº‹ä»¶ã€‚events æ¨¡å—æä¾›äº† EventEmitter ç±»ï¼Œè¯¥ç±»å¯ä»¥ç”¨äºå®šä¹‰å’Œè§¦å‘äº‹ä»¶ã€‚ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ Node.js çš„ events æ¨¡å—çš„ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼š\n1. åˆ›å»ºäº‹ä»¶å‘å°„å™¨ const EventEmitter = require('events'); const myEmitter = new EventEmitter(); 2. å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•° // å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•° function myEventHandler() { console.log('Event handled.'); } 3. æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•° // æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•° myEmitter.on('myEvent', myEventHandler); 4. è§¦å‘äº‹ä»¶ // è§¦å‘äº‹ä»¶ myEmitter.emit('myEvent'); ç¤ºä¾‹ åœ¨ Postman çš„è„šæœ¬ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨äº‹ä»¶æ¥å®ç°å¼‚æ­¥æ“ä½œçš„å›è°ƒæˆ–å¤„ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨å¼‚æ­¥æ“ä½œå®Œæˆåè§¦å‘äº‹ä»¶ï¼š\nconst EventEmitter = require('events'); const myEmitter = new EventEmitter(); // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ function performAsyncOperation() { setTimeout(function() { console.log('Async operation completed.'); // è§¦å‘äº‹ä»¶ myEmitter.emit('asyncOperationComplete'); }, 2000); } // æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•° myEmitter.on('asyncOperationComplete', function() { console.log('Handling async operation completion.'); // è¿™é‡Œå¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œå®Œæˆåçš„å¤„ç†é€»è¾‘ }); // æ‰§è¡Œå¼‚æ­¥æ“ä½œ performAsyncOperation(); åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒperformAsyncOperation å‡½æ•°æ¨¡æ‹Ÿäº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå½“è¯¥æ“ä½œå®Œæˆæ—¶ï¼Œé€šè¿‡ myEmitter.emit è§¦å‘äº† asyncOperationComplete äº‹ä»¶ã€‚åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œä½ å¯ä»¥ç¼–å†™å¤„ç†å¼‚æ­¥æ“ä½œå®Œæˆåçš„é€»è¾‘ã€‚\nè¯·æ³¨æ„ï¼Œåœ¨ Postman çš„è„šæœ¬ä¸­ï¼Œå¼‚æ­¥æ“ä½œçš„æ‰§è¡Œæ–¹å¼å¯èƒ½å—åˆ°é™åˆ¶ï¼Œå› æ­¤åœ¨å®é™…ä½¿ç”¨ä¸­éœ€è¦è°¨æ…è€ƒè™‘ã€‚\nå‚è€ƒæ–‡æ¡£ Postman å®˜æ–¹æ–‡æ¡£ newman å®˜æ–¹æ–‡æ¡£ æ¬¢è¿å…³æ³¨è½¯ä»¶æµ‹è¯•åŒå­¦çš„å…¬ä¼—å·â€œè½¯ä»¶æµ‹è¯•åŒå­¦â€ï¼ŒåŸåˆ› QA æŠ€æœ¯æ–‡ç« ç¬¬ä¸€æ—¶é—´æ¨é€ã€‚\n",
  "wordCount" : "1318",
  "inLanguage": "zh",
  "datePublished": "2023-11-23T17:37:00+08:00",
  "dateModified": "2023-11-23T17:37:00+08:00",
  "author":{
    "@type": "Person",
    "name": "nao.deng"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "è½¯ä»¶æµ‹è¯•åŒå­¦",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/zh/" accesskey="h" title="è½¯ä»¶æµ‹è¯•åŒå­¦ (Alt + H)">è½¯ä»¶æµ‹è¯•åŒå­¦</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/" title="ğŸ‡¬ğŸ‡§English"
                            aria-label="ğŸ‡¬ğŸ‡§English">ğŸ‡¬ğŸ‡§English</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/zh/archives/" title="å½’æ¡£">
                    <span>å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/zhcategories" title="åˆ†ç±»">
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/search/" title="æœç´¢">
                    <span>æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/zhtags" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/zhseries" title="ç³»åˆ—">
                    <span>ç³»åˆ—</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/zh/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/zh/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹
    </h1>
    <div class="post-meta"><span title='2023-11-23 17:37:00 +0800 CST'>åä¸€æœˆ 23, 2023</span>&nbsp;Â·&nbsp;7 åˆ†é’Ÿ&nbsp;Â·&nbsp;1318 å­—&nbsp;Â·&nbsp;nao.deng&nbsp;|&nbsp;è¯­è¨€:
<ul class="i18n_list">
    <li>
        <a href="http://localhost:1313/posts/api-automation-testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages/">ğŸ‡¬ğŸ‡§English</a>
    </li>
</ul>&nbsp;|&nbsp;<a href="https://github.com/naodeng/naodeng.com.cn/tree/main/content/posts/API-Automation-Testing/postman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages.zh.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95" aria-label="è¿›é˜¶ç”¨æ³•">è¿›é˜¶ç”¨æ³•</a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac" aria-label="å¸¸ç”¨æµ‹è¯•è„šæœ¬">å¸¸ç”¨æµ‹è¯•è„šæœ¬</a><ul>
                        
                <li>
                    <a href="#%e5%93%8d%e5%ba%94%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac" aria-label="å“åº”æµ‹è¯•è„šæœ¬">å“åº”æµ‹è¯•è„šæœ¬</a></li>
                <li>
                    <a href="#%e8%af%b7%e6%b1%82%e5%89%8d%e8%84%9a%e6%9c%ac" aria-label="è¯·æ±‚å‰è„šæœ¬">è¯·æ±‚å‰è„šæœ¬</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e4%b8%ad%e5%8f%af%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%ba%93" aria-label="æµ‹è¯•è„šæœ¬ä¸­å¯ç”¨çš„ç¬¬ä¸‰æ–¹åº“">æµ‹è¯•è„šæœ¬ä¸­å¯ç”¨çš„ç¬¬ä¸‰æ–¹åº“</a><ul>
                        
                <li>
                    <a href="#chaijs-%e6%96%ad%e8%a8%80%e5%ba%93%e6%96%b9%e6%b3%95" aria-label="chai.js æ–­è¨€åº“æ–¹æ³•">chai.js æ–­è¨€åº“æ–¹æ³•</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%89%e8%a3%85-chai" aria-label="1. å®‰è£… Chai">1. å®‰è£… Chai</a></li>
                <li>
                    <a href="#2-%e4%bd%bf%e7%94%a8-bdd-%e9%a3%8e%e6%a0%bc%e6%96%ad%e8%a8%80" aria-label="2. ä½¿ç”¨ BDD é£æ ¼æ–­è¨€">2. ä½¿ç”¨ BDD é£æ ¼æ–­è¨€</a></li>
                <li>
                    <a href="#3-%e4%bd%bf%e7%94%a8-tdd-%e9%a3%8e%e6%a0%bc%e6%96%ad%e8%a8%80" aria-label="3. ä½¿ç”¨ TDD é£æ ¼æ–­è¨€">3. ä½¿ç”¨ TDD é£æ ¼æ–­è¨€</a></li>
                <li>
                    <a href="#4-chai-%e6%94%af%e6%8c%81%e7%9a%84%e4%b8%80%e4%ba%9b%e5%b8%b8%e7%94%a8%e6%96%ad%e8%a8%80" aria-label="4. Chai æ”¯æŒçš„ä¸€äº›å¸¸ç”¨æ–­è¨€">4. Chai æ”¯æŒçš„ä¸€äº›å¸¸ç”¨æ–­è¨€</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-cheerio-%e6%93%8d%e4%bd%9c-html-%e6%96%87%e4%bb%b6" aria-label="ä½¿ç”¨ cheerio æ“ä½œ HTML æ–‡ä»¶">ä½¿ç”¨ cheerio æ“ä½œ HTML æ–‡ä»¶</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-tv4-%e6%9d%a5%e9%aa%8c%e8%af%81-json-schema" aria-label="ä½¿ç”¨ tv4 æ¥éªŒè¯ JSON Schema">ä½¿ç”¨ tv4 æ¥éªŒè¯ JSON Schema</a></li>
                <li>
                    <a href="#%e7%94%9f%e6%88%90-uuid" aria-label="ç”Ÿæˆ uuid">ç”Ÿæˆ uuid</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%89%e8%a3%85-uuid-%e6%a8%a1%e5%9d%97" aria-label="1. å®‰è£… uuid æ¨¡å—">1. å®‰è£… uuid æ¨¡å—</a></li>
                <li>
                    <a href="#2-%e7%94%9f%e6%88%90-uuid" aria-label="2. ç”Ÿæˆ UUID">2. ç”Ÿæˆ UUID</a></li>
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b" aria-label="ç¤ºä¾‹">ç¤ºä¾‹</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-xml2js-%e5%b0%86-xml-%e8%bd%ac%e6%8d%a2%e4%b8%ba-javascript-%e5%af%b9%e8%b1%a1" aria-label="ä½¿ç”¨ xml2js å°† XML è½¬æ¢ä¸º JavaScript å¯¹è±¡">ä½¿ç”¨ xml2js å°† XML è½¬æ¢ä¸º JavaScript å¯¹è±¡</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e5%b7%a5%e5%85%b7%e5%87%bd%e6%95%b0-util" aria-label="å¸¸ç”¨å·¥å…·å‡½æ•° util">å¸¸ç”¨å·¥å…·å‡½æ•° util</a><ul>
                        
                <li>
                    <a href="#1-utilguid---%e7%94%9f%e6%88%90%e5%85%a8%e5%b1%80%e5%94%af%e4%b8%80%e6%a0%87%e8%af%86%e7%ac%a6guid" aria-label="1. util.guid() - ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆGUIDï¼‰">1. util.guid() - ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆGUIDï¼‰</a></li>
                <li>
                    <a href="#2-utiltimestamp---%e8%8e%b7%e5%8f%96%e5%bd%93%e5%89%8d%e6%97%b6%e9%97%b4%e6%88%b3" aria-label="2. util.timestamp() - è·å–å½“å‰æ—¶é—´æˆ³">2. util.timestamp() - è·å–å½“å‰æ—¶é—´æˆ³</a></li>
                <li>
                    <a href="#3-utilrandomintmin-max---%e7%94%9f%e6%88%90%e6%8c%87%e5%ae%9a%e8%8c%83%e5%9b%b4%e5%86%85%e7%9a%84%e9%9a%8f%e6%9c%ba%e6%95%b4%e6%95%b0" aria-label="3. util.randomInt(min, max) - ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°">3. util.randomInt(min, max) - ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°</a></li>
                <li>
                    <a href="#4-utilunixtimestamp---%e8%8e%b7%e5%8f%96%e5%bd%93%e5%89%8d%e6%97%b6%e9%97%b4%e6%88%b3unix-%e6%97%b6%e9%97%b4%e6%88%b3%e7%a7%92" aria-label="4. util.unixTimestamp() - è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆUnix æ—¶é—´æˆ³ï¼Œç§’ï¼‰">4. util.unixTimestamp() - è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆUnix æ—¶é—´æˆ³ï¼Œç§’ï¼‰</a></li>
                <li>
                    <a href="#5-utilencodebase64str-%e5%92%8c-utildecodebase64base64str---base64-%e7%bc%96%e7%a0%81%e5%92%8c%e8%a7%a3%e7%a0%81" aria-label="5. util.encodeBase64(str) å’Œ util.decodeBase64(base64Str) - Base64 ç¼–ç å’Œè§£ç ">5. util.encodeBase64(str) å’Œ util.decodeBase64(base64Str) - Base64 ç¼–ç å’Œè§£ç </a></li>
                <li>
                    <a href="#6-utileachobj-callback---%e9%81%8d%e5%8e%86%e5%af%b9%e8%b1%a1%e6%88%96%e6%95%b0%e7%bb%84" aria-label="6. util.each(obj, callback) - éå†å¯¹è±¡æˆ–æ•°ç»„">6. util.each(obj, callback) - éå†å¯¹è±¡æˆ–æ•°ç»„</a></li>
                <li>
                    <a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</a></li></ul>
                </li>
                <li>
                    <a href="#stream-%e6%b5%81%e6%93%8d%e4%bd%9c" aria-label="stream æµæ“ä½œ">stream æµæ“ä½œ</a><ul>
                        
                <li>
                    <a href="#1-%e8%af%bb%e5%8f%96%e6%b5%81readable-streams" aria-label="1. è¯»å–æµï¼ˆReadable Streamsï¼‰ï¼š">1. è¯»å–æµï¼ˆReadable Streamsï¼‰ï¼š</a></li>
                <li>
                    <a href="#2-%e5%86%99%e5%85%a5%e6%b5%81writable-streams" aria-label="2. å†™å…¥æµï¼ˆWritable Streamsï¼‰ï¼š">2. å†™å…¥æµï¼ˆWritable Streamsï¼‰ï¼š</a></li>
                <li>
                    <a href="#3-%e8%bd%ac%e6%8d%a2%e6%b5%81transform-streams" aria-label="3. è½¬æ¢æµï¼ˆTransform Streamsï¼‰ï¼š">3. è½¬æ¢æµï¼ˆTransform Streamsï¼‰ï¼š</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%9a%e6%97%b6%e5%99%a8-timers" aria-label="å®šæ—¶å™¨ timers">å®šæ—¶å™¨ timers</a><ul>
                        
                <li>
                    <a href="#1-settimeout---%e5%bb%b6%e6%97%b6%e6%89%a7%e8%a1%8c" aria-label="1. setTimeout - å»¶æ—¶æ‰§è¡Œ">1. setTimeout - å»¶æ—¶æ‰§è¡Œ</a></li>
                <li>
                    <a href="#2-setinterval---%e5%ae%9a%e6%97%b6%e6%89%a7%e8%a1%8c%e9%87%8d%e5%a4%8d%e6%93%8d%e4%bd%9c" aria-label="2. setInterval - å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ">2. setInterval - å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ</a></li>
                <li>
                    <a href="#3-%e5%9c%a8-postman-%e4%b8%ad%e4%bd%bf%e7%94%a8" aria-label="3. åœ¨ Postman ä¸­ä½¿ç”¨">3. åœ¨ Postman ä¸­ä½¿ç”¨</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%97%b6%e9%97%b4%e5%a4%84%e7%90%86-events" aria-label="æ—¶é—´å¤„ç† events">æ—¶é—´å¤„ç† events</a><ul>
                        
                <li>
                    <a href="#1-%e5%88%9b%e5%bb%ba%e4%ba%8b%e4%bb%b6%e5%8f%91%e5%b0%84%e5%99%a8" aria-label="1. åˆ›å»ºäº‹ä»¶å‘å°„å™¨">1. åˆ›å»ºäº‹ä»¶å‘å°„å™¨</a></li>
                <li>
                    <a href="#2-%e5%ae%9a%e4%b9%89%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b0" aria-label="2. å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°">2. å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°</a></li>
                <li>
                    <a href="#3-%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b0" aria-label="3. æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°">3. æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°</a></li>
                <li>
                    <a href="#4-%e8%a7%a6%e5%8f%91%e4%ba%8b%e4%bb%b6" aria-label="4. è§¦å‘äº‹ä»¶">4. è§¦å‘äº‹ä»¶</a></li>
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b-1" aria-label="ç¤ºä¾‹">ç¤ºä¾‹</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83%e6%96%87%e6%a1%a3" aria-label="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="è¿›é˜¶ç”¨æ³•">è¿›é˜¶ç”¨æ³•<a hidden class="anchor" aria-hidden="true" href="#è¿›é˜¶ç”¨æ³•">#</a></h2>
<p>ä»¥ä¸‹ä¼šä»‹ç» Postman å’Œ Newman çš„ä¸€äº›è¿›é˜¶ç”¨æ³•ï¼ŒåŒ…æ‹¬å¸¸ç”¨æµ‹è¯•å“åº”æµ‹è¯•è„šæœ¬ï¼Œæµ‹è¯•å‰ç½®è„šæœ¬å’Œå¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å¯ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç­‰ã€‚</p>
<h3 id="å¸¸ç”¨æµ‹è¯•è„šæœ¬">å¸¸ç”¨æµ‹è¯•è„šæœ¬<a hidden class="anchor" aria-hidden="true" href="#å¸¸ç”¨æµ‹è¯•è„šæœ¬">#</a></h3>
<p>Postman æä¾›äº†æµ‹è¯•è„šæœ¬åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ JavaScript ç¼–å†™è„šæœ¬æ¥éªŒè¯ API çš„å“åº”å’Œè¡Œä¸ºã€‚è¿™äº›è„šæœ¬å¯ä»¥åœ¨è¯·æ±‚çš„â€œTestsâ€æ ‡ç­¾ä¸‹æ·»åŠ ï¼Œåˆ†ä¸ºè¯·æ±‚å‰è„šæœ¬ï¼ˆPre-request Scriptï¼‰å’Œå“åº”åè„šæœ¬ï¼ˆTestsï¼‰ä¸¤ä¸ªéƒ¨åˆ†ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„ Postman å’Œ Newman æµ‹è¯•è„šæœ¬ï¼š</p>
<h4 id="å“åº”æµ‹è¯•è„šæœ¬">å“åº”æµ‹è¯•è„šæœ¬<a hidden class="anchor" aria-hidden="true" href="#å“åº”æµ‹è¯•è„šæœ¬">#</a></h4>
<ol>
<li>
<p><strong>çŠ¶æ€ç æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Status code is 200&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å“åº”æ—¶é—´æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Response time is less than 200ms&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">responseTime</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">below</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å“åº”ä½“ JSON æ ¼å¼æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Response body is a valid JSON&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å“åº”ä½“å­—æ®µå€¼æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Response body contains expected value&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">key</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="s2">&#34;expectedValue&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å“åº”ä½“æ•°ç»„é•¿åº¦æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Response body array has correct length&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">arrayKey</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">lengthOf</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å“åº”ä½“å±æ€§å­˜åœ¨æ€§æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Response body has required properties&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s2">&#34;key&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></li>
</ol>
<h4 id="è¯·æ±‚å‰è„šæœ¬">è¯·æ±‚å‰è„šæœ¬<a hidden class="anchor" aria-hidden="true" href="#è¯·æ±‚å‰è„šæœ¬">#</a></h4>
<ol>
<li>
<p><strong>åŠ¨æ€è®¾ç½®è¯·æ±‚å‚æ•°ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">variables</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;dynamicVariable&#34;</span><span class="p">,</span> <span class="s2">&#34;dynamicValue&#34;</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ä½¿ç”¨å…¨å±€å˜é‡è®¾ç½®è¯·æ±‚å¤´ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;Authorization&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">pm</span><span class="p">.</span><span class="nx">globals</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;authToken&#39;</span><span class="p">)</span> <span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ç”Ÿæˆéšæœºæ•°å¹¶è®¾ç½®ä¸ºå˜é‡ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">randomNumber</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">variables</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;randomNumber&#34;</span><span class="p">,</span> <span class="nx">randomNumber</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ç­¾åç”Ÿæˆæˆ–åŠ å¯†ç­‰æ“ä½œï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šä½¿ç”¨ CryptoJS è¿›è¡Œ HMAC SHA256 ç­¾å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;crypto-js&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">secretKey</span> <span class="o">=</span> <span class="s1">&#39;yourSecretKey&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="s1">&#39;dataToSign&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacSHA256</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">secretKey</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Base64</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">variables</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;signature&#34;</span><span class="p">,</span> <span class="nx">signature</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="æµ‹è¯•è„šæœ¬ä¸­å¯ç”¨çš„ç¬¬ä¸‰æ–¹åº“">æµ‹è¯•è„šæœ¬ä¸­å¯ç”¨çš„ç¬¬ä¸‰æ–¹åº“<a hidden class="anchor" aria-hidden="true" href="#æµ‹è¯•è„šæœ¬ä¸­å¯ç”¨çš„ç¬¬ä¸‰æ–¹åº“">#</a></h3>
<p>æä¾›çš„ require æ–¹æ³•å…è®¸æ‚¨ä½¿ç”¨æ²™ç®±å†…ç½®åº“æ¨¡å—ã€‚ä¸‹é¢åˆ—å‡ºäº†ä¸ªäººå¸¸ç”¨çš„å¯ç”¨åº“å’Œç¤ºä¾‹
æ›´å¤šå¯ç”¨çš„åº“å¯ä»¥åœ¨<a href="https://learning.postman.com/docs/writing-scripts/script-references/postman-sandbox-api-reference/#using-external-libraries">è¿™é‡Œ</a>æ‰¾åˆ°</p>
<h4 id="chaijs-æ–­è¨€åº“æ–¹æ³•">chai.js æ–­è¨€åº“æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#chaijs-æ–­è¨€åº“æ–¹æ³•">#</a></h4>
<p>åœ¨ Postman çš„æµ‹è¯•è„šæœ¬ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Chai æ–­è¨€åº“æ¥ç¼–å†™æ–­è¨€ï¼Œä»¥éªŒè¯ä½ çš„ API å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚Chai æä¾›äº†å¤šç§æ–­è¨€é£æ ¼ï¼ŒåŒ…æ‹¬ BDDï¼ˆBehavior Driven Developmentï¼‰ã€TDDï¼ˆTest Driven Developmentï¼‰ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬çš„ Chai ä½¿ç”¨æ–¹æ³•ï¼š</p>
<h5 id="1-å®‰è£…-chai">1. å®‰è£… Chai<a hidden class="anchor" aria-hidden="true" href="#1-å®‰è£…-chai">#</a></h5>
<p>åœ¨ Postman çš„è„šæœ¬ç¯å¢ƒä¸­ï¼Œä½ æ— éœ€å•ç‹¬å®‰è£… Chaiï¼Œå› ä¸º Postman é»˜è®¤å·²ç»å†…ç½®äº† Chaiã€‚</p>
<h5 id="2-ä½¿ç”¨-bdd-é£æ ¼æ–­è¨€">2. ä½¿ç”¨ BDD é£æ ¼æ–­è¨€<a hidden class="anchor" aria-hidden="true" href="#2-ä½¿ç”¨-bdd-é£æ ¼æ–­è¨€">#</a></h5>
<p>åœ¨ Postman çš„ &ldquo;Tests&rdquo; éƒ¨åˆ†ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Chai çš„ BDD é£æ ¼æ–­è¨€ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å¼•å…¥ Chai åº“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">chai</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chai&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨ BDD é£æ ¼æ–­è¨€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">expect</span> <span class="o">=</span> <span class="nx">chai</span><span class="p">.</span><span class="nx">expect</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šéªŒè¯å“åº”çŠ¶æ€ç ä¸º 200
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Status code is 200&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">code</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šéªŒè¯å“åº”ä½“æ˜¯ JSON
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Response body is JSON&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">)).</span><span class="nx">to</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;application/json&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h5 id="3-ä½¿ç”¨-tdd-é£æ ¼æ–­è¨€">3. ä½¿ç”¨ TDD é£æ ¼æ–­è¨€<a hidden class="anchor" aria-hidden="true" href="#3-ä½¿ç”¨-tdd-é£æ ¼æ–­è¨€">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å¼•å…¥ Chai åº“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">chai</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chai&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨ TDD é£æ ¼æ–­è¨€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">assert</span> <span class="o">=</span> <span class="nx">chai</span><span class="p">.</span><span class="nx">assert</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šä½¿ç”¨ assert æ–­è¨€å“åº”çŠ¶æ€ç ä¸º 200
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">code</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;Status code should be 200&#39;</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="4-chai-æ”¯æŒçš„ä¸€äº›å¸¸ç”¨æ–­è¨€">4. Chai æ”¯æŒçš„ä¸€äº›å¸¸ç”¨æ–­è¨€<a hidden class="anchor" aria-hidden="true" href="#4-chai-æ”¯æŒçš„ä¸€äº›å¸¸ç”¨æ–­è¨€">#</a></h5>
<ul>
<li>
<p><strong>ç›¸ç­‰æ€§ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>åŒ…å«ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ç±»å‹æ£€æŸ¥ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å¤§äº/å°äºï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">above</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">below</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ç©º/éç©ºï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">null</span><span class="p">;</span>
</span></span></code></pre></div></li>
<li>
<p><strong>æ·±åº¦ç›¸ç­‰æ€§ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<p>ä»¥ä¸Šåªæ˜¯ Chai æ–­è¨€åº“çš„ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨æ›´å¤šçš„æ–­è¨€æ–¹æ³•å’Œç»„åˆã€‚Chai æä¾›äº†ä¸°å¯Œçš„æ–­è¨€åŠŸèƒ½ï¼Œå¯ä»¥æ»¡è¶³å„ç§æµ‹è¯•éœ€æ±‚ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥é˜… Chai çš„å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.chaijs.com/">Chai Documentation</a>ã€‚</p>
<h4 id="ä½¿ç”¨-cheerio-æ“ä½œ-html-æ–‡ä»¶">ä½¿ç”¨ cheerio æ“ä½œ HTML æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨-cheerio-æ“ä½œ-html-æ–‡ä»¶">#</a></h4>
<p>åœ¨ Postman ä¸­ï¼ŒCheerio æ˜¯ä¸€ä¸ªåŸºäº jQuery çš„åº“ï¼Œç”¨äºåœ¨æœåŠ¡å™¨ç«¯æ“ä½œ HTML æ–‡æ¡£ã€‚å®ƒå…è®¸ä½ ä½¿ç”¨ç±»ä¼¼äº jQuery çš„è¯­æ³•æ¥é€‰æ‹©å’Œæ“ä½œ HTML å…ƒç´ ï¼Œéå¸¸é€‚ç”¨äºè§£æå’Œæå– HTML é¡µé¢ä¸­çš„ä¿¡æ¯ã€‚åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Cheerio åº“è¿›è¡Œ HTML å“åº”çš„è§£æã€‚ä»¥ä¸‹æ˜¯ Cheerio åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ï¼š</p>
<ol>
<li>
<p><strong>å®‰è£… Cheerioï¼š</strong></p>
<ul>
<li>ç”±äº Postman ä½¿ç”¨çš„æ˜¯ Node.js è¿è¡Œæ—¶ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ Postman çš„è„šæœ¬ä¸­å®‰è£… Cheerio æ¥ä½¿ç”¨å®ƒã€‚åœ¨è¯·æ±‚çš„ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… Cheerioï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®‰è£… Cheerio
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">cheerio</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;cheerio&#39;</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ä½¿ç”¨ Cheerio è§£æ HTMLï¼š</strong></p>
<ul>
<li>åœ¨è¯·æ±‚çš„ &ldquo;Tests&rdquo; éƒ¨åˆ†ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Cheerio è§£æ HTMLã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// ä»å“åº”ä¸­è·å– HTML å†…å®¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">htmlContent</span> <span class="o">=</span> <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨ Cheerio è§£æ HTML
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">cheerio</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">htmlContent</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šä» HTML ä¸­æå–æ ‡é¢˜æ–‡æœ¬
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">titleText</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Title:&#39;</span><span class="p">,</span> <span class="nx">titleText</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šä» HTML ä¸­æå–æ‰€æœ‰é“¾æ¥çš„ href å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">links</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">link</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">links</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">link</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Links:&#39;</span><span class="p">,</span> <span class="nx">links</span><span class="p">);</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>cheerio.load(htmlContent)</code> ç”¨äºåŠ è½½ HTML å†…å®¹ï¼Œå¹¶ä½¿ç”¨ç±»ä¼¼äº jQuery çš„è¯­æ³•æ¥é€‰æ‹©å’Œæ“ä½œå…ƒç´ ã€‚</p>
</li>
<li>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>Cheerio ä¸»è¦ç”¨äºè§£æé™æ€ HTMLï¼Œå¯¹äºä½¿ç”¨ JavaScript åŠ¨æ€ç”Ÿæˆçš„å†…å®¹ï¼Œå¯èƒ½æ— æ³•æ­£å¸¸è·å–ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨ Puppeteer æˆ–å…¶ä»–æ”¯æŒ JavaScript æ‰§è¡Œçš„å·¥å…·ã€‚</li>
</ul>
</li>
</ol>
<p>è¿™åªæ˜¯ Cheerio åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚ä½¿ç”¨ Cheerio æä¾›çš„å„ç§é€‰æ‹©å™¨å’Œæ–¹æ³•ã€‚è¯·æŸ¥é˜… Cheerio çš„å®˜æ–¹æ–‡æ¡£ä»¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š<a href="https://cheerio.js.org/">Cheerio Documentation</a>ã€‚</p>
<h4 id="ä½¿ç”¨-tv4-æ¥éªŒè¯-json-schema">ä½¿ç”¨ tv4 æ¥éªŒè¯ JSON Schema<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨-tv4-æ¥éªŒè¯-json-schema">#</a></h4>
<p>åœ¨ Postman ä¸­ï¼Œtv4 æ˜¯ä¸€ä¸ª JSON Schema éªŒè¯åº“ï¼Œç”¨äºéªŒè¯ JSON æ•°æ®æ˜¯å¦ç¬¦åˆç»™å®šçš„ JSON Schemaã€‚JSON Schema æ˜¯ä¸€ç§æè¿° JSON æ•°æ®ç»“æ„çš„è§„èŒƒï¼Œå®ƒå®šä¹‰äº† JSON å¯¹è±¡çš„å±æ€§ã€ç±»å‹å’Œå…¶ä»–çº¦æŸã€‚</p>
<p>ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ tv4 è¿›è¡Œ JSON Schema éªŒè¯çš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>
<p><strong>å®‰è£… tv4 åº“ï¼š</strong></p>
<ul>
<li>ç”±äº Postman ä½¿ç”¨çš„æ˜¯ Node.js è¿è¡Œæ—¶ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ Postman çš„è„šæœ¬ä¸­å®‰è£… tv4 æ¥ä½¿ç”¨å®ƒã€‚åœ¨è¯·æ±‚çš„ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… tv4ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®‰è£… tv4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">tv4</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;tv4&#39;</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>å®šä¹‰ JSON Schemaï¼š</strong></p>
<ul>
<li>åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥åœ¨è¯·æ±‚çš„ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†å®šä¹‰ JSON Schemaã€‚JSON Schema å¯ä»¥ä½œä¸ºä¸€ä¸ª JavaScript å¯¹è±¡è¿›è¡Œå®šä¹‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®šä¹‰ JSON Schema
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">jsonSchema</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;object&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;properties&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;name&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;string&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;age&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;number&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;required&#34;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;name&#34;</span><span class="p">,</span> <span class="s2">&#34;age&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div></li>
<li>
<p><strong>ä½¿ç”¨ tv4 è¿›è¡ŒéªŒè¯ï¼š</strong></p>
<ul>
<li>åœ¨è¯·æ±‚çš„ &ldquo;Tests&rdquo; éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ tv4 å¯¹ JSON æ•°æ®è¿›è¡ŒéªŒè¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// è·å–å“åº”çš„ JSON æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">jsonResponse</span> <span class="o">=</span> <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨ tv4 è¿›è¡Œ JSON Schema éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">isValid</span> <span class="o">=</span> <span class="nx">tv4</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">jsonResponse</span><span class="p">,</span> <span class="nx">jsonSchema</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ£€æŸ¥éªŒè¯ç»“æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;JSON is valid according to the schema&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">isValid</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>tv4.validate(jsonResponse, jsonSchema)</code> ç”¨äºéªŒè¯ <code>jsonResponse</code> æ˜¯å¦ç¬¦åˆ <code>jsonSchema</code> å®šä¹‰çš„è§„èŒƒã€‚éªŒè¯ç»“æœå­˜å‚¨åœ¨ <code>isValid</code> å˜é‡ä¸­ï¼Œç„¶åä½¿ç”¨ <code>pm.test</code> æ¥æ£€æŸ¥éªŒè¯ç»“æœã€‚</p>
</li>
</ol>
<p>è¿™åªæ˜¯ tv4 åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ï¼Œå®šä¹‰æ›´å¤æ‚çš„ JSON Schemaï¼Œå¹¶ä½¿ç”¨ tv4 çš„å…¶ä»–åŠŸèƒ½è¿›è¡Œæ›´çµæ´»çš„éªŒè¯ã€‚è¯·æŸ¥é˜… tv4 çš„å®˜æ–¹æ–‡æ¡£ä»¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š<a href="https://github.com/geraintluff/tv4">tv4 Documentation</a>ã€‚</p>
<h4 id="ç”Ÿæˆ-uuid">ç”Ÿæˆ uuid<a hidden class="anchor" aria-hidden="true" href="#ç”Ÿæˆ-uuid">#</a></h4>
<p>åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>uuid</code> æ¨¡å—æ¥ç”Ÿæˆ UUIDï¼ˆUniversally Unique Identifierï¼‰ï¼Œä¹Ÿè¢«ç§°ä¸º GUIDã€‚ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ <code>uuid</code> æ¨¡å—çš„åŸºæœ¬ç”¨æ³•ï¼š</p>
<h5 id="1-å®‰è£…-uuid-æ¨¡å—">1. å®‰è£… <code>uuid</code> æ¨¡å—<a hidden class="anchor" aria-hidden="true" href="#1-å®‰è£…-uuid-æ¨¡å—">#</a></h5>
<p>åœ¨ Postman çš„ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… <code>uuid</code> æ¨¡å—ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®‰è£… uuid æ¨¡å—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">uuid</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="2-ç”Ÿæˆ-uuid">2. ç”Ÿæˆ UUID<a hidden class="anchor" aria-hidden="true" href="#2-ç”Ÿæˆ-uuid">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// ç”Ÿæˆ UUID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">generatedUUID</span> <span class="o">=</span> <span class="nx">uuid</span><span class="p">.</span><span class="nx">v4</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Generated UUID:&#39;</span><span class="p">,</span> <span class="nx">generatedUUID</span><span class="p">);</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>uuid.v4()</code> ç”¨äºç”Ÿæˆä¸€ä¸ªåŸºäºéšæœºæ•°çš„ UUIDã€‚ä½ å¯ä»¥åœ¨ Postman è„šæœ¬ä¸­ä½¿ç”¨ç”Ÿæˆçš„ UUIDï¼Œä¾‹å¦‚å°†å…¶è®¾ç½®ä¸ºè¯·æ±‚å¤´æˆ–å‚æ•°çš„å€¼ã€‚</p>
<h5 id="ç¤ºä¾‹">ç¤ºä¾‹<a hidden class="anchor" aria-hidden="true" href="#ç¤ºä¾‹">#</a></h5>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåœ¨ Postman &ldquo;Pre-request Script&rdquo; ä¸­ç”Ÿæˆ UUID å¹¶è®¾ç½®ä¸ºè¯·æ±‚å¤´çš„ç¤ºä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®‰è£… uuid æ¨¡å—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">uuid</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç”Ÿæˆ UUID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">generatedUUID</span> <span class="o">=</span> <span class="nx">uuid</span><span class="p">.</span><span class="nx">v4</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// è®¾ç½®è¯·æ±‚å¤´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">pm</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;X-Request-ID&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">generatedUUID</span> <span class="p">});</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>X-Request-ID</code> æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯·æ±‚å¤´ï¼Œç”¨äºæ ‡è¯†è¯·æ±‚çš„å”¯ä¸€æ€§ã€‚ç”Ÿæˆçš„ UUID è¢«è®¾ç½®ä¸ºè¿™ä¸ªè¯·æ±‚å¤´çš„å€¼ï¼Œä»¥ç¡®ä¿æ¯ä¸ªè¯·æ±‚éƒ½æœ‰å”¯ä¸€çš„æ ‡è¯†ã€‚</p>
<p>è¯·æ³¨æ„ï¼ŒPostman åœ¨è¿è¡Œè„šæœ¬æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œå®‰è£…ä¾èµ–é¡¹çš„æ­¥éª¤ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£… <code>uuid</code> æ¨¡å—ã€‚</p>
<h4 id="ä½¿ç”¨-xml2js-å°†-xml-è½¬æ¢ä¸º-javascript-å¯¹è±¡">ä½¿ç”¨ xml2js å°† XML è½¬æ¢ä¸º JavaScript å¯¹è±¡<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨-xml2js-å°†-xml-è½¬æ¢ä¸º-javascript-å¯¹è±¡">#</a></h4>
<p>åœ¨ Postman ä¸­ï¼Œ<code>xml2js</code> æ˜¯ä¸€ä¸ªç”¨äºå°† XML è½¬æ¢ä¸º JavaScript å¯¹è±¡çš„åº“ã€‚åœ¨ Postman çš„è„šæœ¬ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>xml2js</code> æ¥å¤„ç† XML å“åº”å¹¶å°†å…¶è½¬æ¢ä¸ºæ˜“äºå¤„ç†çš„ JavaScript å¯¹è±¡ã€‚ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ <code>xml2js</code> çš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>
<p><strong>å®‰è£… xml2js åº“ï¼š</strong></p>
<ul>
<li>ç”±äº Postman ä½¿ç”¨çš„æ˜¯ Node.js è¿è¡Œæ—¶ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ Postman çš„è„šæœ¬ä¸­å®‰è£… <code>xml2js</code> æ¥ä½¿ç”¨å®ƒã€‚åœ¨è¯·æ±‚çš„ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£… <code>xml2js</code>ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®‰è£… xml2js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">xml2js</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;xml2js&#39;</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><strong>è§£æ XML å“åº”ï¼š</strong></p>
<ul>
<li>è·å– XML å“åº”åï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>xml2js</code> å°†å…¶è§£æä¸º JavaScript å¯¹è±¡ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// è·å–å“åº”çš„ XML å†…å®¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">xmlContent</span> <span class="o">=</span> <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨ xml2js è§£æ XML
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">xml2js</span><span class="p">.</span><span class="nx">parseString</span><span class="p">(</span><span class="nx">xmlContent</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error parsing XML:&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// result æ˜¯è§£æåçš„ JavaScript å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Parsed XML:&#39;</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>xml2js.parseString(xmlContent, function (err, result) {...}</code> ç”¨äºå¼‚æ­¥åœ°è§£æ XML å†…å®¹ã€‚è§£æåçš„ JavaScript å¯¹è±¡å­˜å‚¨åœ¨ <code>result</code> ä¸­ã€‚</p>
</li>
<li>
<p><strong>å¤„ç†è§£æåçš„ JavaScript å¯¹è±¡ï¼š</strong></p>
<ul>
<li>ä¸€æ—¦ä½ è·å¾—äº†è§£æåçš„ JavaScript å¯¹è±¡ï¼Œä½ å°±å¯ä»¥æŒ‰ç…§æ™®é€šçš„ JavaScript å¯¹è±¡å¤„ç†æ–¹å¼è®¿é—®å’Œæ“ä½œå®ƒçš„å±æ€§ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// ç¤ºä¾‹ï¼šè®¿é—®è§£æåçš„ JavaScript å¯¹è±¡çš„å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">subelement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Value from parsed XML:&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>result.root.element[0].subelement[0]._</code> æ˜¯ä¸€ä¸ªè®¿é—®è§£æåå¯¹è±¡å±æ€§çš„ç¤ºä¾‹ã€‚å…·ä½“çš„ç»“æ„å–å†³äºä½ çš„ XML ç»“æ„ã€‚</p>
</li>
</ol>
<p>è¿™åªæ˜¯ <code>xml2js</code> åœ¨ Postman ä¸­çš„åŸºæœ¬ç”¨æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ä½¿ç”¨ <code>xml2js</code> çš„å…¶ä»–åŠŸèƒ½ï¼Œä¾‹å¦‚è®¾ç½®è§£æé€‰é¡¹ï¼Œå¤„ç†å‘½åç©ºé—´ç­‰ã€‚è¯·æŸ¥é˜… <code>xml2js</code> çš„å®˜æ–¹æ–‡æ¡£ä»¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š<a href="https://github.com/Leonidas-from-XIV/node-xml2js">xml2js Documentation</a>ã€‚</p>
<h4 id="å¸¸ç”¨å·¥å…·å‡½æ•°-util">å¸¸ç”¨å·¥å…·å‡½æ•° util<a hidden class="anchor" aria-hidden="true" href="#å¸¸ç”¨å·¥å…·å‡½æ•°-util">#</a></h4>
<p>åœ¨ Postman ä¸­ï¼Œ<code>util</code> æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œæä¾›äº†ä¸€äº›å¸¸ç”¨çš„å®ç”¨å·¥å…·å‡½æ•°ï¼Œå¯ä»¥åœ¨ Postman è„šæœ¬ä¸­ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ <code>util</code> å¯¹è±¡çš„ç”¨æ³•ï¼š</p>
<h5 id="1-utilguid---ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦guid">1. <code>util.guid()</code> - ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆGUIDï¼‰<a hidden class="anchor" aria-hidden="true" href="#1-utilguid---ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦guid">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">uniqueId</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">guid</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Unique ID:&#39;</span><span class="p">,</span> <span class="nx">uniqueId</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="2-utiltimestamp---è·å–å½“å‰æ—¶é—´æˆ³">2. <code>util.timestamp()</code> - è·å–å½“å‰æ—¶é—´æˆ³<a hidden class="anchor" aria-hidden="true" href="#2-utiltimestamp---è·å–å½“å‰æ—¶é—´æˆ³">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Timestamp:&#39;</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="3-utilrandomintmin-max---ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°">3. <code>util.randomInt(min, max)</code> - ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°<a hidden class="anchor" aria-hidden="true" href="#3-utilrandomintmin-max---ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// ç”Ÿæˆ 1 åˆ° 100 ä¹‹é—´çš„éšæœºæ•´æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">randomInt</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">randomInt</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Random Integer:&#39;</span><span class="p">,</span> <span class="nx">randomInt</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="4-utilunixtimestamp---è·å–å½“å‰æ—¶é—´æˆ³unix-æ—¶é—´æˆ³ç§’">4. <code>util.unixTimestamp()</code> - è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆUnix æ—¶é—´æˆ³ï¼Œç§’ï¼‰<a hidden class="anchor" aria-hidden="true" href="#4-utilunixtimestamp---è·å–å½“å‰æ—¶é—´æˆ³unix-æ—¶é—´æˆ³ç§’">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">unixTimestamp</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">unixTimestamp</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Unix Timestamp:&#39;</span><span class="p">,</span> <span class="nx">unixTimestamp</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="5-utilencodebase64str-å’Œ-utildecodebase64base64str---base64-ç¼–ç å’Œè§£ç ">5. <code>util.encodeBase64(str)</code> å’Œ <code>util.decodeBase64(base64Str)</code> - Base64 ç¼–ç å’Œè§£ç <a hidden class="anchor" aria-hidden="true" href="#5-utilencodebase64str-å’Œ-utildecodebase64base64str---base64-ç¼–ç å’Œè§£ç ">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// Base64 ç¼–ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">encodedString</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">encodeBase64</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Encoded String:&#39;</span><span class="p">,</span> <span class="nx">encodedString</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Base64 è§£ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">decodedString</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">decodeBase64</span><span class="p">(</span><span class="nx">encodedString</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Decoded String:&#39;</span><span class="p">,</span> <span class="nx">decodedString</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="6-utileachobj-callback---éå†å¯¹è±¡æˆ–æ•°ç»„">6. <code>util.each(obj, callback)</code> - éå†å¯¹è±¡æˆ–æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#6-utileachobj-callback---éå†å¯¹è±¡æˆ–æ•°ç»„">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// éå†æ•°ç»„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="nx">util</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Index </span><span class="si">${</span><span class="nx">index</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// éå†å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nx">util</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Key </span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h5 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹<a hidden class="anchor" aria-hidden="true" href="#æ³¨æ„äº‹é¡¹">#</a></h5>
<ul>
<li>åœ¨ Postman è„šæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>util</code> å¯¹è±¡ç›´æ¥è°ƒç”¨è¿™äº›å®ç”¨å·¥å…·å‡½æ•°ã€‚</li>
<li><code>util</code> å¯¹è±¡æä¾›çš„è¿™äº›æ–¹æ³•èƒ½å¤Ÿç®€åŒ–åœ¨ Postman è„šæœ¬ä¸­çš„ä¸€äº›å¸¸è§ä»»åŠ¡ï¼Œå¦‚ç”Ÿæˆéšæœºæ•°ã€å¤„ç†æ—¶é—´æˆ³ç­‰ã€‚</li>
<li>è¯·æ³¨æ„æŸ¥é˜… Postman çš„å®˜æ–¹æ–‡æ¡£ï¼Œå› ä¸º Postman ä¼šä¸æ–­æ›´æ–°å’Œæ”¹è¿›å…¶è„šæœ¬ç¯å¢ƒï¼Œå¯èƒ½ä¼šå¼•å…¥æ–°çš„å®ç”¨å·¥å…·å‡½æ•°ã€‚</li>
</ul>
<h4 id="stream-æµæ“ä½œ">stream æµæ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#stream-æµæ“ä½œ">#</a></h4>
<p>åœ¨ Node.js ä¸­ä½¿ç”¨æµï¼ˆStreamsï¼‰é€šå¸¸ç”¨äºå¤„ç†å¤§é‡çš„æ•°æ®ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é™ä½å†…å­˜å ç”¨å¹¶æé«˜æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åœ¨ Node.js ä¸­ä½¿ç”¨æµçš„åŸºæœ¬ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒè¿™äº›æ–¹æ³•æ¥å¤„ç†æ•°æ®æˆ–æ–‡ä»¶ã€‚</p>
<h5 id="1-è¯»å–æµreadable-streams">1. <strong>è¯»å–æµï¼ˆReadable Streamsï¼‰ï¼š</strong><a hidden class="anchor" aria-hidden="true" href="#1-è¯»å–æµreadable-streams">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// åˆ›å»ºå¯è¯»æµ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">readableStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;input.txt&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// è®¾ç½®ç¼–ç ï¼ˆå¦‚æœæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">readableStream</span><span class="p">.</span><span class="nx">setEncoding</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¤„ç†æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">readableStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Received chunk:&#39;</span><span class="p">,</span> <span class="nx">chunk</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¤„ç†ç»“æŸ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">readableStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Stream ended.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¤„ç†é”™è¯¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">readableStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error:&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h5 id="2-å†™å…¥æµwritable-streams">2. <strong>å†™å…¥æµï¼ˆWritable Streamsï¼‰ï¼š</strong><a hidden class="anchor" aria-hidden="true" href="#2-å†™å…¥æµwritable-streams">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// åˆ›å»ºå¯å†™æµ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">writableStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">&#39;output.txt&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å†™å…¥æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">writableStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;Hello, World!\n&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">writableStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;Another line.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç»“æŸå†™å…¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">writableStream</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¤„ç†ç»“æŸ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">writableStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;finish&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Write completed.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¤„ç†é”™è¯¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">writableStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error:&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h5 id="3-è½¬æ¢æµtransform-streams">3. <strong>è½¬æ¢æµï¼ˆTransform Streamsï¼‰ï¼š</strong><a hidden class="anchor" aria-hidden="true" href="#3-è½¬æ¢æµtransform-streams">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span> <span class="nx">Transform</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;stream&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// åˆ›å»ºè½¬æ¢æµ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">myTransform</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transform</span><span class="p">(</span><span class="nx">chunk</span><span class="p">,</span> <span class="nx">encoding</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è½¬æ¢æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">transformedData</span> <span class="o">=</span> <span class="nx">chunk</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">toUpperCase</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">transformedData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">callback</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç®¡é“è¿æ¥è¯»å–æµã€è½¬æ¢æµå’Œå†™å…¥æµ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">readableStream</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">myTransform</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">writableStream</span><span class="p">);</span>
</span></span></code></pre></div><p>è¿™åªæ˜¯ Node.js ä¸­ä½¿ç”¨æµçš„ä¸€äº›åŸºæœ¬ç”¨æ³•ã€‚åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥åœ¨è¯·æ±‚çš„è„šæœ¬ä¸­ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œä¾‹å¦‚ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†ï¼Œé€šè¿‡ Node.js è¿è¡Œç¯å¢ƒæ¥æ‰§è¡Œè¿™äº›è„šæœ¬ã€‚è¯·æ³¨æ„ï¼ŒNode.js ä¸­çš„æµ API å¯ä»¥æ›´å¤æ‚ï¼Œä¾‹å¦‚é€šè¿‡ä½¿ç”¨ <code>pipeline</code> å‡½æ•°æ¥å¤„ç†å¤šä¸ªæµçš„è¿æ¥ã€‚</p>
<h4 id="å®šæ—¶å™¨-timers">å®šæ—¶å™¨ timers<a hidden class="anchor" aria-hidden="true" href="#å®šæ—¶å™¨-timers">#</a></h4>
<p>åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Node.js çš„å®šæ—¶å™¨åŠŸèƒ½æ¥å¤„ç†å®šæ—¶ä»»åŠ¡æˆ–å»¶æ—¶æ‰§è¡Œçš„æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬çš„ Node.js å®šæ—¶å™¨çš„ç”¨æ³•ï¼Œè¿™äº›ç”¨æ³•å¯ä»¥åœ¨ Postman çš„è„šæœ¬ä¸­ä½¿ç”¨ã€‚</p>
<h5 id="1-settimeout---å»¶æ—¶æ‰§è¡Œ">1. <code>setTimeout</code> - å»¶æ—¶æ‰§è¡Œ<a hidden class="anchor" aria-hidden="true" href="#1-settimeout---å»¶æ—¶æ‰§è¡Œ">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å»¶æ—¶æ‰§è¡Œæ“ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Delayed operation.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="mi">2000</span><span class="p">);</span> <span class="c1">// 2000 æ¯«ç§’ï¼ˆ2 ç§’ï¼‰
</span></span></span></code></pre></div><h5 id="2-setinterval---å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ">2. <code>setInterval</code> - å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#2-setinterval---å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®šæ—¶æ‰§è¡Œé‡å¤æ“ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">intervalId</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Repeated operation.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="mi">3000</span><span class="p">);</span> <span class="c1">// 3000 æ¯«ç§’ï¼ˆ3 ç§’ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// å–æ¶ˆå®šæ—¶æ‰§è¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1">// clearInterval(intervalId);
</span></span></span></code></pre></div><h5 id="3-åœ¨-postman-ä¸­ä½¿ç”¨">3. åœ¨ Postman ä¸­ä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#3-åœ¨-postman-ä¸­ä½¿ç”¨">#</a></h5>
<p>åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥åœ¨ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†ä¸­ä½¿ç”¨è¿™äº›å®šæ—¶å™¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ &ldquo;Tests&rdquo; éƒ¨åˆ†ä¸­å»¶æ—¶æ‰§è¡Œæ“ä½œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// åœ¨ &#34;Tests&#34; éƒ¨åˆ†å»¶æ—¶æ‰§è¡Œæ“ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Delayed operation in Tests.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="mi">2000</span><span class="p">);</span> <span class="c1">// 2000 æ¯«ç§’ï¼ˆ2 ç§’ï¼‰
</span></span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œåœ¨ Postman çš„ &ldquo;Pre-request Script&rdquo; æˆ– &ldquo;Tests&rdquo; éƒ¨åˆ†æ‰§è¡Œçš„ä»£ç æ˜¯åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œçš„ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨ Node.js æ”¯æŒçš„å¤§å¤šæ•°åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®šæ—¶å™¨ã€‚</p>
<p>åœ¨ä»¥ä¸Šä¾‹å­ä¸­ï¼Œ<code>setTimeout</code> ä¼šåœ¨æŒ‡å®šçš„å»¶æ—¶åæ‰§è¡Œä¸€æ¬¡æ“ä½œï¼Œè€Œ <code>setInterval</code> ä¼šåœ¨æ¯éš”æŒ‡å®šçš„æ—¶é—´é—´éš”åæ‰§è¡Œä¸€æ¬¡æ“ä½œã€‚åœ¨ Postman ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ä½¿ç”¨è¿™äº›å®šæ—¶å™¨åŠŸèƒ½ã€‚</p>
<h4 id="æ—¶é—´å¤„ç†-events">æ—¶é—´å¤„ç† events<a hidden class="anchor" aria-hidden="true" href="#æ—¶é—´å¤„ç†-events">#</a></h4>
<p>åœ¨ Postman çš„è„šæœ¬ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Node.js çš„ <code>events</code> æ¨¡å—æ¥å¤„ç†äº‹ä»¶ã€‚<code>events</code> æ¨¡å—æä¾›äº† <code>EventEmitter</code> ç±»ï¼Œè¯¥ç±»å¯ä»¥ç”¨äºå®šä¹‰å’Œè§¦å‘äº‹ä»¶ã€‚ä»¥ä¸‹æ˜¯åœ¨ Postman ä¸­ä½¿ç”¨ Node.js çš„ <code>events</code> æ¨¡å—çš„ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼š</p>
<h5 id="1-åˆ›å»ºäº‹ä»¶å‘å°„å™¨">1. åˆ›å»ºäº‹ä»¶å‘å°„å™¨<a hidden class="anchor" aria-hidden="true" href="#1-åˆ›å»ºäº‹ä»¶å‘å°„å™¨">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">EventEmitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;events&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">myEmitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
</span></span></code></pre></div><h5 id="2-å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°">2. å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#2-å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">myEventHandler</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Event handled.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h5 id="3-æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°">3. æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#3-æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">myEmitter</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;myEvent&#39;</span><span class="p">,</span> <span class="nx">myEventHandler</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="4-è§¦å‘äº‹ä»¶">4. è§¦å‘äº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#4-è§¦å‘äº‹ä»¶">#</a></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// è§¦å‘äº‹ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">myEmitter</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;myEvent&#39;</span><span class="p">);</span>
</span></span></code></pre></div><h5 id="ç¤ºä¾‹-1">ç¤ºä¾‹<a hidden class="anchor" aria-hidden="true" href="#ç¤ºä¾‹-1">#</a></h5>
<p>åœ¨ Postman çš„è„šæœ¬ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨äº‹ä»¶æ¥å®ç°å¼‚æ­¥æ“ä½œçš„å›è°ƒæˆ–å¤„ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨å¼‚æ­¥æ“ä½œå®Œæˆåè§¦å‘äº‹ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">EventEmitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;events&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">myEmitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">performAsyncOperation</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Async operation completed.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è§¦å‘äº‹ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">myEmitter</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;asyncOperationComplete&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">myEmitter</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;asyncOperationComplete&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Handling async operation completion.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// è¿™é‡Œå¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œå®Œæˆåçš„å¤„ç†é€»è¾‘
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ‰§è¡Œå¼‚æ­¥æ“ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">performAsyncOperation</span><span class="p">();</span>
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>performAsyncOperation</code> å‡½æ•°æ¨¡æ‹Ÿäº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå½“è¯¥æ“ä½œå®Œæˆæ—¶ï¼Œé€šè¿‡ <code>myEmitter.emit</code> è§¦å‘äº† <code>asyncOperationComplete</code> äº‹ä»¶ã€‚åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œä½ å¯ä»¥ç¼–å†™å¤„ç†å¼‚æ­¥æ“ä½œå®Œæˆåçš„é€»è¾‘ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåœ¨ Postman çš„è„šæœ¬ä¸­ï¼Œå¼‚æ­¥æ“ä½œçš„æ‰§è¡Œæ–¹å¼å¯èƒ½å—åˆ°é™åˆ¶ï¼Œå› æ­¤åœ¨å®é™…ä½¿ç”¨ä¸­éœ€è¦è°¨æ…è€ƒè™‘ã€‚</p>
<h2 id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£<a hidden class="anchor" aria-hidden="true" href="#å‚è€ƒæ–‡æ¡£">#</a></h2>
<ul>
<li><a href="https://learning.postman.com/docs/getting-started/introduction/">Postman å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://learning.postman.com/docs/running-collections/using-newman-cli/command-line-integration-with-newman/">newman å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr>
<p>æ¬¢è¿å…³æ³¨è½¯ä»¶æµ‹è¯•åŒå­¦çš„å…¬ä¼—å·â€œ<strong>è½¯ä»¶æµ‹è¯•åŒå­¦</strong>â€ï¼ŒåŸåˆ› QA æŠ€æœ¯æ–‡ç« ç¬¬ä¸€æ—¶é—´æ¨é€ã€‚</p>
<!-- markdownlint-disable MD045 -->
<!-- markdownlint-disable MD033 -->
<center>
  <img src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/2023112015'QR Code for å…¬ä¼—å·.jpg" style="width: 100px;">
</center>
<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD045 -->

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-data-driven-and-environment-data-driven/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - æ•°æ®é©±åŠ¨</span>
  </a>
  <a class="next" href="http://localhost:1313/zh/posts/api-automation-testing/postman-tutorial-advance-usage-integration-html-report-and-allure-report-integration-github-action/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - é›†æˆ CI/CD å’Œ Github actionï¼Œæ¥å…¥ allure æµ‹è¯•æŠ¥å‘Š</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on x"
            href="https://x.com/intent/tweet/?text=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b&amp;url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f&amp;title=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b&amp;summary=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b&amp;source=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f&title=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on whatsapp"
            href="https://api.whatsapp.com/send?text=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b%20-%20http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on telegram"
            href="https://telegram.me/share/url?text=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b&amp;url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Postman æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ï¼šè¿›é˜¶ç”¨æ³• - å¸¸ç”¨çš„æµ‹è¯•è„šæœ¬å’Œå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ç”¨æ³•ç¤ºä¾‹ on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Postman%20%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e6%95%99%e7%a8%8b%ef%bc%9a%e8%bf%9b%e9%98%b6%e7%94%a8%e6%b3%95%20-%20%e5%b8%b8%e7%94%a8%e7%9a%84%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e5%92%8c%e5%b8%b8%e7%94%a8%e7%9a%84%e7%ac%ac%e4%b8%89%e6%96%b9%e5%8c%85%e7%94%a8%e6%b3%95%e7%a4%ba%e4%be%8b&u=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fapi-automation-testing%2fpostman-tutorial-advance-usage-common-test-scripts-and-commonly-used-third-party-packages%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
<script src="https://giscus.app/client.js"
        data-repo="naodeng/naodeng.tech"
        data-repo-id="R_kgDOHntNtg"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHntNts4Cavst"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/zh/">è½¯ä»¶æµ‹è¯•åŒå­¦</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
