<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 | 软件测试同学</title>
<meta name="keywords" content="">
<meta name="description" content="这篇博文是 UI 测试最佳实践的进阶篇，第二篇深入讨论组合测试和性能测试。文章详细介绍了如何有效地进行组合测试，覆盖多个交互元素的不同组合，以提高测试的全面性。此外，博文探讨了 UI 性能测试的重要性，并提供了一些性能测试的最佳实践，确保应用程序在各种负载下的高性能和稳定性。通过学习这些进阶实践，读者将能够更全面地应对复杂的 UI 测试场景，确保系统的质量和性能。">
<meta name="author" content="nao.deng">
<link rel="canonical" href="http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing/">
<meta name="google-site-verification" content="google5e9a7c9479924ed2">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<meta name="baidu-site-verification" content="codeva-2siuZUJUWf" />

<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "56f727a52e3349f6947d888452fecc8a"}'>
</script>

<script defer data-website-id="b3b285c9-3c35-4398-9252-91bb70560b84" src="https://naodeng-umami.vercel.app/hugo.js"></script>
<meta http-equiv="Content-Type" content="text/html;charset=gb2312" />
<meta name="sogou_site_verification" content="iwkYDJrzfK" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7249159446737834"
     crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-JBX883ZDJJ', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="UI 测试最佳实践的进阶篇（二）：组合测试和性能测试" />
<meta property="og:description" content="这篇博文是 UI 测试最佳实践的进阶篇，第二篇深入讨论组合测试和性能测试。文章详细介绍了如何有效地进行组合测试，覆盖多个交互元素的不同组合，以提高测试的全面性。此外，博文探讨了 UI 性能测试的重要性，并提供了一些性能测试的最佳实践，确保应用程序在各种负载下的高性能和稳定性。通过学习这些进阶实践，读者将能够更全面地应对复杂的 UI 测试场景，确保系统的质量和性能。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing/" /><meta property="og:image" content="http://localhost:1313/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-30T16:06:44+08:00" />
<meta property="article:modified_time" content="2024-01-30T16:06:44+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://localhost:1313/papermod-cover.png"/>

<meta name="twitter:title" content="UI 测试最佳实践的进阶篇（二）：组合测试和性能测试"/>
<meta name="twitter:description" content="这篇博文是 UI 测试最佳实践的进阶篇，第二篇深入讨论组合测试和性能测试。文章详细介绍了如何有效地进行组合测试，覆盖多个交互元素的不同组合，以提高测试的全面性。此外，博文探讨了 UI 性能测试的重要性，并提供了一些性能测试的最佳实践，确保应用程序在各种负载下的高性能和稳定性。通过学习这些进阶实践，读者将能够更全面地应对复杂的 UI 测试场景，确保系统的质量和性能。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/zh/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "UI 测试最佳实践的进阶篇（二）：组合测试和性能测试",
      "item": "http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "UI 测试最佳实践的进阶篇（二）：组合测试和性能测试",
  "name": "UI 测试最佳实践的进阶篇（二）：组合测试和性能测试",
  "description": "这篇博文是 UI 测试最佳实践的进阶篇，第二篇深入讨论组合测试和性能测试。文章详细介绍了如何有效地进行组合测试，覆盖多个交互元素的不同组合，以提高测试的全面性。此外，博文探讨了 UI 性能测试的重要性，并提供了一些性能测试的最佳实践，确保应用程序在各种负载下的高性能和稳定性。通过学习这些进阶实践，读者将能够更全面地应对复杂的 UI 测试场景，确保系统的质量和性能。",
  "keywords": [
    
  ],
  "articleBody": "文章由 UI 测试最佳实践项目 内容翻译而来，大家有条件的话可以去 UI 测试最佳实践项目阅读原文。\n组合测试 原文链接：https://github.com/NoriSte/ui-testing-best-practices/blob/master/sections/advanced/combinatorial-testing.md\n组合测试一段简要说明 组合测试 是一种经过验证的、成本较低的、更为有效的软件测试方法。 这种测试的关键思想是，并非每个参数都对每次故障都有影响，而是大多数故障是由相对较少的参数之间的相互作用引起的。 与传统方法相比，测试参数组合可以更有效地检测故障。 美国国家标准与技术研究院NIST 在 1999 年到 2004 年进行的一系列研究表明，大多数软件缺陷和故障是由一个或两个参数引起的，逐渐减少到由三个或更多参数引起的。这一发现被称为“交互规则”，对软件测试具有重要意义，因为这意味着测试参数组合可以比传统方法更有效地检测故障。NIST 和其他机构收集的数据表明，软件故障仅由少数几个变量的相互作用引发（不超过六个）。有时使用成对（2 路组合）测试可以以较低的成本获得相当不错的结果，通常不低于 60% 的故障覆盖率，但这可能对于关键任务的软件来说可能不足够。\n(1) 代码示例 – 产品负责人问题 一位产品负责人曾提出一个问题：\n“从最佳实践或实际角度来看，你是否应该在每种可能的配置下测试系统？ 例如，假设你有 A、B、C、D、E 五个功能，客户 1 拥有 A/B，客户 2 拥有 A/B/C，客户 3 拥有 A/D，客户 4 拥有 B/D，客户 5 拥有 A/B/C/D/E…. 你是否应该测试每种可能的功能组合，还是测试每个功能单独，如果它们在独立测试中能够正常工作，就相信它们整体上也能正常工作？”\n5 个客户和 5 个功能，详尽无遗将需要 25 个测试。 在描述的约束条件下，只需要 14 个测试。 为了提供一个代码示例，我们将使用描述规格的CTWedge脚本化组合模型。还有许多其他列在pairwise.org上的 CT 工具。我们（在西门子）使用过的其他一些工具包括ACTs和CAgen。\nModel POquestion Parameters: features : {A, B, C, D, E} customer: {1, 2, 3, 4, 5} Constraints: # customer = 1 =\u003e features = A || features = B # # customer = 2 =\u003e features = A || features = B || features = C # # customer = 3 =\u003e features = A || features = D # # customer = 4 =\u003e features = B || features = D # # customer = 5 =\u003e features = A || features = B || features = C || features = D || features = E # 在这里粘贴脚本以生成结果 这里。\n测试的目标是检验参数之间的双向（或更多）相互作用。当只有两个参数时，收益并不太明显，因为这是一种穷举的方法。\n如果参数数量超过两个，对它们之间的双向交互进行覆盖将确保找到该领域可能存在的 60-99% 的所有潜在缺陷。三向交互为 90%，四向为 95%，五向为 97%，六向为 100%。\n在这个例子中，通过添加另一个参数，我们称之为 configuration，并假设有 5 种可能的配置 / 参数值。这将生成一个包含 125 个测试的详尽套件。\nModel POquestion Parameters: features : {A, B, C, D, E} customer: {1, 2, 3, 4, 5} configuration: {config1, config2, config3, config4, config5} Constraints: # customer = 1 =\u003e features = A || features = B # # customer = 2 =\u003e features = A || features = B || features = C # # customer = 3 =\u003e features = A || features = D # # customer = 4 =\u003e features = B || features = D # # customer = 5 =\u003e features = A || features = B || features = C || features = D || features = E # 将其粘贴到 CTWedge 上，这将生成一个包含 31 个测试的测试套件。如果添加一些约束，表明某些特性不应该与某些配置一起工作，甚至可以进一步精简。\n请注意，组合测试的建模可以并且确实包含等价分区、边界值分析和其他技术。模型越准确，测试套件的故障检测能力就越强。\n(2) 代码示例 – NASA 的开关板共有 34 个开关 以 NASA 的一个例子为参考，有 34 个开关，每个开关可以处于打开或关闭的状态。要进行详尽的测试，有 170 亿种可能的组合方式。\n不必测试所有的 2^34 种可能性。通过使用组合测试进行建模，你可以根据风险做出经过计算的决策。\nModel NASAswitches Parameters: switch1: Boolean switch2: Boolean switch3: Boolean switch4: Boolean switch5: Boolean switch6: Boolean switch7: Boolean switch8: Boolean switch9: Boolean switch10: Boolean switch11: Boolean switch12: Boolean switch13: Boolean switch14: Boolean switch15: Boolean switch16: Boolean switch17: Boolean switch18: Boolean switch19: Boolean switch20: Boolean switch21: Boolean switch22: Boolean switch23: Boolean switch24: Boolean switch25: Boolean switch26: Boolean switch27: Boolean switch28: Boolean switch29: Boolean switch30: Boolean switch31: Boolean switch32: Boolean switch33: Boolean switch34: Boolean 在 CTWedge 中通过下拉菜单开关测试的相互作用次数。\n14 次测试：通过开关之间的 2 次相互作用引起的故障 - 可根据产品找到 60-99% 的所有潜在故障 33 次测试：通过开关之间的 3 次相互作用引起的故障 - 可根据产品找到 90-99% 的所有潜在故障 85 次测试：通过开关之间的 4 次相互作用引起的故障 - 可根据产品找到 95-99% 的所有潜在故障 220 次测试：通过开关之间的 5 次相互作用引起的故障 - 可找到超过 99% 的所有潜在故障 538 次测试：通过开关之间的 6 次相互作用引起的故障 - 可找到所有潜在故障的 100% (2) 代码示例 - 西门子楼宇操作员 CI 配置 参考上面的幻灯片链接或直播视频以获取有关如何使用CAMetrics测量组合覆盖率的详细说明。基本上，你可以使用任何组合测试工具生成一个 CSV 文件，然后将其拖放到 CAMetrics 中。之后，CAMetrics 可以为你提供各种组合覆盖率报告。\n请注意，将 CSV 转换为 JSON 非常简单，然后可以使用 JSON 文件在所选的任何测试框架中进行数据驱动测试。\nModel CI Parameters: deployment_UI : { branch, development, staging } deployment_API: { development, staging } spec_suite: { ui_services_stubbed, ui_services, ui_services_hardware, spot_check} browser: { chrome, electron, firefox } Constraints: // one extra constraint for firefox spot checks # browser=firefox \u003c=\u003e spec_suite=spot_check # // on staging, run all tests # spec_suite=ui_services_hardware \u003c=\u003e deployment_API=staging # // match dev vs dev, staging vs staging, and when on staging use Chrome # deployment_UI=development =\u003e deployment_API=development # # deployment_UI=staging =\u003e deployment_API=staging # # deployment_UI=staging \u0026\u0026 deployment_API=staging =\u003e browser=chrome # // when on branch, stub the services # deployment_UI=branch =\u003e spec_suite=ui_services_stubbed # // do not stub the services when on UI development # deployment_UI=development =\u003e spec_suite!=ui_services_stubbed # 组合测试参考资料和延伸阅读 自动化组合测试软件\n幻灯片 16-50：探讨自动化和组合纪律在辅助探索性测试方面的应用\n西门子工业公司建筑技术部实际组合测试方法的应用\n现代 Web 开发中组合测试的工业研究\n在大型组织中引入组合测试\n组合策略的输入参数建模\n组合模型中的常见模式\n等效类和两层覆盖阵的高效验证和同时测试\n性能测试 原文链接：https://github.com/NoriSte/ui-testing-best-practices/blob/master/sections/advanced/performance-testing.md\n性能测试一段简要说明 虽然性能测试是一个庞大的话题，但作为 Web 开发者，我们可以迅速从其核心原则中获益，以提升用户体验、满足功能和非功能需求（NFRs），并检测可能泄漏到生产环境中的不明确系统问题。\n(1) 通过 Lighthouse 确保用户体验 作为 Web 开发者，我们最关心的是用户对性能的感知。谢天谢地，Google 已经让这变得简单，并为我们提供了一个第三方权威评估我们 Web 应用程序的工具 - Lighthouse。\n“Lighthouse 是一个用于提高网页质量的开源自动化工具。你可以对任何网页运行它，无论是公开的还是需要身份验证的。它可以进行性能、可访问性、渐进式 Web 应用、SEO 等方面的审计。”\n在这个话题中，我们只关注性能，但你也应该考虑从 Lighthouse 的审计中获得关于渐进式 Web 应用、可访问性、搜索引擎优化和最佳实践的评估。\n入门很简单：Chrome \u003e 开发者工具 \u003e 审计 \u003e Lighthouse。然后，生成报告。它会显示如下，并为你提供有关如何改善用户体验的详细指南。\n一旦进行了改进并达成了基线评级，您可以通过将 Lighthouse 纳入您的 CI 来防止回归。\n将 Lighthouse 添加为 node_module；npm i -D lighthouse 或 yarn add --dev lighthouse。 参考 Lighthouse Git 存储库 上的工作流示例。 防止性能评级（和/或其他评级）在开发人员提交代码时出现回归！ 使用 Cypress 集成 Lighthouse 如果你是 Cypress 用户，通过 cypress-audit 插件，你可以在 Cypress 测试中执行 Lighthouse 审计，以及 Pa11y 进行自动化的可访问性测试。\n除了通常的插件设置之外，你可能需要解决你的应用程序的跨域问题，直到 Cypress 官方支持它。\n以下是一个带有内联说明的示例测试。\n// Pass in optional configuration parameters for the Cypress test: // you may need to increase default timeout for the overall task, if you have a slow app. Mind that Lighthouse is only for Chromium based browsers describe('Lighthouse audit ', { taskTimeout: 90000, browser: 'chrome' }, () =\u003e { before(() =\u003e { // if you are using programmatic login, you might not need to use the cy.forceVisit('/') workaround for cross-origin (linked above) cy.login(Cypress.env('USERNAME'), Cypress.env('PASSWORD')); }); // thresholds is the first argument to cy.lighthouse(), most of the performance configuration is done here. // a complete list of Lighthouse parameters to use as thresholds can be found at https://github.com/mfrachet/cypress-audit/blob/master/docs/lighthouse.md // for an explanation of the parameters, refer to https://web.dev/lighthouse-performance/ const thresholds = { 'first-contentful-paint': 20000, 'largest-contentful-paint': 35000, 'first-meaningful-paint': 20000, 'speed-index': 25000, interactive: 40000, performance: 5, accessibility: 50, 'best-practices': 50, seo: 50, pwa: 20 }; // the 2nd, and optional argument to cy.lighthouse() replicates Lighthouse CLI commands https://github.com/GoogleChrome/lighthouse#cli-options const desktopConfig = { formFactor: 'desktop', screenEmulation: { disabled: true } }; // your app may need this beforeEach and afterEach workaround for cross-origin (linked above) beforeEach(() =\u003e { cy.restoreLocalStorage(); // Preserve Cookies between tests Cypress.Cookies.defaults({ preserve: /[\\s\\S]*/ }); }); afterEach(() =\u003e { cy.saveLocalStorage(); }); it('should pass audit for main page ', () =\u003e { cy.lighthouse(thresholds, desktopConfig); }); it('should pass audit for another page', () =\u003e { cy.forceVisit('anotherUrl'); cy.lighthouse(thresholds, desktopConfig); }); }); // Commands for working around cross origin, if needed // -- Save localStorage between tests let LOCAL_STORAGE_MEMORY = {}; Cypress.Commands.add('saveLocalStorage', () =\u003e { Object.keys(localStorage).forEach(key =\u003e { LOCAL_STORAGE_MEMORY[key] = localStorage[key]; }); }); Cypress.Commands.add('restoreLocalStorage', () =\u003e { Object.keys(LOCAL_STORAGE_MEMORY).forEach(key =\u003e { localStorage.setItem(key, LOCAL_STORAGE_MEMORY[key]); }); }); // -- Visit multiple domains in one test Cypress.Commands.add('forceVisit', url =\u003e { cy.window().then(win =\u003e win.open(url, '_self')); }); (2) 性能作为一种非功能性需求和 Kano 模型 我们可以通过Kano 模型开始建立对性能需求的理解。\n“Kano 模型是在 1980 年代由日本学者狩野纪明教授开发的产品开发和客户满意度理论，将客户偏好分为五类。”\n从高层次上看，卡诺模型总结了性能特性是标准要求，是任何竞争性产品所期望的。这与我们使用 Lighthouse 的方式重叠；通过它，我们确保满足客户偏好，并确保我们不会回退。\n在这一点上，我们已经满足了明确说明的性能要求。然而，在复杂的应用程序中，我们还需要注意非功能性需求（NFRs）。但是，什么是 NFRs 呢？下面是它们在一瞥之下的高层次视图 - 来自双重标准的ISO/IEC 25010 产品质量模型。\n在下一节中，让我们专注于 NFRs 如何帮助我们进行非功能性能测试的方法。\n(3) 性能测试的类型 为了实际应用，我们可以将非功能性能测试分为 3 个类别\nLoad 负载测试 Spike 尖峰测试 Endurance 耐久测试 这张图总结了它们的上下文：\n关于基准测试和压力测试的额外说明: 本质上，基准测试归结为逐步的步骤，因为我们逐渐了解我们的系统，这成为了初始工作流程的一部分，其中使用自动化工具；“我的系统已经崩溃了吗？没有？那我再增加一点”。而压力测试，简而言之，就是做得过火了。\n那么可扩展性测试的区别是什么？它是相关的；区别在于系统何时开始以不令人满意的方式不响应的评估。通常情况下，使用自动化工具的方法足够接近，并且可以在负载测试中分析图表时实现。\n这是可扩展性测试意图的高层次图：\n(4) 使用 k6-loadImpact 进行性能测试的实际应用 k6-loadImpact在 Web 开发领域有两个显著的特点。\n使用 JS（ES6） 专为 CI 构建 额外的好处：如果你习惯使用 Postman，你可以轻松地将这些测试转换为 k6。 K6 可以 进行 DOM 测试，但我们认为 Lighthouse 已经处理了这方面的问题。K6 真正强大的地方在于测试 API 时。\n你可以在这里找到使用 k6 的快速入门示例。 这些示例从非常简单的开始，旨在快速建立理解。它们已经准备好直接运行和调整。我们将不会在这里重复这些知识。\n相反，在本节中，我们将概述 k6 测试的概览，并稍后展示一个代码示例，演示如何配置 k6 以适应不同类型的性能测试。\n// k6 lifecycle overview: // 1. init code -\u003e runs once // this is where we configure the type of performance testing (there are also // additional options we do not cover here) export let options = { // there will be 1 virtual user vus: 1, // default function() will execute 1 time. This simple config // is best when trying to get things to work iterations: 1, } // 2. (optional) setup code -\u003e runs once export function setup() { // for example getting a token so you can run API tests in the default // function that comes in (3) virtual user code // what gets returned from this function is passed as an argument to the next // function. For example: `token` return getTokenForUser(); } // 3. virtual user code -\u003e runs once or many times based on // `export let options = { ... } ` export default function(token) { // http.get is a k6 function that hits a URL with optional test parameters // note that we do not need a token for this url http.get(\"http://test.loadimpact.com\"); } // 4. (optional) teardown code -\u003e runs once export function teardown(data) { // this is in case you need to clean up, for instance if failed test may // leave residue an impact state } 耐久测试配置：\nexport let options = { // endurance test for 30 seconds with 50 virtual users. Adds users immediately vus: 50, duration: \"30s\", // alternative to duration, you can specify the exact number of iterations // the test will run // iterations: 500, } 负载测试配置：\nexport let options = { // for 15 seconds ramps up 10 users, adds users gradually // adds a total of 40 users in the next 15 seconds, and up to 50 in the next // 30 seconds.. // lowers down the users to 10 and 5 in the next 15 second iterations stages: [ { duration: \"15s\", target: 10 }, { duration: \"15s\", target: 40 }, { duration: \"30s\", target: 50 }, { duration: \"15s\", target: 10 }, { duration: \"15s\", target: 5 }, ] } 尖锋测试配置：\nexport let options = { // starts slow and builds up the load rapidly, and then drops the load stages: [ { duration: \"5s\", target: 1 }, { duration: \"5s\", target: 5 }, { duration: \"5s\", target: 25 }, { duration: \"3s\", target: 200 }, { duration: \"3s\", target: 20 }, { duration: \"3s\", target: 10 }, { duration: \"3s\", target: 5 }, { duration: \"3s\", target: 1 }, ] } 正如你所看到的，stages 是配置性能测试类型的实用工具。\n我们如何分析测试结果？ K6 提供了一个简单的CLI 输出。我们认为这里最重要的两个高级数值是 http_req_duration，它详细说明了响应持续时间，以及 http_req，它显示发送的请求数量。如果这些数值在可接受的范围内，CLI 就达到了其目的。\n如果需要进行更深入的诊断，图形化的insights非常有价值。在这样的图表中，关键是 响应时间 和 请求速率 跟随 虚拟用户 的趋势。任何趋势上的变化都可能提示潜在问题。\n(5) 通过性能测试来防止不稳定的问题进入生产环境 可参考章节 不稳定的测试 \u003e 第三步：识别零星的系统问题 - 不稳定的系统\n性能测试参考资料和延伸阅读 Lighthouse 文档\nLighthouse 代码库\nKano 模型\nISO/IEC 25010 产品质量模型\nk6-loadImpact 文档\n使用 K6 的快速启动示例\n参考资料 UI 测试最佳实践项目:https://github.com/NoriSte/ui-testing-best-practices UI 测试最佳实践项目中文翻译:https://github.com/naodeng/ui-testing-best-practices 欢迎关注软件测试同学的公众号“软件测试同学”，原创 QA 技术文章第一时间推送。\n",
  "wordCount" : "1462",
  "inLanguage": "zh",
  "datePublished": "2024-01-30T16:06:44+08:00",
  "dateModified": "2024-01-30T16:06:44+08:00",
  "author":{
    "@type": "Person",
    "name": "nao.deng"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "软件测试同学",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/zh/" accesskey="h" title="软件测试同学 (Alt + H)">软件测试同学</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/" title="🇬🇧English"
                            aria-label="🇬🇧English">🇬🇧English</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/zh/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/zhcategories" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/zhtags" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/zh/zhseries" title="系列">
                    <span>系列</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/zh/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/zh/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      UI 测试最佳实践的进阶篇（二）：组合测试和性能测试
    </h1>
    <div class="post-meta"><span title='2024-01-30 16:06:44 +0800 CST'>一月 30, 2024</span>&nbsp;·&nbsp;7 分钟&nbsp;·&nbsp;1462 字&nbsp;·&nbsp;nao.deng&nbsp;|&nbsp;<a href="https://github.com/naodeng/naodeng.com.cn/tree/main/content/posts/UI-Automation-Testing/UI-Testing-best-practice-advanced-combinatorial-testing-and-performance-testing.zh.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95" aria-label="组合测试">组合测试</a><ul>
                        
                <li>
                    <a href="#%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e4%b8%80%e6%ae%b5%e7%ae%80%e8%a6%81%e8%af%b4%e6%98%8e" aria-label="组合测试一段简要说明">组合测试一段简要说明</a></li>
                <li>
                    <a href="#1-%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b--%e4%ba%a7%e5%93%81%e8%b4%9f%e8%b4%a3%e4%ba%ba%e9%97%ae%e9%a2%98" aria-label="(1) 代码示例 – 产品负责人问题">(1) 代码示例 – 产品负责人问题</a></li>
                <li>
                    <a href="#2-%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b--nasa-%e7%9a%84%e5%bc%80%e5%85%b3%e6%9d%bf%e5%85%b1%e6%9c%89-34-%e4%b8%aa%e5%bc%80%e5%85%b3" aria-label="(2) 代码示例 – NASA 的开关板共有 34 个开关">(2) 代码示例 – NASA 的开关板共有 34 个开关</a></li>
                <li>
                    <a href="#2-%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b---%e8%a5%bf%e9%97%a8%e5%ad%90%e6%a5%bc%e5%ae%87%e6%93%8d%e4%bd%9c%e5%91%98-ci-%e9%85%8d%e7%bd%aehttpscypressslidescomcypress-iosiemens-case-study16" aria-label="(2) 代码示例 - 西门子楼宇操作员 CI 配置">(2) 代码示例 - 西门子楼宇操作员 CI 配置</a></li>
                <li>
                    <a href="#%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99%e5%92%8c%e5%bb%b6%e4%bc%b8%e9%98%85%e8%af%bb" aria-label="组合测试参考资料和延伸阅读">组合测试参考资料和延伸阅读</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95" aria-label="性能测试">性能测试</a><ul>
                        
                <li>
                    <a href="#%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%e4%b8%80%e6%ae%b5%e7%ae%80%e8%a6%81%e8%af%b4%e6%98%8e" aria-label="性能测试一段简要说明">性能测试一段简要说明</a></li>
                <li>
                    <a href="#1-%e9%80%9a%e8%bf%87-lighthouse-%e7%a1%ae%e4%bf%9d%e7%94%a8%e6%88%b7%e4%bd%93%e9%aa%8c" aria-label="(1) 通过 Lighthouse 确保用户体验">(1) 通过 Lighthouse 确保用户体验</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-cypress-%e9%9b%86%e6%88%90-lighthouse" aria-label="使用 Cypress 集成 Lighthouse">使用 Cypress 集成 Lighthouse</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e6%80%a7%e8%83%bd%e4%bd%9c%e4%b8%ba%e4%b8%80%e7%a7%8d%e9%9d%9e%e5%8a%9f%e8%83%bd%e6%80%a7%e9%9c%80%e6%b1%82%e5%92%8c-kano-%e6%a8%a1%e5%9e%8b" aria-label="(2) 性能作为一种非功能性需求和 Kano 模型">(2) 性能作为一种非功能性需求和 Kano 模型</a></li>
                <li>
                    <a href="#3-%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%e7%9a%84%e7%b1%bb%e5%9e%8b" aria-label="(3) 性能测试的类型">(3) 性能测试的类型</a></li>
                <li>
                    <a href="#4-%e4%bd%bf%e7%94%a8-k6-loadimpact-%e8%bf%9b%e8%a1%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%e7%9a%84%e5%ae%9e%e9%99%85%e5%ba%94%e7%94%a8" aria-label="(4) 使用 k6-loadImpact 进行性能测试的实际应用">(4) 使用 k6-loadImpact 进行性能测试的实际应用</a><ul>
                        
                <li>
                    <a href="#%e6%88%91%e4%bb%ac%e5%a6%82%e4%bd%95%e5%88%86%e6%9e%90%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c" aria-label="我们如何分析测试结果？">我们如何分析测试结果？</a></li></ul>
                </li>
                <li>
                    <a href="#5-%e9%80%9a%e8%bf%87%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%e6%9d%a5%e9%98%b2%e6%ad%a2%e4%b8%8d%e7%a8%b3%e5%ae%9a%e7%9a%84%e9%97%ae%e9%a2%98%e8%bf%9b%e5%85%a5%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83" aria-label="(5) 通过性能测试来防止不稳定的问题进入生产环境">(5) 通过性能测试来防止不稳定的问题进入生产环境</a></li>
                <li>
                    <a href="#%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99%e5%92%8c%e5%bb%b6%e4%bc%b8%e9%98%85%e8%af%bb" aria-label="性能测试参考资料和延伸阅读">性能测试参考资料和延伸阅读</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" aria-label="参考资料">参考资料</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>文章由 <a href="https://github.com/NoriSte/ui-testing-best-practices">UI 测试最佳实践项目</a> 内容翻译而来，大家有条件的话可以去 <a href="https://github.com/NoriSte/ui-testing-best-practices">UI 测试最佳实践项目</a>阅读原文。</p>
<h2 id="组合测试">组合测试<a hidden class="anchor" aria-hidden="true" href="#组合测试">#</a></h2>
<p>原文链接：<a href="https://github.com/NoriSte/ui-testing-best-practices/blob/master/sections/advanced/combinatorial-testing.md">https://github.com/NoriSte/ui-testing-best-practices/blob/master/sections/advanced/combinatorial-testing.md</a></p>
<h3 id="组合测试一段简要说明">组合测试一段简要说明<a hidden class="anchor" aria-hidden="true" href="#组合测试一段简要说明">#</a></h3>
<ul>
<li><a href="http://csrc.nist.gov/Projects/automated-combinatorial-testing-for-software">组合测试</a> 是一种经过验证的、成本较低的、更为有效的软件测试方法。</li>
<li>这种测试的关键思想是，并非每个参数都对每次故障都有影响，而是大多数故障是由相对较少的参数之间的相互作用引起的。</li>
<li>与传统方法相比，测试参数组合可以更有效地检测故障。</li>
</ul>
<p>美国国家标准与技术研究院<a href="https://www.nist.gov/">NIST</a> 在 1999 年到 2004 年进行的一系列研究表明，大多数软件缺陷和故障是由一个或两个参数引起的，逐渐减少到由三个或更多参数引起的。这一发现被称为“交互规则”，对软件测试具有重要意义，因为这意味着测试参数组合可以比传统方法更有效地检测故障。NIST 和其他机构收集的数据表明，软件故障仅由少数几个变量的相互作用引发（不超过六个）。有时使用成对（2 路组合）测试可以以较低的成本获得相当不错的结果，通常不低于 60% 的故障覆盖率，但这可能对于关键任务的软件来说可能不足够。</p>
<h3 id="1-代码示例--产品负责人问题">(1) 代码示例 – 产品负责人问题<a hidden class="anchor" aria-hidden="true" href="#1-代码示例--产品负责人问题">#</a></h3>
<p>一位产品负责人曾提出一个问题：</p>
<blockquote>
<p>&ldquo;从最佳实践或实际角度来看，你是否应该在每种可能的配置下测试系统？
例如，假设你有 A、B、C、D、E 五个功能，客户 1 拥有 A/B，客户 2 拥有 A/B/C，客户 3 拥有 A/D，客户 4 拥有 B/D，客户 5 拥有 A/B/C/D/E&hellip;.
你是否应该测试每种可能的功能组合，还是测试每个功能单独，如果它们在独立测试中能够正常工作，就相信它们整体上也能正常工作？&rdquo;</p>
</blockquote>
<p>5 个客户和 5 个功能，详尽无遗将需要 25 个测试。
在描述的约束条件下，只需要 14 个测试。
为了提供一个代码示例，我们将使用描述规格的<a href="https://foselab.unibg.it/ctwedge/">CTWedge</a>脚本化组合模型。还有许多其他列在<a href="http://pairwise.org/">pairwise.org</a>上的 CT 工具。我们（在西门子）使用过的其他一些工具包括<a href="https://csrc.nist.gov/projects/automated-combinatorial-testing-for-software">ACTs</a>和<a href="https://matris.sba-research.org/tools/cagen/#/workspaces">CAgen</a>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Text" data-lang="Text"><span class="line"><span class="cl">Model POquestion
</span></span><span class="line"><span class="cl"> Parameters:
</span></span><span class="line"><span class="cl">   features : {A, B, C, D, E}
</span></span><span class="line"><span class="cl">   customer:  {1, 2, 3, 4, 5}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> Constraints:
</span></span><span class="line"><span class="cl">   # customer = 1 =&gt; features = A || features = B #
</span></span><span class="line"><span class="cl">   # customer = 2 =&gt; features = A || features = B || features = C #
</span></span><span class="line"><span class="cl">   # customer = 3 =&gt; features = A || features = D #
</span></span><span class="line"><span class="cl">   # customer = 4 =&gt; features = B || features = D #
</span></span><span class="line"><span class="cl">   # customer = 5 =&gt; features = A || features = B || features = C || features = D || features = E #
</span></span></code></pre></div><p>在这里粘贴脚本以生成结果 <a href="http://foselab.unibg.it/ctwedge/">这里</a>。</p>
<p>测试的目标是检验参数之间的双向（或更多）相互作用。当只有两个参数时，收益并不太明显，因为这是一种穷举的方法。</p>
<p>如果参数数量超过两个，对它们之间的双向交互进行覆盖将确保找到该领域可能存在的 60-99% 的所有潜在缺陷。三向交互为 90%，四向为 95%，五向为 97%，六向为 100%。</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/combinatorial-testing/ct-graph.PNG?raw=true" alt="组合测试图"  />
</p>
<p>在这个例子中，通过添加另一个<em>参数</em>，我们称之为 <code>configuration</code>，并假设有 5 种可能的配置 / <em>参数值</em>。这将生成一个包含 125 个测试的详尽套件。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Text" data-lang="Text"><span class="line"><span class="cl">Model POquestion
</span></span><span class="line"><span class="cl"> Parameters:
</span></span><span class="line"><span class="cl">   features : {A, B, C, D, E}
</span></span><span class="line"><span class="cl">   customer:  {1, 2, 3, 4, 5}
</span></span><span class="line"><span class="cl">   configuration: {config1, config2, config3, config4, config5}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> Constraints:
</span></span><span class="line"><span class="cl">   # customer = 1 =&gt; features = A || features = B #
</span></span><span class="line"><span class="cl">   # customer = 2 =&gt; features = A || features = B || features = C #
</span></span><span class="line"><span class="cl">   # customer = 3 =&gt; features = A || features = D #
</span></span><span class="line"><span class="cl">   # customer = 4 =&gt; features = B || features = D #
</span></span><span class="line"><span class="cl">   # customer = 5 =&gt; features = A || features = B || features = C || features = D || features = E #
</span></span></code></pre></div><p>将其粘贴到 <a href="https://foselab.unibg.it/ctwedge/">CTWedge</a> 上，这将生成一个包含 31 个测试的测试套件。如果添加一些约束，表明某些特性不应该与某些配置一起工作，甚至可以进一步精简。</p>
<p>请注意，组合测试的建模可以并且确实包含等价分区、边界值分析和其他技术。模型越准确，测试套件的故障检测能力就越强。</p>
<h3 id="2-代码示例--nasa-的开关板共有-34-个开关">(2) 代码示例 – NASA 的开关板共有 34 个开关<a hidden class="anchor" aria-hidden="true" href="#2-代码示例--nasa-的开关板共有-34-个开关">#</a></h3>
<p>以 NASA 的一个例子为参考，有 34 个开关，每个开关可以处于打开或关闭的状态。要进行详尽的测试，有 170 亿种可能的组合方式。</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/combinatorial-testing/nasa-switches.PNG?raw=true" alt=" "  />
</p>
<p>不必测试所有的 2^34 种可能性。通过使用组合测试进行建模，你可以根据风险做出经过计算的决策。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Model NASAswitches
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Parameters:
</span></span><span class="line"><span class="cl">    switch1: Boolean
</span></span><span class="line"><span class="cl">    switch2: Boolean
</span></span><span class="line"><span class="cl">    switch3: Boolean
</span></span><span class="line"><span class="cl">    switch4: Boolean
</span></span><span class="line"><span class="cl">    switch5: Boolean
</span></span><span class="line"><span class="cl">    switch6: Boolean
</span></span><span class="line"><span class="cl">    switch7: Boolean
</span></span><span class="line"><span class="cl">    switch8: Boolean
</span></span><span class="line"><span class="cl">    switch9: Boolean
</span></span><span class="line"><span class="cl">    switch10: Boolean
</span></span><span class="line"><span class="cl">    switch11: Boolean
</span></span><span class="line"><span class="cl">    switch12: Boolean
</span></span><span class="line"><span class="cl">    switch13: Boolean
</span></span><span class="line"><span class="cl">    switch14: Boolean
</span></span><span class="line"><span class="cl">    switch15: Boolean
</span></span><span class="line"><span class="cl">    switch16: Boolean
</span></span><span class="line"><span class="cl">    switch17: Boolean
</span></span><span class="line"><span class="cl">    switch18: Boolean
</span></span><span class="line"><span class="cl">    switch19: Boolean
</span></span><span class="line"><span class="cl">    switch20: Boolean
</span></span><span class="line"><span class="cl">    switch21: Boolean
</span></span><span class="line"><span class="cl">    switch22: Boolean
</span></span><span class="line"><span class="cl">    switch23: Boolean
</span></span><span class="line"><span class="cl">    switch24: Boolean
</span></span><span class="line"><span class="cl">    switch25: Boolean
</span></span><span class="line"><span class="cl">    switch26: Boolean
</span></span><span class="line"><span class="cl">    switch27: Boolean
</span></span><span class="line"><span class="cl">    switch28: Boolean
</span></span><span class="line"><span class="cl">    switch29: Boolean
</span></span><span class="line"><span class="cl">    switch30: Boolean
</span></span><span class="line"><span class="cl">    switch31: Boolean
</span></span><span class="line"><span class="cl">    switch32: Boolean
</span></span><span class="line"><span class="cl">    switch33: Boolean
</span></span><span class="line"><span class="cl">    switch34: Boolean
</span></span></code></pre></div><p>在 <a href="https://foselab.unibg.it/ctwedge/">CTWedge</a> 中通过下拉菜单开关测试的相互作用次数。</p>
<ul>
<li>14 次测试：通过开关之间的 2 次相互作用引起的故障 - 可根据产品找到 60-99% 的所有潜在故障</li>
<li>33 次测试：通过开关之间的 3 次相互作用引起的故障 - 可根据产品找到 90-99% 的所有潜在故障</li>
<li>85 次测试：通过开关之间的 4 次相互作用引起的故障 - 可根据产品找到 95-99% 的所有潜在故障</li>
<li>220 次测试：通过开关之间的 5 次相互作用引起的故障 - 可找到超过 99% 的所有潜在故障</li>
<li>538 次测试：通过开关之间的 6 次相互作用引起的故障 - 可找到所有潜在故障的 100%</li>
</ul>
<h3 id="2-代码示例---西门子楼宇操作员-ci-配置httpscypressslidescomcypress-iosiemens-case-study16">(2) 代码示例 - <a href="https://cypress.slides.com/cypress-io/siemens-case-study#/16">西门子楼宇操作员 CI 配置</a><a hidden class="anchor" aria-hidden="true" href="#2-代码示例---西门子楼宇操作员-ci-配置httpscypressslidescomcypress-iosiemens-case-study16">#</a></h3>
<p>参考上面的幻灯片链接或<a href="https://www.youtube.com/watch?v=aMPkaLOpyns&t=1624s">直播视频</a>以获取有关如何使用<a href="https://matris.sba-research.org/tools/cametrics/#/new">CAMetrics</a>测量组合覆盖率的详细说明。基本上，你可以使用任何组合测试工具生成一个 CSV 文件，然后将其拖放到 CAMetrics 中。之后，CAMetrics 可以为你提供各种组合覆盖率报告。</p>
<blockquote>
<p>请注意，将 <a href="https://www.csvjson.com/csv2json">CSV 转换为 JSON</a> 非常简单，然后可以使用 JSON 文件在所选的任何测试框架中进行数据驱动测试。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Model CI
</span></span><span class="line"><span class="cl"> Parameters:
</span></span><span class="line"><span class="cl">   deployment_UI : { branch, development, staging }
</span></span><span class="line"><span class="cl">   deployment_API:  { development, staging }
</span></span><span class="line"><span class="cl">   spec_suite: { ui_services_stubbed, ui_services, ui_services_hardware, spot_check}
</span></span><span class="line"><span class="cl">   browser: { chrome, electron, firefox }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> Constraints:
</span></span><span class="line"><span class="cl">   // one extra constraint for firefox spot checks
</span></span><span class="line"><span class="cl">   # browser=firefox &lt;=&gt; spec_suite=spot_check #
</span></span><span class="line"><span class="cl">   // on staging, run all tests
</span></span><span class="line"><span class="cl">   # spec_suite=ui_services_hardware &lt;=&gt; deployment_API=staging #
</span></span><span class="line"><span class="cl">   // match dev vs dev, staging vs staging, and when on staging use Chrome
</span></span><span class="line"><span class="cl">   # deployment_UI=development =&gt; deployment_API=development #
</span></span><span class="line"><span class="cl">   # deployment_UI=staging =&gt; deployment_API=staging #
</span></span><span class="line"><span class="cl">   # deployment_UI=staging &amp;&amp; deployment_API=staging =&gt; browser=chrome #
</span></span><span class="line"><span class="cl">   // when on branch, stub the services
</span></span><span class="line"><span class="cl">   # deployment_UI=branch =&gt; spec_suite=ui_services_stubbed #
</span></span><span class="line"><span class="cl">   // do not stub the services when on UI development
</span></span><span class="line"><span class="cl">   # deployment_UI=development =&gt; spec_suite!=ui_services_stubbed #
</span></span></code></pre></div><h3 id="组合测试参考资料和延伸阅读">组合测试参考资料和延伸阅读<a hidden class="anchor" aria-hidden="true" href="#组合测试参考资料和延伸阅读">#</a></h3>
<p><a href="https://csrc.nist.gov/Projects/automated-combinatorial-testing-for-software">自动化组合测试软件</a></p>
<p><a href="https://prezi.com/tpffqit1yn87/utilization-of-automation-and-combinatorial-disciplines-in-aid-of-exploratory-testing/">幻灯片 16-50：探讨自动化和组合纪律在辅助探索性测试方面的应用</a></p>
<p><a href="https://ieeexplore.ieee.org/document/7899057?section=abstract">西门子工业公司建筑技术部实际组合测试方法的应用</a></p>
<p><a href="https://ieeexplore.ieee.org/document/8728910">现代 Web 开发中组合测试的工业研究</a></p>
<p><a href="https://ieeexplore.ieee.org/document/7085645/">在大型组织中引入组合测试</a></p>
<p><a href="http://barbie.uta.edu/~mehra/1%20INPUT%20PARAMETER%20MODELING%20FOR%20COMBINATION%20STRATEGIES.pdf">组合策略的输入参数建模</a></p>
<p><a href="http://barbie.uta.edu/~mehra/62_Common%20Patterns%20in%20Combinatorial%20Models.pdf">组合模型中的常见模式</a></p>
<p><a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=917899">等效类和两层覆盖阵的高效验证和同时测试</a></p>
<h2 id="性能测试">性能测试<a hidden class="anchor" aria-hidden="true" href="#性能测试">#</a></h2>
<p>原文链接：<a href="https://github.com/NoriSte/ui-testing-best-practices/blob/master/sections/advanced/performance-testing.md">https://github.com/NoriSte/ui-testing-best-practices/blob/master/sections/advanced/performance-testing.md</a></p>
<h3 id="性能测试一段简要说明">性能测试一段简要说明<a hidden class="anchor" aria-hidden="true" href="#性能测试一段简要说明">#</a></h3>
<p>虽然性能测试是一个庞大的话题，但作为 Web 开发者，我们可以迅速从其核心原则中获益，以提升用户体验、满足功能和非功能需求（NFRs），并检测可能泄漏到生产环境中的不明确系统问题。</p>
<h3 id="1-通过-lighthouse-确保用户体验">(1) 通过 Lighthouse 确保用户体验<a hidden class="anchor" aria-hidden="true" href="#1-通过-lighthouse-确保用户体验">#</a></h3>
<p>作为 Web 开发者，我们最关心的是用户对性能的感知。谢天谢地，Google 已经让这变得简单，并为我们提供了一个第三方权威评估我们 Web 应用程序的工具 - <a href="https://developers.google.com/web/tools/lighthouse">Lighthouse</a>。</p>
<blockquote>
<p><em>&ldquo;Lighthouse 是一个用于提高网页质量的开源自动化工具。你可以对任何网页运行它，无论是公开的还是需要身份验证的。它可以进行性能、可访问性、渐进式 Web 应用、SEO 等方面的审计。&rdquo;</em></p>
</blockquote>
<p>在这个话题中，我们只关注性能，但你也应该考虑从 Lighthouse 的审计中获得关于<strong>渐进式 Web 应用</strong>、<strong>可访问性</strong>、<strong>搜索引擎优化</strong>和<strong>最佳实践</strong>的评估。</p>
<p>入门很简单：Chrome &gt; 开发者工具 &gt; 审计 &gt; Lighthouse。然后，生成报告。它会显示如下，并为你提供有关如何改善用户体验的详细指南。</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/perf-testing/lighthouse.png?raw=true" alt="Lighthouse 报告"  />
</p>
<p>一旦进行了改进并达成了基线评级，您可以通过将 Lighthouse 纳入您的 CI 来防止回归。</p>
<ul>
<li>将 Lighthouse 添加为 node_module；<code>npm i -D lighthouse</code> 或 <code>yarn add --dev lighthouse</code>。</li>
<li>参考 <a href="https://github.com/GoogleChrome/lighthouse/blob/master/docs/readme.md#using-programmatically">Lighthouse Git 存储库</a> 上的工作流示例。</li>
<li>防止性能评级（和/或其他评级）在开发人员提交代码时出现回归！</li>
</ul>
<h4 id="使用-cypress-集成-lighthouse">使用 Cypress 集成 Lighthouse<a hidden class="anchor" aria-hidden="true" href="#使用-cypress-集成-lighthouse">#</a></h4>
<p>如果你是 Cypress 用户，通过 <a href="https://github.com/mfrachet/cypress-audit">cypress-audit</a> 插件，你可以在 Cypress 测试中执行 Lighthouse 审计，以及 <a href="https://www.npmjs.com/package/pa11y">Pa11y</a> 进行自动化的可访问性测试。</p>
<blockquote>
<p>除了<a href="https://github.com/mfrachet/cypress-audit#preparation">通常的插件设置</a>之外，你可能需要解决你的应用程序的<a href="https://github.com/cypress-io/cypress/issues/944#issuecomment-788373384">跨域问题</a>，直到 Cypress 官方支持它。</p>
</blockquote>
<p>以下是一个带有内联说明的示例测试。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Pass in optional configuration parameters for the Cypress test:
</span></span></span><span class="line"><span class="cl"><span class="c1">// you may need to increase default timeout for the overall task, if you have a slow app. Mind that Lighthouse is only for Chromium based browsers
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Lighthouse audit &#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">taskTimeout</span>: <span class="kt">90000</span><span class="p">,</span> <span class="nx">browser</span><span class="o">:</span> <span class="s1">&#39;chrome&#39;</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">before</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// if you are using programmatic login, you might not need to use the cy.forceVisit(&#39;/&#39;) workaround for cross-origin (linked above)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">cy</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">Cypress</span><span class="p">.</span><span class="nx">env</span><span class="p">(</span><span class="s1">&#39;USERNAME&#39;</span><span class="p">),</span> <span class="nx">Cypress</span><span class="p">.</span><span class="nx">env</span><span class="p">(</span><span class="s1">&#39;PASSWORD&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// thresholds is the first argument to cy.lighthouse(), most of the performance configuration is done here.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// a complete list of Lighthouse parameters to use as thresholds can be found at https://github.com/mfrachet/cypress-audit/blob/master/docs/lighthouse.md
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// for an explanation of the parameters, refer to https://web.dev/lighthouse-performance/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">thresholds</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;first-contentful-paint&#39;</span><span class="o">:</span> <span class="mi">20000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;largest-contentful-paint&#39;</span><span class="o">:</span> <span class="mi">35000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;first-meaningful-paint&#39;</span><span class="o">:</span> <span class="mi">20000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;speed-index&#39;</span><span class="o">:</span> <span class="mi">25000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">interactive</span>: <span class="kt">40000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">performance</span>: <span class="kt">5</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">accessibility</span>: <span class="kt">50</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;best-practices&#39;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">seo</span>: <span class="kt">50</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pwa</span>: <span class="kt">20</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// the 2nd, and optional argument to cy.lighthouse() replicates Lighthouse CLI commands https://github.com/GoogleChrome/lighthouse#cli-options
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">desktopConfig</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">formFactor</span><span class="o">:</span> <span class="s1">&#39;desktop&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">screenEmulation</span><span class="o">:</span> <span class="p">{</span> <span class="nx">disabled</span>: <span class="kt">true</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// your app may need this beforeEach and afterEach workaround for cross-origin (linked above)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cy</span><span class="p">.</span><span class="nx">restoreLocalStorage</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Preserve Cookies between tests
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">Cypress</span><span class="p">.</span><span class="nx">Cookies</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">preserve</span><span class="o">:</span> <span class="sr">/[\s\S]*/</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">afterEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cy</span><span class="p">.</span><span class="nx">saveLocalStorage</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should pass audit for main page &#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cy</span><span class="p">.</span><span class="nx">lighthouse</span><span class="p">(</span><span class="nx">thresholds</span><span class="p">,</span> <span class="nx">desktopConfig</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should pass audit for another page&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cy</span><span class="p">.</span><span class="nx">forceVisit</span><span class="p">(</span><span class="s1">&#39;anotherUrl&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cy</span><span class="p">.</span><span class="nx">lighthouse</span><span class="p">(</span><span class="nx">thresholds</span><span class="p">,</span> <span class="nx">desktopConfig</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Commands for working around cross origin, if needed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// -- Save localStorage between tests
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">LOCAL_STORAGE_MEMORY</span> <span class="o">=</span> <span class="p">{};</span>
</span></span><span class="line"><span class="cl"><span class="nx">Cypress</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;saveLocalStorage&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">key</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">LOCAL_STORAGE_MEMORY</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Cypress</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;restoreLocalStorage&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">LOCAL_STORAGE_MEMORY</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">key</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">LOCAL_STORAGE_MEMORY</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// -- Visit multiple domains in one test
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Cypress</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;forceVisit&#39;</span><span class="p">,</span> <span class="nx">url</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">cy</span><span class="p">.</span><span class="nb">window</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">win</span> <span class="o">=&gt;</span> <span class="nx">win</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="s1">&#39;_self&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h3 id="2-性能作为一种非功能性需求和-kano-模型">(2) 性能作为一种非功能性需求和 Kano 模型<a hidden class="anchor" aria-hidden="true" href="#2-性能作为一种非功能性需求和-kano-模型">#</a></h3>
<p>我们可以通过<a href="https://en.wikipedia.org/wiki/Kano_model">Kano 模型</a>开始建立对性能需求的理解。</p>
<blockquote>
<p><em>&ldquo;Kano 模型是在 1980 年代由日本学者狩野纪明教授开发的产品开发和客户满意度理论，将客户偏好分为五类。&rdquo;</em></p>
</blockquote>
<p>从高层次上看，卡诺模型总结了性能特性是标准要求，是任何竞争性产品所期望的。这与我们使用 Lighthouse 的方式重叠；通过它，我们确保满足客户偏好，并确保我们不会回退。</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/perf-testing/KANO_model.jpg?raw=true" alt="Kano 模型"  />
</p>
<p>在这一点上，我们已经满足了明确说明的性能要求。然而，在复杂的应用程序中，我们还需要注意非功能性需求（NFRs）。但是，什么是 NFRs 呢？下面是它们在一瞥之下的高层次视图 - 来自双重标准的<a href="https://www.iso.org/standard/35733.html">ISO/IEC 25010 产品质量模型</a>。</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/perf-testing/ISO_IEC_25010.jpg?raw=true" alt="ISO/IEC标准"  />
</p>
<p>在下一节中，让我们专注于 NFRs 如何帮助我们进行非功能性能测试的方法。</p>
<h3 id="3-性能测试的类型">(3) 性能测试的类型<a hidden class="anchor" aria-hidden="true" href="#3-性能测试的类型">#</a></h3>
<p>为了实际应用，我们可以将非功能性能测试分为 3 个类别</p>
<ul>
<li>Load 负载测试</li>
<li>Spike 尖峰测试</li>
<li>Endurance 耐久测试</li>
</ul>
<p>这张图总结了它们的上下文：</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/perf-testing/performanceTesting.jpg?raw=true" alt="ISO/IEC标准"  />
</p>
<p><em><strong>关于基准测试和压力测试的额外说明</strong>: 本质上，基准测试归结为逐步的步骤，因为我们逐渐了解我们的系统，这成为了初始工作流程的一部分，其中使用自动化工具；</em>&ldquo;我的系统已经崩溃了吗？没有？那我再增加一点&rdquo;。<em>而压力测试，简而言之，就是做得过火了。</em></p>
<p>那么<strong>可扩展性测试</strong>的区别是什么？它是相关的；区别在于系统何时开始以不令人满意的方式不响应的评估。通常情况下，使用自动化工具的方法足够接近，并且可以在负载测试中分析图表时实现。</p>
<p>这是可扩展性测试意图的高层次图：</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/perf-testing/scalabilityTesting.jpg?raw=true" alt="ISO/IEC标准"  />
</p>
<h3 id="4-使用-k6-loadimpact-进行性能测试的实际应用">(4) 使用 k6-loadImpact 进行性能测试的实际应用<a hidden class="anchor" aria-hidden="true" href="#4-使用-k6-loadimpact-进行性能测试的实际应用">#</a></h3>
<p><a href="https://docs.k6.io/docs">k6-loadImpact</a>在 Web 开发领域有两个显著的特点。</p>
<ul>
<li>使用 JS（ES6）</li>
<li>专为 CI 构建</li>
</ul>
<p>额外的好处：如果你习惯使用 Postman，你可以轻松地将这些测试转换为 k6。
K6 <em>可以</em> 进行 DOM 测试，但我们认为 Lighthouse 已经处理了这方面的问题。K6 真正强大的地方在于测试 API 时。</p>
<p>你可以在<a href="https://github.com/muratkeremozcan/k6-loadImpact">这里找到使用 k6 的快速入门示例</a>。
这些示例从非常简单的开始，旨在快速建立理解。它们已经准备好直接运行和调整。我们将不会在这里重复这些知识。</p>
<p>相反，在本节中，我们将概述 k6 测试的概览，并稍后展示一个代码示例，演示如何配置 k6 以适应不同类型的性能测试。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// k6 lifecycle overview:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 1. init code -&gt; runs once
</span></span></span><span class="line"><span class="cl"><span class="c1">// this is where we configure the type of performance testing (there are also
</span></span></span><span class="line"><span class="cl"><span class="c1">// additional options we do not cover here)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// there will be 1 virtual user
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">vus</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// default function() will execute 1 time. This simple config
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// is best when trying to get things to work
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">iterations</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 2. (optional) setup code -&gt; runs once
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// for example getting a token so you can run API tests in the default
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// function that comes in (3) virtual user code
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="c1">// what gets returned from this function is passed as an argument to the next
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// function. For example: `token`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="nx">getTokenForUser</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 3. virtual user code -&gt; runs once or many times based on
</span></span></span><span class="line"><span class="cl"><span class="c1">// `export let options = { ... } `
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span><span class="p">(</span><span class="nx">token</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// http.get is a k6 function that hits a URL with optional test parameters
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// note that  we do not need a token for this url
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&#34;http://test.loadimpact.com&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 4. (optional) teardown code -&gt; runs once
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kd">function</span> <span class="nx">teardown</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// this is in case you need to clean up, for instance if failed test may
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// leave residue an impact state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>耐久测试配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// endurance test for 30 seconds with 50 virtual users. Adds users immediately
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">vus</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;30s&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// alternative to duration, you can  specify the exact number of iterations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// the test will run
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// iterations: 500,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>负载测试配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// for 15 seconds ramps up 10 users, adds users gradually
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// adds a total of 40 users in the next 15 seconds, and up to 50 in the next
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// 30 seconds..
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// lowers down the users to 10 and 5 in the next 15 second iterations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">stages</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;15s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">10</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;15s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">40</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;30s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">50</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;15s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">10</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;15s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">5</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>尖锋测试配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// starts slow and builds up the load rapidly, and then drops the load
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">stages</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;5s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;5s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">5</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;5s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">25</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;3s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">200</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;3s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">20</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;3s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">10</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;3s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">5</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="s2">&#34;3s&#34;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>正如你所看到的，<code>stages</code> 是配置性能测试类型的实用工具。</p>
<h4 id="我们如何分析测试结果">我们如何分析测试结果？<a hidden class="anchor" aria-hidden="true" href="#我们如何分析测试结果">#</a></h4>
<p>K6 提供了一个简单的<a href="https://docs.k6.io/docs/results-output">CLI 输出</a>。我们认为这里最重要的两个高级数值是 <code>http_req_duration</code>，它详细说明了响应持续时间，以及 <code>http_req</code>，它显示发送的请求数量。如果这些数值在可接受的范围内，CLI 就达到了其目的。</p>
<p><img loading="lazy" src="https://github.com/NoriSte/ui-testing-best-practices/blob/master/assets/images/perf-testing/k6-CLI.PNG?raw=true" alt="k6 CLI"  />
</p>
<p>如果需要进行更深入的诊断，图形化的<a href="https://docs.k6.io/docs/load-impact-insights">insights</a>非常有价值。在这样的图表中，关键是 <em>响应时间</em> 和 <em>请求速率</em> 跟随 <em>虚拟用户</em> 的趋势。任何趋势上的变化都可能提示潜在问题。</p>
<h3 id="5-通过性能测试来防止不稳定的问题进入生产环境">(5) 通过性能测试来防止不稳定的问题进入生产环境<a hidden class="anchor" aria-hidden="true" href="#5-通过性能测试来防止不稳定的问题进入生产环境">#</a></h3>
<p>可参考章节 <a href="./test-flake.zh.md">不稳定的测试 &gt; 第三步：识别零星的系统问题 - <em>不稳定的系统</em></a></p>
<h3 id="性能测试参考资料和延伸阅读">性能测试参考资料和延伸阅读<a hidden class="anchor" aria-hidden="true" href="#性能测试参考资料和延伸阅读">#</a></h3>
<p><a href="https://developers.google.com/web/tools/lighthouse">Lighthouse 文档</a></p>
<p><a href="https://github.com/GoogleChrome/lighthouse">Lighthouse 代码库</a></p>
<p><a href="https://en.wikipedia.org/wiki/Kano_model">Kano 模型</a></p>
<p><a href="https://www.iso.org/standard/35733.html">ISO/IEC 25010 产品质量模型</a></p>
<p><a href="https://docs.k6.io/docs">k6-loadImpact 文档</a></p>
<p><a href="https://github.com/muratkeremozcan/k6-loadImpact">使用 K6 的快速启动示例</a></p>
<h2 id="参考资料">参考资料<a hidden class="anchor" aria-hidden="true" href="#参考资料">#</a></h2>
<ul>
<li>UI 测试最佳实践项目:<a href="https://github.com/NoriSte/ui-testing-best-practices">https://github.com/NoriSte/ui-testing-best-practices</a></li>
<li>UI 测试最佳实践项目中文翻译:<a href="https://github.com/naodeng/ui-testing-best-practices">https://github.com/naodeng/ui-testing-best-practices</a></li>
</ul>
<hr>
<p>欢迎关注软件测试同学的公众号“<strong>软件测试同学</strong>”，原创 QA 技术文章第一时间推送。</p>
<!-- markdownlint-disable MD045 -->
<!-- markdownlint-disable MD033 -->
<center>
  <img src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/2023112015'QR Code for 公众号.jpg" style="width: 100px;">
</center>
<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD045 -->


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-email-testing/">
    <span class="title">« 上一页</span>
    <br>
    <span>UI 测试最佳实践的进阶篇（三）：邮件测试</span>
  </a>
  <a class="next" href="http://localhost:1313/zh/posts/ui-automation-testing/ui-testing-best-practice-advanced-test-states-and-test-flake/">
    <span class="title">下一页 »</span>
    <br>
    <span>UI 测试最佳实践的进阶篇（一）：测试状态和不稳定的测试</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on x"
            href="https://x.com/intent/tweet/?text=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95&amp;url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f&amp;title=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95&amp;summary=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95&amp;source=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f&title=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on whatsapp"
            href="https://api.whatsapp.com/send?text=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%20-%20http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on telegram"
            href="https://telegram.me/share/url?text=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95&amp;url=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share UI 测试最佳实践的进阶篇（二）：组合测试和性能测试 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=UI%20%e6%b5%8b%e8%af%95%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e7%9a%84%e8%bf%9b%e9%98%b6%e7%af%87%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95%e5%92%8c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95&u=http%3a%2f%2flocalhost%3a1313%2fzh%2fposts%2fui-automation-testing%2fui-testing-best-practice-advanced-combinatorial-testing-and-performance-testing%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
<script src="https://giscus.app/client.js"
        data-repo="naodeng/naodeng.tech"
        data-repo-id="R_kgDOHntNtg"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHntNts4Cavst"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/zh/">软件测试同学</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
