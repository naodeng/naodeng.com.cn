<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 | Nao's Blog</title>
<meta name=keywords content="Building a API Automation Test project from 0 to 1"><meta name=description content="dive into how to build a Supertest API automation testing project from scratch.Supertest is a popular Java library for performing REST API testing, providing powerful tools that make it easy to write automated test scripts to validate the API&rsquo;sbehavior."><meta name=author content="nao.deng"><link rel=canonical href=https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/><meta name=google-site-verification content="google5e9a7c9479924ed2"><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://naodeng.com.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://naodeng.com.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://naodeng.com.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://naodeng.com.cn/apple-touch-icon.png><link rel=mask-icon href=https://naodeng.com.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/><link rel=alternate hreflang=zh href=https://naodeng.com.cn/zh/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-2siuZUJUWf"><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?93a34d905469b810e5bae990720e7139",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script defer data-website-id=b3b285c9-3c35-4398-9252-91bb70560b84 src=https://naodeng-umami.vercel.app/hugo.js></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "baa460bb003847e184ad7cbf459449e9"}'></script><meta http-equiv=Content-Type content="text/html;charset=gb2312"><meta name=sogou_site_verification content="iwkYDJrzfK"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JBX883ZDJJ",{anonymize_ip:!1})}</script><meta property="og:title" content="SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1"><meta property="og:description" content="dive into how to build a Supertest API automation testing project from scratch.Supertest is a popular Java library for performing REST API testing, providing powerful tools that make it easy to write automated test scripts to validate the API&rsquo;sbehavior."><meta property="og:type" content="article"><meta property="og:url" content="https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/"><meta property="og:image" content="https://naodeng.com.cn/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-06T12:30:26+08:00"><meta property="article:modified_time" content="2023-11-06T12:30:26+08:00"><meta property="og:see_also" content="https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-advance-usage-multiple-environment-support/"><meta property="og:see_also" content="https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-advance-usage-data-driven/"><meta property="og:see_also" content="https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-advance-usage-common-assertions/"><meta property="og:see_also" content="https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-advance-usage-integration-ci-cd-and-github-action/"><meta property="og:see_also" content="https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-getting-started-and-own-environment-preparation/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://naodeng.com.cn/papermod-cover.png"><meta name=twitter:title content="SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1"><meta name=twitter:description content="dive into how to build a Supertest API automation testing project from scratch.Supertest is a popular Java library for performing REST API testing, providing powerful tools that make it easy to write automated test scripts to validate the API&rsquo;sbehavior."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://naodeng.com.cn/posts/"},{"@type":"ListItem","position":2,"name":"SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1","item":"https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1","name":"SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1","description":"dive into how to build a Supertest API automation testing project from scratch.Supertest is a popular Java library for performing REST API testing, providing powerful tools that make it easy to write automated test scripts to validate the API\u0026rsquo;sbehavior.","keywords":["Building a API Automation Test project from 0 to 1"],"articleBody":"Build a SuperTest API automation test project from 0 to 1 The following is a demo of building a SuperTest API automation test project from 0 to 1, using either Jest or Mocha as the test framework.\nMocha version You can refer to the demo project at https://github.com/Automation-Test-Starter/SuperTest-Mocha-demo.\nCreate a new project folder mkdir SuperTest-Mocha-demo Project Initialization // enter the project folder cd SuperTest-Mocha-demo // nodejs project initialization npm init -y Install dependencies // install supertest library npm install supertest --save-dev // install mocha test framework npm install mocha --save-dev // install chai assertion library npm install chai --save-dev Create new test folder and test cases // create test folder mkdir Specs // create test case file cd Specs touch test.spec.js Writing Test Cases The test API can be found in the demoAPI.md file in the project.\n// Test: test.spec.js const request = require('supertest'); // import supertest const chai = require('chai'); // import chai const expect = require('chai').expect; // import expect // Test Suite describe('Verify that the Get and POST API returns correctly', function(){ // Test case 1 it('Verify that the GET API returns correctly', function(done){ request('https://jsonplaceholder.typicode.com') // Test endpoint .get('/posts/1') // API endpoint .expect(200) // expected response status code .expect(function (res) { expect(res.body.id).to.equal(1 ) expect(res.body.userId).to.equal(1) expect(res.body.title) .to.equal(\"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\") expect(res.body.body) .to.equal(\"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\") }) // expected response body .end(done) // end the test case }); // Test case 2 it('Verify that the POST API returns correctly', function(done){ request('https://jsonplaceholder.typicode.com') // Test endpoint .post('/posts') // API endpoint .send({ \"title\": \"foo\", \"body\": \"bar\", \"userId\": 1 }) // request body .expect(201) // expected response status code .expect(function (res) { expect(res.body.id).to.equal(101 ) expect(res.body.userId).to.equal(1) expect(res.body.title).to.equal(\"foo\") expect(res.body.body).to.equal(\"bar\") }) // expected response body .end(done) // end the test case }); }); Configuring mocha config files Create a new mocha configuration file // create configuration file in the project root directory touch .mocharc.js Updating configuration files // mocha config module.exports = { timeout: 5000, // set the default timeout for test cases (milliseconds) spec: ['Specs/**/*.js'], // specify the location of the test file }; Updating test scripts for mocha Add test scripts to the package.json file\n\"scripts\": { \"test\": \"mocha\" }, Running test cases // run test cases npm run test Test Report Terminal Test Report Integrated mochawesome test report Install mochawesome library npm install --save-dev mochawesome Updating mocha configuration files You can refer to the demo project athttps://github.com/Automation-Test-Starter/SuperTest-Mocha-demo\n// mocha config module.exports = { timeout: 5000, // Set the default timeout for test cases (milliseconds) reporter: 'mochawesome', // Use mochawesome as the test report generator 'reporter-option': [ 'reportDir=Report', // Report directory 'reportFilename=[status]_[datetime]-[name]-report', //Report file name 'html=true', // enable html report 'json=false', // disable json report 'overwrite=false', // disable report file overwrite 'timestamp=longDate', // add timestamp to report file name ], // mochawesome report generator options spec: ['Specs/**/*.js'], // Specify the location of the test file }; Running test cases // Run test cases npm run test View test report Test report folder: Report, click to open the latest html report file with your browser\nJest version You can refer to the demo project athttps://github.com/Automation-Test-Starter/SuperTest-Jest-demo\nCreate a new jest project folder mkdir SuperTest-Jest-demo Jest demo project initialization // enter the project folder cd SuperTest-Mocha-demo // nodejs project initialization npm init -y Jest demo install dependencies // install supertest library npm install supertest --save-dev // install jest test framework npm install jest --save-dev Create new Jest demo project test folder and test cases // create test folder mkdir Specs // enter test folder and create test case file cd Specs touch test.spec.js Writing Jest demo Test Cases The test API can be found in the demoAPI.md file in the project.\nconst request = require('supertest'); // Test Suite describe('Verify that the Get and POST API returns correctly', () =\u003e { // Test case 1 it('Verify that the GET API returns correctly', async () =\u003e { const res = await request('https://jsonplaceholder.typicode.com') // Test endpoint .get('/posts/1') // API endpoint .send() // request body .expect(200); // use supertest's expect to verify that the status code is 200 // user jest's expect to verify the response body expect(res.status).toBe(200); // Verify that the status code is 200 expect(res.body.id).toEqual(1); // Verify that the id is 1 expect(res.body.userId).toEqual(1); // Verify that the userId is 1 expect(res.body.title) .toEqual(\"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\"); expect(res.body.body) .toEqual(\"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"); }); // Test case 2 it('Verify that the POST API returns correctly', async() =\u003e{ const res = await request('https://jsonplaceholder.typicode.com') // Test endpoint .post('/posts') // API endpoint .send({ \"title\": \"foo\", \"body\": \"bar\", \"userId\": 1 }) // request body .expect(201); // use supertest's expect to verify that the status code is 201 // user jest's expect to verify the response body expect(res.statusCode).toBe(201); expect(res.body.id).toEqual(101); expect(res.body.userId).toEqual(1); expect(res.body.title).toEqual(\"foo\"); expect(res.body.body).toEqual(\"bar\"); }); }); Configuring Jest config files Creating a new configuration file // Create a new configuration file in the project root directory touch jest.config.js Updating configuration files // Desc: Jest configuration file module.exports = { // Specify the location of the test file testMatch: ['**/Specs/*.spec.js'], }; Adapting Jest Test Scripts Add the test script to the package.json file\n\"scripts\": { \"test\": \"jest\" }, Runing test case // run test case npm run test Jest test report Jest terminal Test Report Integrating jest-html-reporters test reports Install jest-html-reporters library npm install --save-dev jest-html-reporters Updating jest configuration files You can refer to the demo project atttps://github.com/Automation-Test-Starter/SuperTest-Jest-demo\n// Desc: Jest configuration file module.exports = { // specify the location of the test file testMatch: ['**/Specs/*.spec.js'], // test report generator reporters: [ 'default', [ 'jest-html-reporters', { publicPath: './Report', // report directory filename: 'report.html', // report file name pageTitle: 'SuperTest and Jest API Test Report', // report title overwrite: true, // enable report file overwrite expand: true, // enable report file expansion }, ], ], }; Running test cases // run test case npm run test View test report Test report folder: Report, click on the browser to open the latest html report file\n","wordCount":"1014","inLanguage":"en","datePublished":"2023-11-06T12:30:26+08:00","dateModified":"2023-11-06T12:30:26+08:00","author":{"@type":"Person","name":"nao.deng"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/"},"publisher":{"@type":"Organization","name":"Nao's Blog","logo":{"@type":"ImageObject","url":"https://naodeng.com.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://naodeng.com.cn/ accesskey=h title="Nao's Blog (Alt + H)">Nao's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://naodeng.com.cn/zh/ title=ðŸ‡¨ðŸ‡³ä¸­æ–‡ aria-label=ðŸ‡¨ðŸ‡³ä¸­æ–‡>ðŸ‡¨ðŸ‡³ä¸­æ–‡</a></li></ul></div></div><ul id=menu><li><a href=https://naodeng.com.cn/archives title=Archive><span>Archive</span></a></li><li><a href=https://naodeng.com.cn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://naodeng.com.cn/series/ title=Series><span>Series</span></a></li><li><a href=https://naodeng.com.cn/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://naodeng.com.cn/>Home</a>&nbsp;Â»&nbsp;<a href=https://naodeng.com.cn/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1</h1><div class=post-meta><span title='2023-11-06 12:30:26 +0800 +0800'>November 6, 2023</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;1014 words&nbsp;Â·&nbsp;nao.deng&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://naodeng.com.cn/zh/posts/api-automation-testing/supertest-tutorial-building-your-own-project-from-0-to-1/>ðŸ‡¨ðŸ‡³ä¸­æ–‡</a></li></ul>&nbsp;|&nbsp;<a href=https://github.com/naodeng/naodeng.com.cn/tree/main/content/posts/API-Automation-Testing/supertest-tutorial-building-your-own-project-from-0-to-1.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#build-a-supertest-api-automation-test-project-from-0-to-1 aria-label="Build a SuperTest API automation test project from 0 to 1">Build a SuperTest API automation test project from 0 to 1</a><ul><li><a href=#mocha-version aria-label="Mocha version">Mocha version</a><ul><li><a href=#create-a-new-project-folder aria-label="Create a new project folder">Create a new project folder</a></li><li><a href=#project-initialization aria-label="Project Initialization">Project Initialization</a></li><li><a href=#install-dependencies aria-label="Install dependencies">Install dependencies</a></li><li><a href=#create-new-test-folder-and-test-cases aria-label="Create new test folder and test cases">Create new test folder and test cases</a></li><li><a href=#writing-test-cases aria-label="Writing Test Cases">Writing Test Cases</a></li><li><a href=#configuring-mocha-config-files aria-label="Configuring mocha config files">Configuring mocha config files</a></li><li><a href=#updating-test-scripts-for-mocha aria-label="Updating test scripts for mocha">Updating test scripts for mocha</a></li><li><a href=#running-test-cases aria-label="Running test cases">Running test cases</a></li><li><a href=#test-report aria-label="Test Report">Test Report</a><ul><li><a href=#terminal-test-report aria-label="Terminal Test Report">Terminal Test Report</a></li><li><a href=#integrated-mochawesome-test-report aria-label="Integrated mochawesome test report">Integrated mochawesome test report</a></li></ul></li></ul></li><li><a href=#jest-version aria-label="Jest version">Jest version</a><ul><li><a href=#create-a-new-jest-project-folder aria-label="Create a new jest project folder">Create a new jest project folder</a></li><li><a href=#jest-demo-project-initialization aria-label="Jest demo project initialization">Jest demo project initialization</a></li><li><a href=#jest-demo-install-dependencies aria-label="Jest demo install dependencies">Jest demo install dependencies</a></li><li><a href=#create-new-jest-demo-project-test-folder-and-test-cases aria-label="Create new Jest demo project test folder and test cases">Create new Jest demo project test folder and test cases</a></li><li><a href=#writing-jest-demo-test-cases aria-label="Writing Jest demo Test Cases">Writing Jest demo Test Cases</a></li><li><a href=#configuring-jest-config-files aria-label="Configuring Jest config files">Configuring Jest config files</a></li><li><a href=#adapting-jest-test-scripts aria-label="Adapting Jest Test Scripts">Adapting Jest Test Scripts</a></li><li><a href=#runing-test-case aria-label="Runing test case">Runing test case</a></li><li><a href=#jest-test-report aria-label="Jest test report">Jest test report</a><ul><li><a href=#jest-terminal-test-report aria-label="Jest terminal Test Report">Jest terminal Test Report</a></li><li><a href=#integrating-jest-html-reporters-test-reports aria-label="Integrating jest-html-reporters test reports">Integrating jest-html-reporters test reports</a></li></ul></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h2 id=build-a-supertest-api-automation-test-project-from-0-to-1>Build a SuperTest API automation test project from 0 to 1<a hidden class=anchor aria-hidden=true href=#build-a-supertest-api-automation-test-project-from-0-to-1>#</a></h2><p>The following is a demo of building a SuperTest API automation test project from 0 to 1, using either Jest or Mocha as the test framework.</p><h3 id=mocha-version>Mocha version<a hidden class=anchor aria-hidden=true href=#mocha-version>#</a></h3><p>You can refer to the demo project at <a href=https://github.com/Automation-Test-Starter/SuperTest-Mocha-demo>https://github.com/Automation-Test-Starter/SuperTest-Mocha-demo</a>.</p><h4 id=create-a-new-project-folder>Create a new project folder<a hidden class=anchor aria-hidden=true href=#create-a-new-project-folder>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir SuperTest-Mocha-demo
</span></span></code></pre></div><h4 id=project-initialization>Project Initialization<a hidden class=anchor aria-hidden=true href=#project-initialization>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// enter the project folder
</span></span><span class=line><span class=cl><span class=nb>cd</span> SuperTest-Mocha-demo
</span></span><span class=line><span class=cl>// nodejs project initialization
</span></span><span class=line><span class=cl>npm init -y
</span></span></code></pre></div><h4 id=install-dependencies>Install dependencies<a hidden class=anchor aria-hidden=true href=#install-dependencies>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// install supertest library
</span></span><span class=line><span class=cl>npm install supertest --save-dev
</span></span><span class=line><span class=cl>// install mocha <span class=nb>test</span> framework
</span></span><span class=line><span class=cl>npm install mocha --save-dev
</span></span><span class=line><span class=cl>// install chai assertion library
</span></span><span class=line><span class=cl>npm install chai --save-dev
</span></span></code></pre></div><h4 id=create-new-test-folder-and-test-cases>Create new test folder and test cases<a hidden class=anchor aria-hidden=true href=#create-new-test-folder-and-test-cases>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// create <span class=nb>test</span> folder
</span></span><span class=line><span class=cl>mkdir Specs
</span></span><span class=line><span class=cl>// create <span class=nb>test</span> <span class=k>case</span> file
</span></span><span class=line><span class=cl><span class=nb>cd</span> Specs
</span></span><span class=line><span class=cl>touch test.spec.js
</span></span></code></pre></div><h4 id=writing-test-cases>Writing Test Cases<a hidden class=anchor aria-hidden=true href=#writing-test-cases>#</a></h4><blockquote><p>The test API can be found in the demoAPI.md file in the project.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Test: test.spec.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>request</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;supertest&#39;</span><span class=p>);</span> <span class=c1>// import supertest
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>chai</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;chai&#39;</span><span class=p>);</span> <span class=c1>// import chai
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>expect</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;chai&#39;</span><span class=p>).</span><span class=nx>expect</span><span class=p>;</span> <span class=c1>// import expect
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Test Suite
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Verify that the Get and POST API returns correctly&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Test case 1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;Verify that the GET API returns correctly&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>done</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://jsonplaceholder.typicode.com&#39;</span><span class=p>)</span> <span class=c1>// Test endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/posts/1&#39;</span><span class=p>)</span> <span class=c1>// API endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span> <span class=c1>// expected response status code
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>1</span>  <span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>userId</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=p>.</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=s2>&#34;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=p>.</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=s2>&#34;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>})</span> <span class=c1>// expected response body
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>end</span><span class=p>(</span><span class=nx>done</span><span class=p>)</span> <span class=c1>// end the test case
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Test case 2
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;Verify that the POST API returns correctly&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>done</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://jsonplaceholder.typicode.com&#39;</span><span class=p>)</span> <span class=c1>// Test endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/posts&#39;</span><span class=p>)</span> <span class=c1>// API endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;body&#34;</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;userId&#34;</span><span class=o>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=p>})</span> <span class=c1>// request body
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>201</span><span class=p>)</span> <span class=c1>// expected response status code
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>101</span>  <span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>userId</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=s2>&#34;foo&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>body</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=s2>&#34;bar&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>})</span> <span class=c1>// expected response body
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=p>.</span><span class=nx>end</span><span class=p>(</span><span class=nx>done</span><span class=p>)</span> <span class=c1>// end the test case
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><h4 id=configuring-mocha-config-files>Configuring mocha config files<a hidden class=anchor aria-hidden=true href=#configuring-mocha-config-files>#</a></h4><ul><li>Create a new mocha configuration file</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// create configuration file in the project root directory
</span></span><span class=line><span class=cl>touch .mocharc.js
</span></span></code></pre></div><ul><li>Updating configuration files</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// mocha config
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>timeout</span><span class=o>:</span> <span class=mi>5000</span><span class=p>,</span> <span class=c1>// set the default timeout for test cases (milliseconds)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>spec</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;Specs/**/*.js&#39;</span><span class=p>],</span> <span class=c1>// specify the location of the test file
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></div><h4 id=updating-test-scripts-for-mocha>Updating test scripts for mocha<a hidden class=anchor aria-hidden=true href=#updating-test-scripts-for-mocha>#</a></h4><p>Add test scripts to the package.json file</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;mocha&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span><span class=err>,</span>
</span></span></code></pre></div><h4 id=running-test-cases>Running test cases<a hidden class=anchor aria-hidden=true href=#running-test-cases>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// run <span class=nb>test</span> cases
</span></span><span class=line><span class=cl>npm run <span class=nb>test</span>
</span></span></code></pre></div><h4 id=test-report>Test Report<a hidden class=anchor aria-hidden=true href=#test-report>#</a></h4><h5 id=terminal-test-report>Terminal Test Report<a hidden class=anchor aria-hidden=true href=#terminal-test-report>#</a></h5><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/RbdVs7.png alt=RbdVs7></p><h5 id=integrated-mochawesome-test-report>Integrated mochawesome test report<a hidden class=anchor aria-hidden=true href=#integrated-mochawesome-test-report>#</a></h5><ul><li>Install mochawesome library</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --save-dev mochawesome
</span></span></code></pre></div><ul><li>Updating mocha configuration files</li></ul><blockquote><p>You can refer to the demo project at<a href=https://github.com/Automation-Test-Starter/SuperTest-Mocha-demo>https://github.com/Automation-Test-Starter/SuperTest-Mocha-demo</a></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// mocha config
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>timeout</span><span class=o>:</span> <span class=mi>5000</span><span class=p>,</span> <span class=c1>// Set the default timeout for test cases (milliseconds)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>reporter</span><span class=o>:</span> <span class=s1>&#39;mochawesome&#39;</span><span class=p>,</span> <span class=c1>// Use mochawesome as the test report generator
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=s1>&#39;reporter-option&#39;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;reportDir=Report&#39;</span><span class=p>,</span> <span class=c1>// Report directory
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=s1>&#39;reportFilename=[status]_[datetime]-[name]-report&#39;</span><span class=p>,</span> <span class=c1>//Report file name
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=s1>&#39;html=true&#39;</span><span class=p>,</span> <span class=c1>// enable html report
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=s1>&#39;json=false&#39;</span><span class=p>,</span> <span class=c1>// disable json report
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=s1>&#39;overwrite=false&#39;</span><span class=p>,</span> <span class=c1>// disable report file overwrite
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=s1>&#39;timestamp=longDate&#39;</span><span class=p>,</span> <span class=c1>// add timestamp to report file name
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=p>],</span> <span class=c1>// mochawesome report generator options
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>spec</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;Specs/**/*.js&#39;</span><span class=p>],</span> <span class=c1>// Specify the location of the test file
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></div><ul><li>Running test cases</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// Run <span class=nb>test</span> cases
</span></span><span class=line><span class=cl>npm run <span class=nb>test</span>
</span></span></code></pre></div><ul><li>View test report</li></ul><blockquote><p>Test report folder: Report, click to open the latest html report file with your browser</p></blockquote><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/BseOQ8.png alt=BseOQ8></p><h3 id=jest-version>Jest version<a hidden class=anchor aria-hidden=true href=#jest-version>#</a></h3><p>You can refer to the demo project at<a href=https://github.com/Automation-Test-Starter/SuperTest-Jest-demo>https://github.com/Automation-Test-Starter/SuperTest-Jest-demo</a></p><h4 id=create-a-new-jest-project-folder>Create a new jest project folder<a hidden class=anchor aria-hidden=true href=#create-a-new-jest-project-folder>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir SuperTest-Jest-demo
</span></span></code></pre></div><h4 id=jest-demo-project-initialization>Jest demo project initialization<a hidden class=anchor aria-hidden=true href=#jest-demo-project-initialization>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// enter the project folder
</span></span><span class=line><span class=cl><span class=nb>cd</span> SuperTest-Mocha-demo
</span></span><span class=line><span class=cl>// nodejs project initialization
</span></span><span class=line><span class=cl>npm init -y
</span></span></code></pre></div><h4 id=jest-demo-install-dependencies>Jest demo install dependencies<a hidden class=anchor aria-hidden=true href=#jest-demo-install-dependencies>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// install supertest library
</span></span><span class=line><span class=cl>npm install supertest --save-dev
</span></span><span class=line><span class=cl>// install jest <span class=nb>test</span> framework
</span></span><span class=line><span class=cl>npm install jest --save-dev
</span></span></code></pre></div><h4 id=create-new-jest-demo-project-test-folder-and-test-cases>Create new Jest demo project test folder and test cases<a hidden class=anchor aria-hidden=true href=#create-new-jest-demo-project-test-folder-and-test-cases>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// create <span class=nb>test</span> folder
</span></span><span class=line><span class=cl>mkdir Specs
</span></span><span class=line><span class=cl>// enter <span class=nb>test</span> folder and create <span class=nb>test</span> <span class=k>case</span> file
</span></span><span class=line><span class=cl><span class=nb>cd</span> Specs
</span></span><span class=line><span class=cl>touch test.spec.js
</span></span></code></pre></div><h4 id=writing-jest-demo-test-cases>Writing Jest demo Test Cases<a hidden class=anchor aria-hidden=true href=#writing-jest-demo-test-cases>#</a></h4><blockquote><p>The test API can be found in the demoAPI.md file in the project.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>request</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;supertest&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Test Suite
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Verify that the Get and POST API returns correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Test case 1
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;Verify that the GET API returns correctly&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>res</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://jsonplaceholder.typicode.com&#39;</span><span class=p>)</span> <span class=c1>// Test endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/posts/1&#39;</span><span class=p>)</span> <span class=c1>// API endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>.</span><span class=nx>send</span><span class=p>()</span> <span class=c1>// request body
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>200</span><span class=p>);</span> <span class=c1>// use supertest&#39;s expect to verify that the status code is 200
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// user jest&#39;s expect to verify the response body
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>200</span><span class=p>);</span> <span class=c1>// Verify that the status code is 200
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>toEqual</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span> <span class=c1>// Verify that the id is 1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>userId</span><span class=p>).</span><span class=nx>toEqual</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span> <span class=c1>// Verify that the userId is 1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>toEqual</span><span class=p>(</span><span class=s2>&#34;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>toEqual</span><span class=p>(</span><span class=s2>&#34;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Test case 2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;Verify that the POST API returns correctly&#39;</span><span class=p>,</span> <span class=kr>async</span><span class=p>()</span> <span class=p>=&gt;{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>res</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://jsonplaceholder.typicode.com&#39;</span><span class=p>)</span> <span class=c1>// Test endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/posts&#39;</span><span class=p>)</span> <span class=c1>// API endpoint
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>.</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;body&#34;</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;userId&#34;</span><span class=o>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span> <span class=c1>// request body
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>201</span><span class=p>);</span> <span class=c1>// use supertest&#39;s expect to verify that the status code is 201
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// user jest&#39;s expect to verify the response body
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>statusCode</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>201</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>toEqual</span><span class=p>(</span><span class=mi>101</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>userId</span><span class=p>).</span><span class=nx>toEqual</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>).</span><span class=nx>toEqual</span><span class=p>(</span><span class=s2>&#34;foo&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>body</span><span class=p>).</span><span class=nx>toEqual</span><span class=p>(</span><span class=s2>&#34;bar&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span> 
</span></span></code></pre></div><h4 id=configuring-jest-config-files>Configuring Jest config files<a hidden class=anchor aria-hidden=true href=#configuring-jest-config-files>#</a></h4><ul><li>Creating a new configuration file</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// Create a new configuration file in the project root directory
</span></span><span class=line><span class=cl>touch jest.config.js
</span></span></code></pre></div><ul><li>Updating configuration files</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Desc: Jest configuration file
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Specify the location of the test file
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>testMatch</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;**/Specs/*.spec.js&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><h4 id=adapting-jest-test-scripts>Adapting Jest Test Scripts<a hidden class=anchor aria-hidden=true href=#adapting-jest-test-scripts>#</a></h4><p>Add the test script to the package.json file</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;jest&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span><span class=err>,</span>
</span></span></code></pre></div><h4 id=runing-test-case>Runing test case<a hidden class=anchor aria-hidden=true href=#runing-test-case>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// run <span class=nb>test</span> <span class=k>case</span>
</span></span><span class=line><span class=cl>npm run <span class=nb>test</span>
</span></span></code></pre></div><h4 id=jest-test-report>Jest test report<a hidden class=anchor aria-hidden=true href=#jest-test-report>#</a></h4><h5 id=jest-terminal-test-report>Jest terminal Test Report<a hidden class=anchor aria-hidden=true href=#jest-terminal-test-report>#</a></h5><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/ItJf6N.png alt=ItJf6N></p><h5 id=integrating-jest-html-reporters-test-reports>Integrating jest-html-reporters test reports<a hidden class=anchor aria-hidden=true href=#integrating-jest-html-reporters-test-reports>#</a></h5><ul><li>Install jest-html-reporters library</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --save-dev jest-html-reporters
</span></span></code></pre></div><ul><li>Updating jest configuration files</li></ul><blockquote><p>You can refer to the demo project at<a href=ttps://github.com/Automation-Test-Starter/SuperTest-Jest-demo>ttps://github.com/Automation-Test-Starter/SuperTest-Jest-demo</a></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Desc: Jest configuration file
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// specify the location of the test file
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>testMatch</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;**/Specs/*.spec.js&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=c1>// test report generator
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>reporters</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;default&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;jest-html-reporters&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>publicPath</span><span class=o>:</span> <span class=s1>&#39;./Report&#39;</span><span class=p>,</span> <span class=c1>// report directory
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;report.html&#39;</span><span class=p>,</span> <span class=c1>// report file name
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>pageTitle</span><span class=o>:</span> <span class=s1>&#39;SuperTest and Jest API Test Report&#39;</span><span class=p>,</span> <span class=c1>// report title
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>overwrite</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>// enable report file overwrite
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>expand</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>// enable report file expansion
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><ul><li>Running test cases</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// run <span class=nb>test</span> <span class=k>case</span>
</span></span><span class=line><span class=cl>npm run <span class=nb>test</span>
</span></span></code></pre></div><ul><li>View test report</li></ul><blockquote><p>Test report folder: Report, click on the browser to open the latest html report file</p></blockquote><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/12ZreT.png alt=12ZreT></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://naodeng.com.cn/tags/building-a-api-automation-test-project-from-0-to-1/>Building a API Automation Test project from 0 to 1</a></li></ul><nav class=paginav><a class=prev href=https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-advance-usage-integration-ci-cd-and-github-action/><span class=title>Â« Prev</span><br><span>SuperTest API Automation Testing Tutorial: Advanced Usage - Integration CI CD and Github action</span>
</a><a class=next href=https://naodeng.com.cn/posts/api-automation-testing/supertest-tutorial-getting-started-and-own-environment-preparation/><span class=title>Next Â»</span><br><span>SuperTest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on x" href="https://x.com/intent/tweet/?text=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201&amp;url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f&amp;hashtags=BuildingaAPIAutomationTestprojectfrom0to1"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f&amp;title=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201&amp;summary=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201&amp;source=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f&title=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on whatsapp" href="https://api.whatsapp.com/send?text=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201%20-%20https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on telegram" href="https://telegram.me/share/url?text=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201&amp;url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SuperTest API Automation Testing Tutorial: Building a Supertest API Automation Test project from 0 to 1 on ycombinator" href="https://news.ycombinator.com/submitlink?t=SuperTest%20API%20Automation%20Testing%20Tutorial%3a%20Building%20a%20Supertest%20API%20Automation%20Test%20project%20from%200%20to%201&u=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fsupertest-tutorial-building-your-own-project-from-0-to-1%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=naodeng/naodeng.tech data-repo-id=R_kgDOHntNtg data-category="Show and tell" data-category-id=DIC_kwDOHntNts4Cavst data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://naodeng.com.cn/>Nao's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>