<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Introducing Bruno for Replacement Postman | Nao's Blog</title>
<meta name=keywords content="postman migration,postman replacement,postman,Bruno,Bruno cli"><meta name=description content="Article introduces postman replacement tool bruno beginner&rsquo;s introduction, how to migrate postman scripts to bruno"><meta name=author content="nao.deng"><link rel=canonical href=https://naodeng.com.cn/posts/api-automation-testing/introduction_of_bruno/><meta name=google-site-verification content="google5e9a7c9479924ed2"><link crossorigin=anonymous href=/assets/css/stylesheet.f0568d4df87da526a07cdd5f492b4a146e3fa93d5ee950200eaafb2bb50d6fd8.css integrity="sha256-8FaNTfh9pSagfN1fSStKFG4/qT1e6VAgDqr7K7UNb9g=" rel="preload stylesheet" as=style><link rel=icon href=https://naodeng.com.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://naodeng.com.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://naodeng.com.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://naodeng.com.cn/apple-touch-icon.png><link rel=mask-icon href=https://naodeng.com.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://naodeng.com.cn/posts/api-automation-testing/introduction_of_bruno/><link rel=alternate hreflang=zh href=https://naodeng.com.cn/zh/posts/api-automation-testing/introduction_of_bruno/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-2siuZUJUWf"><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?cab97265216411ea6a999a5c78811a0c",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script defer data-website-id=b3b285c9-3c35-4398-9252-91bb70560b84 src=https://naodeng-umami.vercel.app/hugo.js></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "baa460bb003847e184ad7cbf459449e9"}'></script><meta http-equiv=Content-Type content="text/html;charset=gb2312"><meta name=sogou_site_verification content="iwkYDJrzfK"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JBX883ZDJJ",{anonymize_ip:!1})}</script><meta property="og:title" content="Introducing Bruno for Replacement Postman"><meta property="og:description" content="Article introduces postman replacement tool bruno beginner&rsquo;s introduction, how to migrate postman scripts to bruno"><meta property="og:type" content="article"><meta property="og:url" content="https://naodeng.com.cn/posts/api-automation-testing/introduction_of_bruno/"><meta property="og:image" content="https://naodeng.com.cn/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-17T11:31:43+08:00"><meta property="article:modified_time" content="2023-10-17T11:31:43+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://naodeng.com.cn/papermod-cover.png"><meta name=twitter:title content="Introducing Bruno for Replacement Postman"><meta name=twitter:description content="Article introduces postman replacement tool bruno beginner&rsquo;s introduction, how to migrate postman scripts to bruno"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://naodeng.com.cn/posts/"},{"@type":"ListItem","position":2,"name":"Introducing Bruno for Replacement Postman","item":"https://naodeng.com.cn/posts/api-automation-testing/introduction_of_bruno/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Introducing Bruno for Replacement Postman","name":"Introducing Bruno for Replacement Postman","description":"Article introduces postman replacement tool bruno beginner\u0026rsquo;s introduction, how to migrate postman scripts to bruno","keywords":["postman migration","postman replacement","postman","Bruno","Bruno cli"],"articleBody":"Since Postman announced in May 2023 that it will phase out the Scratch Pad model with offline capabilities, teams that need to isolate API workspace data from third-party servers have been looking for alternatives. Teams that need to isolate API workspace data from third-party servers have had to look for alternatives. bruno is one of those alternatives: an open source desktop application designed for API testing, development, and debugging.\nBruno is one of those alternatives: an open source desktop application designed for API testing, development, and debugging. Why bruno, how to get started, and how to migrate postman scripts are all covered in this article!\nwhy bruno Official description: https://github.com/usebruno/bruno/discussions/269\nComparison with postman: https://www.usebruno.com/compare/bruno-vs-postman\nOpen source, MIT License\nClient platform support (Mac/linux/Windows)\nOffline client, no cloud synchronization plan\nSupports Postman/insomina script import (only API request scripts can be imported, not test scripts)\nRelatively active community and clear product development roadmap.\nInstall bruno Download link: https://www.usebruno.com/downloads\nMac computer recommended brew command download\n‚Äã brew install Bruno\nGetting Started Default main API API collection Create API collection On the home page, click on the ‚ÄòCreate Collection‚Äô link to open the Create API Request Collection pop-up window.\nOn the popup window, enter\nName: input the name of the API request collection\nLocation: input the path of the folder where you want to save the API request collection files (we suggest you choose the path where this project is located).\nFolder Name: you can enter the name of the API request set (a folder with the corresponding name will be created under the path you just selected).\nClick Create button to finish creating the API request set and display it on the API (the list of newly created API request set will be displayed on the left side).\nOpen API collection Click on the ‚ÄòOpen Collection‚Äô link on the home page to open the folder of the selected API request collection in bruno format. Click open to complete the selection and display it in the API (the collection list on the left side will display the selected API request collection information). Import API collection Click the ‚ÄòImport Collection‚Äô link on the home page to open the popup window for importing API collections (Bruno/Postman/Insomnia are supported). On the popup window, select the link of the corresponding format, and then select the path of the existing file of the corresponding format. Click open to complete the selection and display it on the API (the collection list on the left side will display the information of the selected API collection). RUN API collection Select the API request set you want to run from the collection list on the left side of the main API. Select Run on the menu, the Runner tab will be opened on the right side of the API, it will show some information about the requests in the selected API request collection. Click on the Run Collection button to run it locally (you will see the allowed results on the screen after running). Export API collection Select the API request set you want to run from the collection list on the left side of the main API, and right-click to open the menu. Select Export on the menu, and then select the path of the file you want to export to complete the export (the exported file is also in json format). API request Create API request Pre-requisite: An API request collection has already been created (see Creating an API Request Collection above). Select the API request set you want to create a new API request from the collection list on the left side of the main API. Select New Request on the menu, the right API will open the Request tab, it will show some information of requests in the selected API request set. On the new Request window, first select the request type: HTTP/GraphQL. In the new Request window, first select the request type: HTTP/GraphQL. Name: Enter the name of the API request. URL: enter the URL of the API request Method: Select the Method of the API request. Click Create button to finish creating the API request and display it on the API (the left request set list will display the information of the newly created API request). Edit API request Pre-requisite: you have already created an API request collection and an API request (refer to Creating an API request collection and New API request above).\nSelect the API request collection you want to edit in the collection list on the left side of the main API, and then select the API request you want to edit.\nThen you can edit different fields of the request according to the type of API request. Body: Enter the Body of the API request.\nHeaders: Enter the headers of the API request.\nParams: Enter the Params of the API request.\nAuth: enter the Auth of the API request\nVars: enter the Vars of the API request\nScript: enter the Script of the API request\nAssert: Enter the Assert of the API request.\nTests: Enter the Tests of the API request.\nClick the Save button to finish editing the API request and display it on the API (the list of request sets on the left side will display the information of the edited API request).\nRUN API request Pre-requisite: you have already created an API request collection and an API request (refer to Creating an API request collection and New API request above). In the collection list on the left side of the main API, select the API request set that you want to edit the API request, and then select the API request that you want to edit. Click the right button after the API url edit box to finish running the API request and display it on the API (the Request tab on the right side will display the information of the running API request). API request generate code Pre-requisite: you have already created an API request collection and an API request (refer to Creating an API request collection and New API request above). In the collection list on the left side of the main API, select the API request set that you want to edit the API request, and then select the API request that you want to edit. Right click on the menu and select Generate Code, then select the language you want to generate code for. The Generate Code window will show the request code of different languages. Write API request test scripts API request Assert Introducing Assert Open any API request and switch to the Assert tab.\nThe Assert tab displays the Assert information of the API request.\nAssert is used to determine whether the result of the API request meets the expectation.\nExpr: input the expression of expected result, it can be the value of a field of the API request, two types can be input: Status Code and Response Body. Status Code: determine whether the returned status code of the API request meets the expectation (default is 200). Response Body: determine whether the returned result of the API request meets the expectation (default is true).\nOperator: the validation method for inputting the expected result. Supports multiple judgment methods: Equal and Not Equal, etc. Equal: determine whether the returned result of the API request is equal to the expected result. Not Equal: determine if the returned result of the API request is not equal to the expected result.\nValue: input the value of the expected result, supports two ways of inputting the expected result: Static and Dynamic. Static: input the static value of the expected result. Dynamic: input the dynamic value of the expected result, which can be the value of a field in the return result of the API request.\nAssert demo Assert status code is 200 Taking https://jsonplaceholder.typicode.com/posts/1 as an example (the API request returns https://jsonplaceholder.typicode.com/posts/1) I want to verify that the API request returns a status is 200. Open the API request and switch to the Assert tab. Enter the following information Expr: res.status Operator: Equal Value: 200 Assert repsponse body as expected Using https://jsonplaceholder.typicode.com/posts/1 as an example (the API request returned https://jsonplaceholder.typicode.com/posts/1) I want to verify that the API request‚Äôs repsponse body is as expected Open the API request and switch to the Assert tab. Assert1 Enter the following information in order Expr: res.body.id Operator: Equal Value: 1 Assert2 Input the following information in order Expr: res.body.title Operator: contains Value: provider Debug Assert Pre-requisite: you have already created an API request set and an API request (refer to Creating an API request set and New API request above), and you have also written the corresponding Assert according to the demo. Select the API request set you want to edit in the collection list on the left side of the main API, and then select the API request you want to edit. Click the right button after the API url edit box to finish running the API request and display it on the API (the Request tab on the right side will display the information of the running API request). Switch to the Tests tab to display the Tests information of the API request, which also includes the Assert information of the request. API request Tests Introduction Tests Open any API request and switch to the Tests tab. Tests tab will show the Tests information of the API request. Tests are used to write test scripts for API requests, currently javascript language is supported. You can write multiple test scripts inside Tests, each test script can be run separately. Tests demo Verify status code is 200 Taking https://jsonplaceholder.typicode.com/posts/1 as an example (the API request returns https://jsonplaceholder.typicode.com/posts/1), I want to verify that the API request returns a status is 200. Open the API request and switch to the Tests tab. Enter the following script test(\"res.status should be 200\", function() { const data = res.getBody(); expect(res.getStatus()).to.equal(200); }); Verify repsponse body as expected Taking https://jsonplaceholder.typicode.com/posts/1 as an example (the API request returned https://jsonplaceholder.typicode.com/posts/1) I want to verify that the repsponse body is as expected Open the API request and switch to the Tests tab. Enter the following script test(\"res.body should be correct\", function() { const data = res.getBody(); expect(data.id).to.equal(1); expect(data.title).to.contains('provident'); }); Debugging Tests Prerequisites: You have already created an API request set and an API request (refer to Creating an API Request Set and New API Request above), and you have also written the corresponding Tests according to the demo. Select the API request set you want to edit in the collection list on the left side of the main API, and then select the API request you want to edit. Click the right button after the API url edit box to finish running the API request and display it on the API (the Request tab on the right side will display the information of the running API request). Switch to the Tests tab, it will show the Tests information of the API request, which will also include the requested Tests information. environment variables Creating Environment Variables Prerequisites: An API request set and an API request have already been created (see Creating an API request set and New API request above). Select the API request for which you want to create an environment variable Click the ‚ÄòNo Environment‚Äô link in the upper right corner of the page (default is No Environment) and select the configure button in the menu to open the environment variable management popup window (supports creating new environment variables and importing existing environment variables). Click Create Environment button on the popup window, enter the name of the environment variable and click create button to create the environment variable. Then click Add Variable button on the popup window, enter the key and value of the environment variable, and click Save button to add the environment variable. environment variable demo Requirement: Create a demo environment variable that contains an environment variable with key host and value https://jsonplaceholder.typicode.com.\nSelect the API request for which you want to create the environment variable Click the ‚ÄòNo Environment‚Äô link in the upper right corner of the page (default is No Environment), and select the configure button in the menu to open the environment variable management popup. Click the Create Environment button on the popup window, enter the name of the environment variable demo, and click the create button to create the environment variable demo. Select the demo environment variable, and then click Add Variable button on the page, enter the key of the environment variable as host and the value as https://jsonplaceholder.typicode.com, and click Save button to add the environment variable. As shown in the following figure ! env-intro Using Environment Variables Prerequisites: You have already created an API request set and an API request (see Creating an API request set and creating a new API request above), and you have also created a demo environment variable. Select the API request for which you want to use environment variables Click the ‚ÄòNo Environment‚Äô link in the top right corner of the page (default is No Environment), and select the demo button in the menu to use the demo environment variable. Then change the URL of the API request to {{host}}/posts/1 to use the environment variable. Test script automation Pre-conditions API request set has been created (example named :api-collects) API request has been created (example name: api request1) an environment variable has been created (example name: demo) has also written an assert or tests script for the API request api automation project demo Installed node.js Install npm create a new project folder (example name: bruno-test) Execute npm init in the project folder to initialize the project as an npm project Install @usebruno/cli dependency (script: npm install @usebruno/cli) Open the folder directory where the API request sets are stored, and copy all the files in the api-collects directory to the bruno-test project directory The project directory looks like this bruno-test //È°πÁõÆ‰∏ªÊñá‰ª∂Â§π api request1.bru //api ËØ∑Ê±Ç enviroments //ÁéØÂ¢ÉÂèòÈáè demo.bru bruno.json node_modules //node ÂåÖ‰æùËµñ package-lock.json package.json //npm È°πÁõÆÈÖçÁΩÆÊñá‰ª∂ Run the following command in the project directory to run the API request bruno run --env demo The result is as follows Getting into CI Getting into github action Take github action as an example, other CI tools are similar.\nPrepare: Add the following script to the project package.json file \"test\": \"bru run --env demo\" Create .github/workflows folder in the project root folder Create main.yml file under .github/workflows folder The contents of the main.yml file are as follows name: bruno cli CI on: push: branches: [ main ] pull_request: branches: [ main ] jobs: run_bruno_api_test: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - run: npm install - name: run tests run: npm run test submit code to github, will automatically trigger github action View the result of the github action, as shown in the example: The code for this project can be pulled for reference:https://github.com/dengnao-tw/Bruno-API-Test-Starter\nTest report‚ÄîTODO bruno More usage‚ÄîTODO Postman script migration API Request Collection Migration Click on the ‚ÄòImport Collection‚Äô link on the home page to open the Import API collection popup window. Click on the Select Postman Collection link and select the path to an existing Postman request collection file. Then you can import Postman request collection. However, only API requests can be imported, not test scripts, as shown in the figure (but it doesn‚Äôt affect the request invocation). Environment Variable Migration Select the Postman request you just imported on the home page. Click the ‚ÄòNo Environment‚Äô link in the upper right corner of the page (default is No Environment), and select the configure button in the menu to open the environment variable management popup window. Click on the ‚ÄòImport Environment‚Äô link to open the Import Environment popup. Click on the ‚ÄòPostman Environment‚Äô link to open the Import Environment popup window Click on the ‚ÄòPostman Environment‚Äô link and select the path to an existing Postman environment file You can import Postman environment variables. Test Script Migration Reference The syntax of the test scripts for the two tools is partially different and needs to be modified manually\nPostman test script syntax reference: https://learning.postman.com/docs/writing-scripts/test-scripts/ Postman test script example pm.test(\"res.status should be 200\", function () { pm.response.to.have.status(200); }); pm.test(\"res.body should be correct\", function() { var data = pm.response.json(); pm.expect(data.id).to.equal(1); pm.expect(data.title).to.contains('provident'); }); Bruno test script syntax reference: https://docs.usebruno.com/testing/introduction.html Bruno test script example test(\"res.status should be 200\", function() { const data = res.getBody(); expect(res.getStatus()).to.equal(200); }); test(\"res.body should be correct\", function() { const data = res.getBody(); expect(data.id).to.equal(1); expect(data.title).to.contains('provident'); }); ","wordCount":"2739","inLanguage":"en","datePublished":"2023-10-17T11:31:43+08:00","dateModified":"2023-10-17T11:31:43+08:00","author":{"@type":"Person","name":"nao.deng"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://naodeng.com.cn/posts/api-automation-testing/introduction_of_bruno/"},"publisher":{"@type":"Organization","name":"Nao's Blog","logo":{"@type":"ImageObject","url":"https://naodeng.com.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://naodeng.com.cn/ accesskey=h title="Nao's Blog (Alt + H)">Nao's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://naodeng.com.cn/zh/ title=üá®üá≥‰∏≠Êñá aria-label=üá®üá≥‰∏≠Êñá>üá®üá≥‰∏≠Êñá</a></li></ul></div></div><ul id=menu><li><a href=https://naodeng.com.cn/archives title=Archive><span>Archive</span></a></li><li><a href=https://naodeng.com.cn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://naodeng.com.cn/series/ title=Series><span>Series</span></a></li><li><a href=https://naodeng.com.cn/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://naodeng.com.cn/>Home</a>&nbsp;¬ª&nbsp;<a href=https://naodeng.com.cn/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Introducing Bruno for Replacement Postman</h1><div class=post-meta><span title='2023-10-17 11:31:43 +0800 +0800'>October 17, 2023</span>&nbsp;¬∑&nbsp;13 min&nbsp;¬∑&nbsp;2739 words&nbsp;¬∑&nbsp;nao.deng&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://naodeng.com.cn/zh/posts/api-automation-testing/introduction_of_bruno/>üá®üá≥‰∏≠Êñá</a></li></ul>&nbsp;|&nbsp;<a href=https://github.com/naodeng/naodeng.com.cn/tree/main/content/posts/API-Automation-Testing/Introduction_of_bruno.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#why-bruno aria-label="why bruno">why bruno</a></li><li><a href=#install-bruno aria-label="Install bruno">Install bruno</a></li><li><a href=#getting-started aria-label="Getting Started">Getting Started</a><ul><li><a href=#default-main-api aria-label="Default main API">Default main API</a></li><li><a href=#api-collection aria-label="API collection">API collection</a><ul><li><a href=#create-api-collection aria-label="Create API collection">Create API collection</a></li><li><a href=#open-api-collection aria-label="Open API collection">Open API collection</a></li><li><a href=#import-api-collection aria-label="Import API collection">Import API collection</a></li><li><a href=#run-api-collection aria-label="RUN API collection">RUN API collection</a></li><li><a href=#export-api-collection aria-label="Export API collection">Export API collection</a></li></ul></li><li><a href=#api-request aria-label="API request">API request</a><ul><li><a href=#create-api-request aria-label="Create API request">Create API request</a></li><li><a href=#edit-api-request aria-label="Edit API request">Edit API request</a></li><li><a href=#run-api-request aria-label="RUN API request">RUN API request</a></li><li><a href=#api-request-generate-code aria-label="API request generate code">API request generate code</a></li></ul></li><li><a href=#write-api-request-test-scripts aria-label="Write API request test scripts">Write API request test scripts</a><ul><li><a href=#api-request-assert aria-label="API request Assert">API request Assert</a><ul><li><a href=#introducing-assert aria-label="Introducing Assert">Introducing Assert</a></li><li><a href=#assert-demo aria-label="Assert demo">Assert demo</a><ul><li><a href=#assert-status-code-is-200 aria-label="Assert status code is 200">Assert status code is 200</a></li><li><a href=#assert-repsponse-body-as-expected aria-label="Assert repsponse body as expected">Assert repsponse body as expected</a></li></ul></li><li><a href=#debug-assert aria-label="Debug Assert">Debug Assert</a></li></ul></li><li><a href=#api-request-tests aria-label="API request Tests">API request Tests</a><ul><li><a href=#introduction-tests aria-label="Introduction Tests">Introduction Tests</a></li><li><a href=#tests-demo aria-label="Tests demo">Tests demo</a><ul><li><a href=#verify-status-code-is-200 aria-label="Verify status code is 200">Verify status code is 200</a></li><li><a href=#verify-repsponse-body-as-expected aria-label="Verify repsponse body as expected">Verify repsponse body as expected</a></li></ul></li><li><a href=#debugging-tests aria-label="Debugging Tests">Debugging Tests</a></li></ul></li><li><a href=#environment-variables aria-label="environment variables">environment variables</a><ul><li><a href=#creating-environment-variables aria-label="Creating Environment Variables">Creating Environment Variables</a></li><li><a href=#environment-variable-demo aria-label="environment variable demo">environment variable demo</a></li><li><a href=#using-environment-variables aria-label="Using Environment Variables">Using Environment Variables</a></li></ul></li></ul></li><li><a href=#test-script-automation aria-label="Test script automation">Test script automation</a><ul><li><a href=#pre-conditions aria-label=Pre-conditions>Pre-conditions</a></li><li><a href=#api-automation-project-demo aria-label="api automation project demo">api automation project demo</a></li></ul></li><li><a href=#getting-into-ci aria-label="Getting into CI">Getting into CI</a><ul><li><a href=#getting-into-github-action aria-label="Getting into github action">Getting into github action</a></li><li><a href=#test-report---todo aria-label="Test report&mdash;TODO">Test report&mdash;TODO</a></li></ul></li><li><a href=#bruno-more-usage---todo aria-label="bruno More usage&mdash;TODO">bruno More usage&mdash;TODO</a></li><li><a href=#postman-script-migration aria-label="Postman script migration">Postman script migration</a><ul><li><a href=#api-request-collection-migration aria-label="API Request Collection Migration">API Request Collection Migration</a></li><li><a href=#environment-variable-migration aria-label="Environment Variable Migration">Environment Variable Migration</a></li><li><a href=#test-script-migration-reference aria-label="Test Script Migration Reference">Test Script Migration Reference</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><p>Since Postman announced in May 2023 that it will phase out the Scratch Pad model with offline capabilities, teams that need to isolate API workspace data from third-party servers have been looking for alternatives.
Teams that need to isolate API workspace data from third-party servers have had to look for alternatives. bruno is one of those alternatives: an open source desktop application designed for API testing, development, and debugging.</p><p>Bruno is one of those alternatives: an open source desktop application designed for API testing, development, and debugging. Why bruno, how to get started, and how to migrate postman scripts are all covered in this article!</p><h2 id=why-bruno>why bruno<a hidden class=anchor aria-hidden=true href=#why-bruno>#</a></h2><p>Official description: <a href=https://github.com/usebruno/bruno/discussions/269>https://github.com/usebruno/bruno/discussions/269</a></p><p>Comparison with postman: <a href=https://www.usebruno.com/compare/bruno-vs-postman>https://www.usebruno.com/compare/bruno-vs-postman</a></p><p>Open source, MIT License</p><p>Client platform support (Mac/linux/Windows)</p><p>Offline client, no cloud synchronization plan</p><p>Supports Postman/insomina script import (only API request scripts can be imported, not test scripts)</p><p>Relatively active community and clear <a href=https://github.com/usebruno/bruno/discussions/384>product development roadmap</a>.</p><h2 id=install-bruno>Install bruno<a hidden class=anchor aria-hidden=true href=#install-bruno>#</a></h2><p>Download link: <a href=https://www.usebruno.com/downloads>https://www.usebruno.com/downloads</a></p><p>Mac computer recommended brew command download</p><p>‚Äã <code>brew install Bruno</code></p><h2 id=getting-started>Getting Started<a hidden class=anchor aria-hidden=true href=#getting-started>#</a></h2><h3 id=default-main-api>Default main API<a hidden class=anchor aria-hidden=true href=#default-main-api>#</a></h3><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/homepage.png alt=homepage></p><h3 id=api-collection>API collection<a hidden class=anchor aria-hidden=true href=#api-collection>#</a></h3><h4 id=create-api-collection>Create API collection<a hidden class=anchor aria-hidden=true href=#create-api-collection>#</a></h4><ul><li><p>On the home page, click on the &lsquo;Create Collection&rsquo; link to open the Create API Request Collection pop-up window.</p></li><li><p>On the popup window, enter</p><p>Name: input the name of the API request collection</p><p>Location: input the path of the folder where you want to save the API request collection files (we suggest you choose the path where this project is located).</p><p>Folder Name: you can enter the name of the API request set (a folder with the corresponding name will be created under the path you just selected).</p></li><li><p>Click Create button to finish creating the API request set and display it on the API (the list of newly created API request set will be displayed on the left side).</p></li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/create-collection.png alt=create-collection></p><h4 id=open-api-collection>Open API collection<a hidden class=anchor aria-hidden=true href=#open-api-collection>#</a></h4><ul><li>Click on the &lsquo;Open Collection&rsquo; link on the home page to open the folder of the selected API request collection in bruno format.</li><li>Click open to complete the selection and display it in the API (the collection list on the left side will display the selected API request collection information).</li></ul><h4 id=import-api-collection>Import API collection<a hidden class=anchor aria-hidden=true href=#import-api-collection>#</a></h4><ul><li>Click the &lsquo;Import Collection&rsquo; link on the home page to open the popup window for importing API collections (Bruno/Postman/Insomnia are supported).</li><li>On the popup window, select the link of the corresponding format, and then select the path of the existing file of the corresponding format.</li><li>Click open to complete the selection and display it on the API (the collection list on the left side will display the information of the selected API collection).</li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/import-collection.png alt=import-collection></p><h4 id=run-api-collection>RUN API collection<a hidden class=anchor aria-hidden=true href=#run-api-collection>#</a></h4><ul><li>Select the API request set you want to run from the collection list on the left side of the main API.</li><li>Select Run on the menu, the Runner tab will be opened on the right side of the API, it will show some information about the requests in the selected API request collection.</li><li>Click on the Run Collection button to run it locally (you will see the allowed results on the screen after running).</li></ul><h4 id=export-api-collection>Export API collection<a hidden class=anchor aria-hidden=true href=#export-api-collection>#</a></h4><ul><li>Select the API request set you want to run from the collection list on the left side of the main API, and right-click to open the menu.</li><li>Select Export on the menu, and then select the path of the file you want to export to complete the export (the exported file is also in json format).</li></ul><h3 id=api-request>API request<a hidden class=anchor aria-hidden=true href=#api-request>#</a></h3><h4 id=create-api-request>Create API request<a hidden class=anchor aria-hidden=true href=#create-api-request>#</a></h4><ul><li>Pre-requisite: An API request collection has already been created (see Creating an API Request Collection above).</li><li>Select the API request set you want to create a new API request from the collection list on the left side of the main API.</li><li>Select New Request on the menu, the right API will open the Request tab, it will show some information of requests in the selected API request set.</li><li>On the new Request window, first select the request type: HTTP/GraphQL.</li><li>In the new Request window, first select the request type: HTTP/GraphQL.
Name: Enter the name of the API request.
URL: enter the URL of the API request
Method: Select the Method of the API request.</li><li>Click Create button to finish creating the API request and display it on the API (the left request set list will display the information of the newly created API request).</li></ul><h4 id=edit-api-request>Edit API request<a hidden class=anchor aria-hidden=true href=#edit-api-request>#</a></h4><ul><li><p>Pre-requisite: you have already created an API request collection and an API request (refer to Creating an API request collection and New API request above).</p></li><li><p>Select the API request collection you want to edit in the collection list on the left side of the main API, and then select the API request you want to edit.</p></li><li><p>Then you can edit different fields of the request according to the type of API request.
Body: Enter the Body of the API request.</p><p>Headers: Enter the headers of the API request.</p><p>Params: Enter the Params of the API request.</p><p>Auth: enter the Auth of the API request</p><p>Vars: enter the Vars of the API request</p><p>Script: enter the Script of the API request</p><p>Assert: Enter the Assert of the API request.</p><p>Tests: Enter the Tests of the API request.</p></li><li><p>Click the Save button to finish editing the API request and display it on the API (the list of request sets on the left side will display the information of the edited API request).</p></li></ul><h4 id=run-api-request>RUN API request<a hidden class=anchor aria-hidden=true href=#run-api-request>#</a></h4><ul><li>Pre-requisite: you have already created an API request collection and an API request (refer to Creating an API request collection and New API request above).</li><li>In the collection list on the left side of the main API, select the API request set that you want to edit the API request, and then select the API request that you want to edit.</li><li>Click the right button after the API url edit box to finish running the API request and display it on the API (the Request tab on the right side will display the information of the running API request).</li></ul><h4 id=api-request-generate-code>API request generate code<a hidden class=anchor aria-hidden=true href=#api-request-generate-code>#</a></h4><ul><li>Pre-requisite: you have already created an API request collection and an API request (refer to Creating an API request collection and New API request above).</li><li>In the collection list on the left side of the main API, select the API request set that you want to edit the API request, and then select the API request that you want to edit.</li><li>Right click on the menu and select Generate Code, then select the language you want to generate code for.</li><li>The Generate Code window will show the request code of different languages.</li></ul><h3 id=write-api-request-test-scripts>Write API request test scripts<a hidden class=anchor aria-hidden=true href=#write-api-request-test-scripts>#</a></h3><h4 id=api-request-assert>API request Assert<a hidden class=anchor aria-hidden=true href=#api-request-assert>#</a></h4><h5 id=introducing-assert>Introducing Assert<a hidden class=anchor aria-hidden=true href=#introducing-assert>#</a></h5><ul><li><p>Open any API request and switch to the Assert tab.</p></li><li><p>The Assert tab displays the Assert information of the API request.</p></li><li><p>Assert is used to determine whether the result of the API request meets the expectation.</p></li><li><p>Expr: input the expression of expected result, it can be the value of a field of the API request, two types can be input: Status Code and Response Body.
Status Code: determine whether the returned status code of the API request meets the expectation (default is 200).
Response Body: determine whether the returned result of the API request meets the expectation (default is true).</p></li><li><p>Operator: the validation method for inputting the expected result. Supports multiple judgment methods: Equal and Not Equal, etc.
Equal: determine whether the returned result of the API request is equal to the expected result.
Not Equal: determine if the returned result of the API request is not equal to the expected result.</p></li><li><p>Value: input the value of the expected result, supports two ways of inputting the expected result: Static and Dynamic.
Static: input the static value of the expected result.
Dynamic: input the dynamic value of the expected result, which can be the value of a field in the return result of the API request.</p></li></ul><h5 id=assert-demo>Assert demo<a hidden class=anchor aria-hidden=true href=#assert-demo>#</a></h5><h6 id=assert-status-code-is-200>Assert status code is 200<a hidden class=anchor aria-hidden=true href=#assert-status-code-is-200>#</a></h6><ul><li>Taking <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a> as an example (the API request returns <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a>) I want to verify that the API request returns a status is 200.</li><li>Open the API request and switch to the Assert tab.</li><li>Enter the following information
Expr: res.status
Operator: Equal
Value: 200</li></ul><h6 id=assert-repsponse-body-as-expected>Assert repsponse body as expected<a hidden class=anchor aria-hidden=true href=#assert-repsponse-body-as-expected>#</a></h6><ul><li>Using <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a> as an example (the API request returned <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a>) I want to verify that the API request&rsquo;s repsponse body is as expected</li><li>Open the API request and switch to the Assert tab.</li><li>Assert1 Enter the following information in order
Expr: res.body.id
Operator: Equal
Value: 1</li><li>Assert2 Input the following information in order
Expr: res.body.title
Operator: contains
Value: provider</li></ul><h5 id=debug-assert>Debug Assert<a hidden class=anchor aria-hidden=true href=#debug-assert>#</a></h5><ul><li>Pre-requisite: you have already created an API request set and an API request (refer to Creating an API request set and New API request above), and you have also written the corresponding Assert according to the demo.</li><li>Select the API request set you want to edit in the collection list on the left side of the main API, and then select the API request you want to edit.</li><li>Click the right button after the API url edit box to finish running the API request and display it on the API (the Request tab on the right side will display the information of the running API request).</li><li>Switch to the Tests tab to display the Tests information of the API request, which also includes the Assert information of the request.</li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/assert-demo.png alt=assert-demo></p><h4 id=api-request-tests>API request Tests<a hidden class=anchor aria-hidden=true href=#api-request-tests>#</a></h4><h5 id=introduction-tests>Introduction Tests<a hidden class=anchor aria-hidden=true href=#introduction-tests>#</a></h5><ul><li>Open any API request and switch to the Tests tab.</li><li>Tests tab will show the Tests information of the API request.</li><li>Tests are used to write test scripts for API requests, currently javascript language is supported.</li><li>You can write multiple test scripts inside Tests, each test script can be run separately.</li></ul><h5 id=tests-demo>Tests demo<a hidden class=anchor aria-hidden=true href=#tests-demo>#</a></h5><h6 id=verify-status-code-is-200>Verify status code is 200<a hidden class=anchor aria-hidden=true href=#verify-status-code-is-200>#</a></h6><ul><li>Taking <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a> as an example (the API request returns <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a>), I want to verify that the API request returns a status is 200.</li><li>Open the API request and switch to the Tests tab.</li><li>Enter the following script</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;res.status should be 200&#34;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>res</span><span class=p>.</span><span class=nx>getBody</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>getStatus</span><span class=p>()).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><h6 id=verify-repsponse-body-as-expected>Verify repsponse body as expected<a hidden class=anchor aria-hidden=true href=#verify-repsponse-body-as-expected>#</a></h6><ul><li>Taking <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a> as an example (the API request returned <a href=https://jsonplaceholder.typicode.com/posts/1>https://jsonplaceholder.typicode.com/posts/1</a>) I want to verify that the repsponse body is as expected</li><li>Open the API request and switch to the Tests tab.</li><li>Enter the following script</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;res.body should be correct&#34;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>res</span><span class=p>.</span><span class=nx>getBody</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>expect</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>expect</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>title</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>contains</span><span class=p>(</span><span class=s1>&#39;provident&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><h5 id=debugging-tests>Debugging Tests<a hidden class=anchor aria-hidden=true href=#debugging-tests>#</a></h5><ul><li>Prerequisites: You have already created an API request set and an API request (refer to Creating an API Request Set and New API Request above), and you have also written the corresponding Tests according to the demo.</li><li>Select the API request set you want to edit in the collection list on the left side of the main API, and then select the API request you want to edit.</li><li>Click the right button after the API url edit box to finish running the API request and display it on the API (the Request tab on the right side will display the information of the running API request).</li><li>Switch to the Tests tab, it will show the Tests information of the API request, which will also include the requested Tests information.</li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/tests-demo.png alt=tests-demo></p><h4 id=environment-variables>environment variables<a hidden class=anchor aria-hidden=true href=#environment-variables>#</a></h4><h5 id=creating-environment-variables>Creating Environment Variables<a hidden class=anchor aria-hidden=true href=#creating-environment-variables>#</a></h5><ul><li>Prerequisites: An API request set and an API request have already been created (see Creating an API request set and New API request above).</li><li>Select the API request for which you want to create an environment variable</li><li>Click the &lsquo;No Environment&rsquo; link in the upper right corner of the page (default is No Environment) and select the configure button in the menu to open the environment variable management popup window (supports creating new environment variables and importing existing environment variables).</li><li>Click Create Environment button on the popup window, enter the name of the environment variable and click create button to create the environment variable.</li><li>Then click Add Variable button on the popup window, enter the key and value of the environment variable, and click Save button to add the environment variable.</li></ul><h5 id=environment-variable-demo>environment variable demo<a hidden class=anchor aria-hidden=true href=#environment-variable-demo>#</a></h5><blockquote><p>Requirement: Create a demo environment variable that contains an environment variable with key host and value <a href=https://jsonplaceholder.typicode.com>https://jsonplaceholder.typicode.com</a>.</p></blockquote><ul><li>Select the API request for which you want to create the environment variable</li><li>Click the &lsquo;No Environment&rsquo; link in the upper right corner of the page (default is No Environment), and select the configure button in the menu to open the environment variable management popup.</li><li>Click the Create Environment button on the popup window, enter the name of the environment variable demo, and click the create button to create the environment variable demo.</li><li>Select the demo environment variable, and then click Add Variable button on the page, enter the key of the environment variable as host and the value as <a href=https://jsonplaceholder.typicode.com>https://jsonplaceholder.typicode.com</a>, and click Save button to add the environment variable.</li><li>As shown in the following figure
! <a href=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/env-intro.png>env-intro</a></li></ul><h5 id=using-environment-variables>Using Environment Variables<a hidden class=anchor aria-hidden=true href=#using-environment-variables>#</a></h5><ul><li>Prerequisites: You have already created an API request set and an API request (see Creating an API request set and creating a new API request above), and you have also created a demo environment variable.</li><li>Select the API request for which you want to use environment variables</li><li>Click the &lsquo;No Environment&rsquo; link in the top right corner of the page (default is No Environment), and select the demo button in the menu to use the demo environment variable.</li><li>Then change the URL of the API request to {{host}}/posts/1 to use the environment variable.</li></ul><h3 id=test-script-automation>Test script automation<a hidden class=anchor aria-hidden=true href=#test-script-automation>#</a></h3><h4 id=pre-conditions>Pre-conditions<a hidden class=anchor aria-hidden=true href=#pre-conditions>#</a></h4><ul><li><input checked disabled type=checkbox> API request set has been created (example named :api-collects)</li><li><input checked disabled type=checkbox> API request has been created (example name: api request1)</li><li><input checked disabled type=checkbox> an environment variable has been created (example name: demo)</li><li><input checked disabled type=checkbox> has also written an assert or tests script for the API request</li></ul><h4 id=api-automation-project-demo>api automation project demo<a hidden class=anchor aria-hidden=true href=#api-automation-project-demo>#</a></h4><ul><li><input checked disabled type=checkbox> Installed node.js</li><li><input checked disabled type=checkbox> Install npm</li><li><input checked disabled type=checkbox> create a new project folder (example name: bruno-test)</li><li><input checked disabled type=checkbox> Execute npm init in the project folder to initialize the project as an npm project</li><li><input checked disabled type=checkbox> Install @usebruno/cli dependency (script: npm install @usebruno/cli)</li><li><input checked disabled type=checkbox> Open the folder directory where the API request sets are stored, and copy all the files in the api-collects directory to the bruno-test project directory</li><li><input checked disabled type=checkbox> The project directory looks like this</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>bruno</span><span class=o>-</span><span class=nx>test</span>   <span class=c1>//È°πÁõÆ‰∏ªÊñá‰ª∂Â§π
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>api</span> <span class=nx>request1</span><span class=p>.</span><span class=nx>bru</span> <span class=c1>//api ËØ∑Ê±Ç
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>enviroments</span> <span class=c1>//ÁéØÂ¢ÉÂèòÈáè
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>demo</span><span class=p>.</span><span class=nx>bru</span>
</span></span><span class=line><span class=cl>  <span class=nx>bruno</span><span class=p>.</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>  <span class=nx>node_modules</span> <span class=c1>//node ÂåÖ‰æùËµñ
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>package</span><span class=o>-</span><span class=nx>lock</span><span class=p>.</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>  <span class=kr>package</span><span class=p>.</span><span class=nx>json</span> <span class=c1>//npm È°πÁõÆÈÖçÁΩÆÊñá‰ª∂
</span></span></span></code></pre></div><ul><li><input checked disabled type=checkbox> Run the following command in the project directory to run the API request</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>bruno</span> <span class=nx>run</span> <span class=o>--</span><span class=nx>env</span> <span class=nx>demo</span>
</span></span></code></pre></div><ul><li>The result is as follows</li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/cli-demo.png alt=cli-demo></p><h3 id=getting-into-ci>Getting into CI<a hidden class=anchor aria-hidden=true href=#getting-into-ci>#</a></h3><h4 id=getting-into-github-action>Getting into github action<a hidden class=anchor aria-hidden=true href=#getting-into-github-action>#</a></h4><blockquote><p>Take github action as an example, other CI tools are similar.</p></blockquote><ul><li><input checked disabled type=checkbox> Prepare: Add the following script to the project package.json file</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;test&#34;</span><span class=err>:</span> <span class=s2>&#34;bru run --env demo&#34;</span>
</span></span></code></pre></div><ul><li><input checked disabled type=checkbox> Create .github/workflows folder in the project root folder</li><li><input checked disabled type=checkbox> Create main.yml file under .github/workflows folder</li><li><input checked disabled type=checkbox> The contents of the main.yml file are as follows</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bruno cli CI</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run_bruno_api_test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm install</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>run tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run test</span><span class=w>
</span></span></span></code></pre></div><ul><li><input checked disabled type=checkbox> submit code to github, will automatically trigger github action</li><li><input checked disabled type=checkbox> View the result of the github action, as shown in the example:</li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/cli-demo1.png alt=cli-demo1></p><blockquote><p>The code for this project can be pulled for reference:<a href=https://github.com/dengnao-tw/Bruno-API-Test-Starter>https://github.com/dengnao-tw/Bruno-API-Test-Starter</a></p></blockquote><h4 id=test-report---todo>Test report&mdash;TODO<a hidden class=anchor aria-hidden=true href=#test-report---todo>#</a></h4><h3 id=bruno-more-usage---todo>bruno More usage&mdash;TODO<a hidden class=anchor aria-hidden=true href=#bruno-more-usage---todo>#</a></h3><h3 id=postman-script-migration>Postman script migration<a hidden class=anchor aria-hidden=true href=#postman-script-migration>#</a></h3><h4 id=api-request-collection-migration>API Request Collection Migration<a hidden class=anchor aria-hidden=true href=#api-request-collection-migration>#</a></h4><ul><li>Click on the &lsquo;Import Collection&rsquo; link on the home page to open the Import API collection popup window.</li><li>Click on the Select Postman Collection link and select the path to an existing Postman request collection file.</li><li>Then you can import Postman request collection.</li><li>However, only API requests can be imported, not test scripts, as shown in the figure (but it doesn&rsquo;t affect the request invocation).
<img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/postman1.png alt=postman1>
<img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/bruno1.png alt=bruno1></li></ul><h4 id=environment-variable-migration>Environment Variable Migration<a hidden class=anchor aria-hidden=true href=#environment-variable-migration>#</a></h4><ul><li>Select the Postman request you just imported on the home page.</li><li>Click the &lsquo;No Environment&rsquo; link in the upper right corner of the page (default is No Environment), and select the configure button in the menu to open the environment variable management popup window.</li><li>Click on the &lsquo;Import Environment&rsquo; link to open the Import Environment popup.</li><li>Click on the &lsquo;Postman Environment&rsquo; link to open the Import Environment popup window Click on the &lsquo;Postman Environment&rsquo; link and select the path to an existing Postman environment file</li><li>You can import Postman environment variables.</li></ul><p><img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/postman2.png alt=postman2>
<img loading=lazy src=https://github.com/dengnao-tw/Bruno-API-Test-Starter/raw/main/readme_pictures/bruno2.png alt=bruno2></p><h4 id=test-script-migration-reference>Test Script Migration Reference<a hidden class=anchor aria-hidden=true href=#test-script-migration-reference>#</a></h4><blockquote><p>The syntax of the test scripts for the two tools is partially different and needs to be modified manually</p></blockquote><ul><li>Postman test script syntax reference: <a href=https://learning.postman.com/docs/writing-scripts/test-scripts/>https://learning.postman.com/docs/writing-scripts/test-scripts/</a></li><li>Postman test script example</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;res.status should be 200&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>to</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;res.body should be correct&#34;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>pm</span><span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>pm</span><span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>title</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>contains</span><span class=p>(</span><span class=s1>&#39;provident&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><ul><li>Bruno test script syntax reference: <a href=https://docs.usebruno.com/testing/introduction.html>https://docs.usebruno.com/testing/introduction.html</a></li><li>Bruno test script example</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;res.status should be 200&#34;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>res</span><span class=p>.</span><span class=nx>getBody</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>getStatus</span><span class=p>()).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;res.body should be correct&#34;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>res</span><span class=p>.</span><span class=nx>getBody</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>expect</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>expect</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>title</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>contains</span><span class=p>(</span><span class=s1>&#39;provident&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://naodeng.com.cn/tags/postman-migration/>postman migration</a></li><li><a href=https://naodeng.com.cn/tags/postman-replacement/>postman replacement</a></li><li><a href=https://naodeng.com.cn/tags/postman/>postman</a></li><li><a href=https://naodeng.com.cn/tags/bruno/>Bruno</a></li><li><a href=https://naodeng.com.cn/tags/bruno-cli/>Bruno cli</a></li></ul><nav class=paginav><a class=prev href=https://naodeng.com.cn/posts/performance-testing/gatling-tool-tutorial1/><span class=title>¬´ Prev</span><br><span>Gatling Performance Testing Tutorial: Getting Started</span>
</a><a class=next href=https://naodeng.com.cn/posts/api-automation-testing/introduction_of_api_test/><span class=title>Next ¬ª</span><br><span>Introduce of API Testing</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on x" href="https://x.com/intent/tweet/?text=Introducing%20Bruno%20for%20Replacement%20Postman&amp;url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f&amp;hashtags=postmanmigration%2cpostmanreplacement%2cpostman%2cBruno%2cBrunocli"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f&amp;title=Introducing%20Bruno%20for%20Replacement%20Postman&amp;summary=Introducing%20Bruno%20for%20Replacement%20Postman&amp;source=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f&title=Introducing%20Bruno%20for%20Replacement%20Postman"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on whatsapp" href="https://api.whatsapp.com/send?text=Introducing%20Bruno%20for%20Replacement%20Postman%20-%20https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on telegram" href="https://telegram.me/share/url?text=Introducing%20Bruno%20for%20Replacement%20Postman&amp;url=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Introducing Bruno for Replacement Postman on ycombinator" href="https://news.ycombinator.com/submitlink?t=Introducing%20Bruno%20for%20Replacement%20Postman&u=https%3a%2f%2fnaodeng.com.cn%2fposts%2fapi-automation-testing%2fintroduction_of_bruno%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=naodeng/naodeng.tech data-repo-id=R_kgDOHntNtg data-category="Show and tell" data-category-id=DIC_kwDOHntNts4Cavst data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://naodeng.com.cn/>Nao's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>