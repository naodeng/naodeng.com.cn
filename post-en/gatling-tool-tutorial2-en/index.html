<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>gatling tutorial: building your own gatling project from 0 to 1 - QA Discovery</title>
<meta name=theme-color><meta name=description content="Build your own Gatling project from 0 to 1 Gradle + Scala versions Create an empty Gradle project 1 2 3 mkdir gatling-gradle-demo cd gatling-gradle-demo gradle init Configure the project build.gradle Add the following to the build.gradle file in the project
You can copy the content of the build.gradle file in this project, for more configurations, please refer to the official documentation.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // Plugin Configuration plugins { id 'scala' // scala plugin declaration (based on the development tools plugin) id 'io."><meta name=author content="nao.deng"><script async defer data-website-id=b3b285c9-3c35-4398-9252-91bb70560b84 src=https://naodeng-umami.vercel.app/hugo.js></script><link rel="preload stylesheet" as=style href=https://naodeng.tech/main.min.css><link rel=preload as=image href=https://naodeng.tech/theme.png><link rel=preload as=image href="https://avatars.githubusercontent.com/u/7599466?v=4"><link rel=preload as=image href=https://naodeng.tech/twitter.svg><link rel=preload as=image href=https://naodeng.tech/github.svg><link rel=preload as=image href=https://naodeng.tech/rss.svg><script defer src=https://naodeng.tech/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://naodeng.tech/favicon.ico><link rel=apple-touch-icon href=https://naodeng.tech/apple-touch-icon.png><meta name=generator content="Hugo 0.120.3"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JBX883ZDJJ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JBX883ZDJJ",{anonymize_ip:!0})}</script><meta itemprop=name content="gatling tutorial: building your own gatling project from 0 to 1"><meta itemprop=description content="The article introduces the performance testing tool gatling advanced introduction: from 0 to 1 build your own Gatling project, introduces the basic use of Gatling, and how to build your own Gatling project, write performance test scripts, view the test report and so on."><meta itemprop=datePublished content="2023-10-25T11:05:45+08:00"><meta itemprop=dateModified content="2023-10-25T11:05:45+08:00"><meta itemprop=wordCount content="1022"><meta itemprop=keywords content="Performance Testing,gatling,"><meta property="og:title" content="gatling tutorial: building your own gatling project from 0 to 1"><meta property="og:description" content="The article introduces the performance testing tool gatling advanced introduction: from 0 to 1 build your own Gatling project, introduces the basic use of Gatling, and how to build your own Gatling project, write performance test scripts, view the test report and so on."><meta property="og:type" content="article"><meta property="og:url" content="https://naodeng.tech/post-en/gatling-tool-tutorial2-en/"><meta property="article:section" content="post-en"><meta property="article:published_time" content="2023-10-25T11:05:45+08:00"><meta property="article:modified_time" content="2023-10-25T11:05:45+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="gatling tutorial: building your own gatling project from 0 to 1"><meta name=twitter:description content="The article introduces the performance testing tool gatling advanced introduction: from 0 to 1 build your own Gatling project, introduces the basic use of Gatling, and how to build your own Gatling project, write performance test scripts, view the test report and so on."><link rel=canonical href=https://naodeng.tech/post-en/gatling-tool-tutorial2-en/></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold" href=https://naodeng.tech/>QA Discovery</a><div class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#faf8f1".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/post-en/>EN</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=https://github.com/naodeng>About</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/contact/>Contact</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=https://naodeng-umami.vercel.app/share/OksEL34H/nao.deng>Dashboard</a></nav><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/naodeng0_0 target=_blank rel=me>twitter
</a><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/naodeng target=_blank rel=me>github
</a><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://naodeng.tech/index.xml target=_blank rel=alternate>rss</a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"><article><header class=mb-16><h1 class="!my-0 pb-2.5">gatling tutorial: building your own gatling project from 0 to 1</h1><div class="text-sm antialiased opacity-60"><time>Oct 25, 2023</time>
<span class=mx-1>&#183;</span>
<span>nao.deng</span></div></header><section><h2 id=build-your-own-gatling-project-from-0-to-1>Build your own Gatling project from 0 to 1</h2><h3 id=gradle--scala-versions>Gradle + Scala versions</h3><h4 id=create-an-empty-gradle-project>Create an empty Gradle project</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir gatling-gradle-demo
</span></span><span class=line><span class=cl><span class=nb>cd</span> gatling-gradle-demo
</span></span><span class=line><span class=cl>gradle init
</span></span></code></pre></td></tr></table></div></div><h4 id=configure-the-project-buildgradle>Configure the project build.gradle</h4><p>Add the following to the build.gradle file in the project</p><blockquote><p>You can copy the content of the build.gradle file in this project, for more configurations, please refer to the <a href=https://gatling.io/docs/gatling/reference/current/extensions/gradle_plugin/>official documentation</a>.</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=c1>// Plugin Configuration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>plugins</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span> <span class=s1>&#39;scala&#39;</span> <span class=c1>// scala plugin declaration (based on the development tools plugin)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>id</span> <span class=s1>&#39;io.gatling.gradle&#39;</span> <span class=n>version</span> <span class=s1>&#39;3.9.5.6&#39;</span> <span class=c1>// declaration of the version of the gradle-based gatling framework plugin
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Repository source configuration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>repositories</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Use the maven central repository source
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>mavenCentral</span><span class=o>()</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=c1>// gatling configuration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>gatling</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// logback root level, defaults to the Gatling console log level if logback.xml does not exist in the configuration folder
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>logLevel</span> <span class=o>=</span> <span class=s1>&#39;WARN&#39;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Enforce logging of HTTP requests at a level of detail
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// set to &#39;ALL&#39; for all HTTP traffic in TRACE, &#39;FAILURES&#39; for failed HTTP traffic in DEBUG
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>logHttp</span> <span class=o>=</span> <span class=s1>&#39;FAILURES&#39;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Simulations filter
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>simulations</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>include</span> <span class=s2>&#34;**/simulation/*.scala&#34;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Dependencies
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>dependencies</span> <span class=o>{</span>     
</span></span><span class=line><span class=cl> <span class=c1>// Charts library for generating report charts
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=n>gatling</span> <span class=s1>&#39;io.gatling.highcharts:gatling-charts-highcharts:3.8.3&#39;</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=gradle-build-project-and-initialize>gradle build project and initialize</h4><ul><li>Open the Terminal window of the project with an editor and execute the following command to confirm that the project build was successful</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gradle build
</span></span></code></pre></td></tr></table></div></div><ul><li>Initialization complete: After completing the wizard, Gradle will generate a basic Gradle project structure in the project directory</li></ul><p><img src=https://github.com/Automation-Test-Starter/Gatling-Performance-Test-starter/raw/main/readme-pic/readme-project-tree1.png alt=readme-project-tree1></p><h4 id=initialization-directory>Initialization Directory</h4><p>Create a simulation directory in the src/gatling/scala directory to hold test scripts</p><blockquote><p>Gatling tests are usually located in the src/gatling directory. You need to manually create the src directory in the project root, and then create the gatling directory under the src directory. In the gatling directory, you can create your test simulation folder simulation, as well as other folders such as data, bodies, resources, and so on.</p></blockquote><h4 id=writing-scripts>Writing Scripts</h4><ul><li><p>Create a demo.scala file in the simulation directory to write your test scripts.</p></li><li><p>For reference, the following is a sample script</p></li></ul><blockquote><p>The script contains two scenarios, one for get requests and one for post requests.
The get interface validates that the interface returns a status code of 200 and the post interface validates that the interface returns a status code of 201.
The get interface uses rampUsers, the post interface uses constantConcurrentUsers.
rampUsers: incrementally increase the number of concurrent users over a specified period of time, constantConcurrentUsers: keep the number of concurrent users constant over a specified period of time.
The number of concurrent users is 10 for both interfaces, and the duration is 10 seconds for both interfaces.
The request interval is 2 seconds for both interfaces.</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scala data-lang=scala><span class=line><span class=cl><span class=k>package</span> <span class=nn>simulation</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>scala.concurrent.duration._</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>io.gatling.core.Predef._</span>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>io.gatling.http.Predef._</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>demo</span> <span class=k>extends</span> <span class=nc>Simulation</span> <span class=o>{</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>val</span> <span class=n>httpProtocol</span> <span class=k>=</span> <span class=n>http</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>baseUrl</span><span class=o>(</span><span class=s>&#34;https://jsonplaceholder.typicode.com&#34;</span><span class=o>)</span> <span class=c1>// 5
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>val</span> <span class=n>scn</span> <span class=k>=</span> <span class=n>scenario</span><span class=o>(</span><span class=s>&#34;GetSimulation&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>exec</span><span class=o>(</span><span class=n>http</span><span class=o>(</span><span class=s>&#34;get_demo&#34;</span><span class=o>)</span> 
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>get</span><span class=o>(</span><span class=s>&#34;/posts/1&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>check</span><span class=o>(</span><span class=n>status</span><span class=o>.</span><span class=n>is</span><span class=o>(</span><span class=mi>200</span><span class=o>)))</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>pause</span><span class=o>(</span><span class=mi>2</span><span class=o>)</span>
</span></span><span class=line><span class=cl>  <span class=k>val</span> <span class=n>scn1</span> <span class=k>=</span> <span class=n>scenario</span><span class=o>(</span><span class=s>&#34;PostSimulation&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>exec</span><span class=o>(</span><span class=n>http</span><span class=o>(</span><span class=s>&#34;post_demo&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>post</span><span class=o>(</span><span class=s>&#34;/posts&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>body</span><span class=o>(</span><span class=nc>StringBody</span><span class=o>(</span><span class=s>&#34;&#34;&#34;{&#34;title&#34;: &#34;foo&#34;,&#34;body&#34;: &#34;bar&#34;,&#34;userId&#34;: 1}&#34;&#34;&#34;</span><span class=o>)).</span><span class=n>asJson</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>check</span><span class=o>(</span><span class=n>status</span><span class=o>.</span><span class=n>is</span><span class=o>(</span><span class=mi>201</span><span class=o>)))</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>pause</span><span class=o>(</span><span class=mi>2</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>setUp</span><span class=o>(</span> 
</span></span><span class=line><span class=cl>    <span class=n>scn</span><span class=o>.</span><span class=n>inject</span><span class=o>(</span><span class=n>rampUsers</span><span class=o>(</span><span class=mi>10</span><span class=o>)</span> <span class=n>during</span><span class=o>(</span><span class=mi>10</span> <span class=n>seconds</span><span class=o>)),</span>
</span></span><span class=line><span class=cl>    <span class=n>scn1</span><span class=o>.</span><span class=n>inject</span><span class=o>(</span><span class=n>constantConcurrentUsers</span><span class=o>(</span><span class=mi>10</span><span class=o>)</span> <span class=n>during</span><span class=o>(</span><span class=mi>10</span> <span class=n>seconds</span><span class=o>))</span>
</span></span><span class=line><span class=cl>  <span class=o>).</span><span class=n>protocols</span><span class=o>(</span><span class=n>httpProtocol</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=debugging-scripts>Debugging Scripts</h4><p>Execute the following command to run the test script and view the report</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gradle gatlingRun
</span></span></code></pre></td></tr></table></div></div><p><img src=https://github.com/Automation-Test-Starter/Gatling-Performance-Test-starter/raw/main/readme-pic/readme-report3.png alt=readme-report3></p><h3 id=maven--scala-version>Maven + Scala version</h3><h4 id=create-an-empty-maven-project>Create an empty Maven project</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mvn archetype:generate -DgroupId<span class=o>=</span>demo.gatlin.maven -DartifactId<span class=o>=</span>gatling-maven-demo
</span></span></code></pre></td></tr></table></div></div><p>Initialization complete: After completing the wizard, Maven will create a new project directory and generate a basic Maven project structure in the</p><p><img src=https://github.com/Automation-Test-Starter/Gatling-Performance-Test-starter/raw/main/readme-pic/readme-project-tree2.png alt=readme-project-tree2></p><h4 id=configure-the-project-pomxml>Configure the project pom.xml</h4><p>Add the following contents to the pom.xml file in the project</p><blockquote><p>You can copy the contents of the pom.xml file in this project, for more configuration, please refer to the <a href=https://gatling.io/docs/gatling/reference/current/extensions/maven_plugin/>official documentation</a>.</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- dependencies Configuration --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;dependencies&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>io.gatling.highcharts<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>gatling-charts-highcharts<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>3.9.5<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;scope&gt;</span>test<span class=nt>&lt;/scope&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/dependency&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependencies&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- Plugin Configuration --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;plugins&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;plugin&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;groupId&gt;</span>io.gatling<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;artifactId&gt;</span>gatling-maven-plugin<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;version&gt;</span>4.6.0<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;/plugin&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;plugin&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;groupId&gt;</span>net.alchim31.maven<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;artifactId&gt;</span>scala-maven-plugin<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;version&gt;</span>4.8.1<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;configuration&gt;</span>
</span></span><span class=line><span class=cl>          <span class=nt>&lt;scalaVersion&gt;</span>2.13.12<span class=nt>&lt;/scalaVersion&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/configuration&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;executions&gt;</span>
</span></span><span class=line><span class=cl>          <span class=nt>&lt;execution&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;goals&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;goal&gt;</span>testCompile<span class=nt>&lt;/goal&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/goals&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;configuration&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;jvmArgs&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;jvmArg&gt;</span>-Xss100M<span class=nt>&lt;/jvmArg&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;/jvmArgs&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;args&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;arg&gt;</span>-deprecation<span class=nt>&lt;/arg&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;arg&gt;</span>-feature<span class=nt>&lt;/arg&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;arg&gt;</span>-unchecked<span class=nt>&lt;/arg&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;arg&gt;</span>-language:implicitConversions<span class=nt>&lt;/arg&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;arg&gt;</span>-language:postfixOps<span class=nt>&lt;/arg&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;/args&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/configuration&gt;</span>
</span></span><span class=line><span class=cl>          <span class=nt>&lt;/execution&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/executions&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;/plugin&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/plugins&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/build&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=initialization-directory-1>Initialization Directory</h4><p>Create a simulation directory in the src/test/scala directory to hold the test scripts</p><blockquote><p>scala tests are usually located in the src/test directory. You need to create a scala directory under the project test directory. In the scala directory, you can create your test simulation folder simulation, as well as other folders such as data, bodies, resources, and so on.</p></blockquote><h4 id=writing-scripts-1>Writing Scripts</h4><ul><li><p>Create a demo.scala file in the simulation directory to write your test scripts.</p></li><li><p>For reference, the following is a sample script</p></li></ul><blockquote><p>The script contains two scenarios, one for get requests and one for post requests.
The get interface validates that the interface returns a status code of 200 and the post interface validates that the interface returns a status code of 201.
The get interface uses rampUsers, the post interface uses constantConcurrentUsers.
rampUsers: incrementally increase the number of concurrent users over a specified period of time, constantConcurrentUsers: keep the number of concurrent users constant over a specified period of time.
The number of concurrent users is 10 for both interfaces, and the duration is 10 seconds for both interfaces.
The request interval is 2 seconds for both interfaces.</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scala data-lang=scala><span class=line><span class=cl><span class=k>package</span> <span class=nn>simulation</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>scala.concurrent.duration._</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>io.gatling.core.Predef._</span>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>io.gatling.http.Predef._</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>demo</span> <span class=k>extends</span> <span class=nc>Simulation</span> <span class=o>{</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>val</span> <span class=n>httpProtocol</span> <span class=k>=</span> <span class=n>http</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>baseUrl</span><span class=o>(</span><span class=s>&#34;https://jsonplaceholder.typicode.com&#34;</span><span class=o>)</span> <span class=c1>// 5
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>val</span> <span class=n>scn</span> <span class=k>=</span> <span class=n>scenario</span><span class=o>(</span><span class=s>&#34;GetSimulation&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>exec</span><span class=o>(</span><span class=n>http</span><span class=o>(</span><span class=s>&#34;get_demo&#34;</span><span class=o>)</span> 
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>get</span><span class=o>(</span><span class=s>&#34;/posts/1&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>check</span><span class=o>(</span><span class=n>status</span><span class=o>.</span><span class=n>is</span><span class=o>(</span><span class=mi>200</span><span class=o>)))</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>pause</span><span class=o>(</span><span class=mi>2</span><span class=o>)</span>
</span></span><span class=line><span class=cl>  <span class=k>val</span> <span class=n>scn1</span> <span class=k>=</span> <span class=n>scenario</span><span class=o>(</span><span class=s>&#34;PostSimulation&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>exec</span><span class=o>(</span><span class=n>http</span><span class=o>(</span><span class=s>&#34;post_demo&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>post</span><span class=o>(</span><span class=s>&#34;/posts&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>body</span><span class=o>(</span><span class=nc>StringBody</span><span class=o>(</span><span class=s>&#34;&#34;&#34;{&#34;title&#34;: &#34;foo&#34;,&#34;body&#34;: &#34;bar&#34;,&#34;userId&#34;: 1}&#34;&#34;&#34;</span><span class=o>)).</span><span class=n>asJson</span>
</span></span><span class=line><span class=cl>      <span class=o>.</span><span class=n>check</span><span class=o>(</span><span class=n>status</span><span class=o>.</span><span class=n>is</span><span class=o>(</span><span class=mi>201</span><span class=o>)))</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>pause</span><span class=o>(</span><span class=mi>2</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>setUp</span><span class=o>(</span> 
</span></span><span class=line><span class=cl>    <span class=n>scn</span><span class=o>.</span><span class=n>inject</span><span class=o>(</span><span class=n>rampUsers</span><span class=o>(</span><span class=mi>10</span><span class=o>)</span> <span class=n>during</span><span class=o>(</span><span class=mi>10</span> <span class=n>seconds</span><span class=o>)),</span>
</span></span><span class=line><span class=cl>    <span class=n>scn1</span><span class=o>.</span><span class=n>inject</span><span class=o>(</span><span class=n>constantConcurrentUsers</span><span class=o>(</span><span class=mi>10</span><span class=o>)</span> <span class=n>during</span><span class=o>(</span><span class=mi>10</span> <span class=n>seconds</span><span class=o>))</span>
</span></span><span class=line><span class=cl>  <span class=o>).</span><span class=n>protocols</span><span class=o>(</span><span class=n>httpProtocol</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=debugging-scripts-1>Debugging Scripts</h4><p>Execute the following command to run the test script and view the report</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mvn gatling:test
</span></span></code></pre></td></tr></table></div></div><p><img src=https://github.com/Automation-Test-Starter/Gatling-Performance-Test-starter/raw/main/readme-pic/readme-report3.png alt=readme-report3></p></section><footer class="mt-12 flex flex-wrap"><a class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]" href=https://naodeng.tech/tags/performance-testing>Performance Testing</a>
<a class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]" href=https://naodeng.tech/tags/gatling>gatling</a></footer><div class=mt-24 id=disqus_thread></div><script>const disqusShortname="naodeng-tech",script=document.createElement("script");script.src="https://"+disqusShortname+".disqus.com/embed.js",script.setAttribute("data-timestamp",+new Date),document.head.appendChild(script)</script></article></main><footer class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://naodeng.tech/>QA Discovery</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>✎ Paper</a></footer></body></html>