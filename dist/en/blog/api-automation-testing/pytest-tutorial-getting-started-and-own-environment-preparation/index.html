<!DOCTYPE html><html lang="en-US"> <head><meta charset="UTF-8"><title>Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment - Nao&#39;s Blog</title><meta name="description" content="naodeng, naodeng.com.cn, personal blog, software testing, performance testing, API testing, automation testing, agile testing."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="sitemap" href="/sitemap-index.xml"><meta name="generator" content="Astro v5.17.0"><link rel="alternate" hreflang="en-US" href="https://naodeng.com.cn/en/blog/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/"><link rel="alternate" hreflang="zh-CN" href="https://naodeng.com.cn/zh-cn/blog/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" sizes="192x192" href="/android-chrome-192x192.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><meta name="color-scheme" content="light dark"><meta property="og:type" content="website"><meta property="og:title" content="Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment - Nao's Blog"><meta property="og:site_name" content="Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment - Nao's Blog"><meta property="og:description" content="naodeng, naodeng.com.cn, personal blog, software testing, performance testing, API testing, automation testing, agile testing."><meta property="og:image" content="https://naodeng.com.cn/ogp.png"><meta property="og:url" content="https://naodeng.com.cn/en/blog/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@inaodeng"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preload" as="style" fetchpriority="high" href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;800&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;800&display=swap" media="print" onload="this.media='all'"><link rel="preload" as="style" fetchpriority="high" href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp&display=swap" media="print" onload="this.media='all'"><style>
    body {
      font-family: "Noto Sans", sans-serif;
    }
  </style><style>article[data-astro-cid-uwv4mmhs]{>*{margin-block:1.2em 0;margin-inline:0}p{font-weight:400}h2{margin-block:3em 0;padding-block-end:.2em;border-inline-start:4px solid var(--color-accent);padding-inline-start:var(--sp-s);line-height:1.4;font-size:1.6rem}h3{margin-block:2em 0;padding-block-end:.2em;line-height:1.4;font-size:1.4rem;border-block-end:1px solid color-mix(in srgb,var(--color-main) 10%,transparent)}h4{margin-block:2em -.4em;line-height:1.4;font-size:1.1rem}ul{list-style:disc;padding-inline-start:1.5em}ol{list-style:decimal;padding-inline-start:1.5em}li{margin-block:0 .5em;line-height:1.4}:not(pre) code{font-family:Consolas,Courier New,Courier,Monaco,monospace;color:var(--color-theme);background-color:color-mix(in srgb,var(--color-main) 8%,transparent);padding-block:.2em;padding-inline:.4em;border-radius:2px;font-size:.9rem}blockquote{font-style:italic;color:color-mix(in srgb,var(--color-main) 80%,transparent);background:color-mix(in srgb,var(--color-main) 5%,transparent);padding:1em;border-inline-start:2px solid color-mix(in srgb,var(--color-main) 10%,transparent)}a{text-decoration:underline;color:var(--color-theme);font-weight:500}img{border-radius:4px;background-color:color-mix(in srgb,var(--color-main) 10%,transparent)}pre{direction:ltr;padding:1em;border-radius:4px;border:2px solid color-mix(in srgb,var(--color-main) 20%,transparent)}}header[data-astro-cid-v3cnrnum]{text-align:center;border-block-end:1px solid var(--color-theme);padding-block-end:var(--sp-m);display:flex;flex-direction:column;align-items:center;gap:.5rem}header[data-astro-cid-v3cnrnum] h1[data-astro-cid-v3cnrnum]{color:var(--color-theme);font-size:1.8rem;margin:0}.cover[data-astro-cid-v3cnrnum]{border-radius:16px;margin:0}.tags[data-astro-cid-v3cnrnum]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center;margin-block-start:.5rem}.tag[data-astro-cid-v3cnrnum]{background-color:var(--color-theme);color:#fff;padding:.2rem .5rem;border-radius:4px;font-size:.8rem}
</style>
<link rel="stylesheet" href="/_astro/_id_.CXLwv1yp.css"></head> <body> <div id="js-languageSuggest" data-astro-cid-onlux7ho> <a id="js-link" href="#" data-astro-cid-onlux7ho> <span class="material-icons-sharp" data-astro-cid-onlux7ho>autorenew</span> <span id="js-linkText" data-astro-cid-onlux7ho></span> </a> <button id="js-close" data-astro-cid-onlux7ho> <span class="material-icons-sharp" data-astro-cid-onlux7ho>close</span> </button> </div> <script>(function(){const currentLocale = "en";
const LOCALES = {"en":{"label":"English","lang":"en-US"},"zh-cn":{"label":"简体中文","lang":"zh-CN"}};

  const browserLang = navigator.language.toLowerCase();
  const suggest = document.getElementById("js-languageSuggest");

  const showSuggest = (lang) => {
    const pathnames = location.pathname.split("/");
    const link = document.getElementById("js-link");
    const linkText = document.getElementById("js-linkText");
    pathnames[1] = lang;
    link.href = pathnames.join("/");
    linkText.innerText = LOCALES[lang].label;
    suggest.style.display = "block";
  };

  if (
    currentLocale === browserLang ||
    currentLocale === browserLang.split("-")[0] ||
    localStorage.languageSuggestDenied ||
    localStorage.selectedLang
  ) {
    return;
  } else if (Object.keys(LOCALES).includes(browserLang)) {
    showSuggest(browserLang);
  } else if (Object.keys(LOCALES).includes(browserLang.split("-")[0])) {
    showSuggest(browserLang.split("-")[0]);
  }

  document.getElementById("js-close").addEventListener("click", () => {
    suggest.style.display = "none";
    localStorage.languageSuggestDenied = true;
  });
})();</script>  <header class="l-header" data-astro-cid-3ef6ksr2> <h1 dir="ltr" data-astro-cid-3ef6ksr2> <a href="/en/" data-astro-cid-3ef6ksr2>Nao&#39;s Blog</a> </h1> <label data-astro-cid-opxux4jt> <span class="material-icons-sharp" data-astro-cid-opxux4jt>translate</span> <select data-languageSelect data-astro-cid-opxux4jt> <option label="English" value="/en/blog/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/" data-lang="en" selected data-astro-cid-opxux4jt></option><option label="简体中文" value="/zh-cn/blog/api-automation-testing/pytest-tutorial-getting-started-and-own-environment-preparation/" data-lang="zh-cn" data-astro-cid-opxux4jt></option> </select> <span class="material-icons-sharp" data-astro-cid-opxux4jt>expand_more</span> </label> <script>
  const selects = document.querySelectorAll("[data-languageSelect]");
  selects.forEach((select) => {
    select.addEventListener("change", (event) => {
      localStorage.selectedLang = event.target?.selectedOptions[0].dataset.lang;
      location.href = event.target?.value;
    });
  });
</script>  <nav class="l-content" data-astro-cid-3ef6ksr2> <ul data-astro-cid-3ef6ksr2> <li data-astro-cid-3ef6ksr2> <a href="/en/" data-astro-cid-3ef6ksr2> Home </a> </li> <li data-astro-cid-3ef6ksr2> <a href="/en/blog/" data-astro-cid-3ef6ksr2> Blog </a> </li> <li data-astro-cid-3ef6ksr2> <a href="/en/archive/" data-astro-cid-3ef6ksr2> Archive </a> </li> <li data-astro-cid-3ef6ksr2> <a href="/en/projects/" data-astro-cid-3ef6ksr2> Projects </a> </li> <li data-astro-cid-3ef6ksr2> <a href="/en/about/" data-astro-cid-3ef6ksr2> About </a> </li> <li data-astro-cid-3ef6ksr2> <a href="https://github.com/naodeng/naodeng.com.cn" target="_blank" data-astro-cid-3ef6ksr2>
GitHub
<span class="material-icons-sharp dir" data-astro-cid-3ef6ksr2>open_in_new</span> </a> </li> </ul> </nav> </header>  <main class="l-main l-content">  <article data-astro-cid-uwv4mmhs> <img src="/_astro/pytest-tutorial-getting-started-and-own-environment-preparation-cover.C8-rbBmE_1XNwtR.webp" alt="Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment" data-astro-cid-v3cnrnum="true" loading="lazy" decoding="async" fetchpriority="auto" width="1200" height="630" class="cover"><header data-astro-cid-v3cnrnum> <h1 data-astro-cid-v3cnrnum>Pytest API Automation Testing Tutorial: Getting Started and Setting Up Your Environment</h1> <time datetime="2023-11-13T10:11:15.000Z" data-astro-cid-v3cnrnum> 11/13/2023 </time> <div class="tags" data-astro-cid-v3cnrnum> <span class="tag" data-astro-cid-v3cnrnum>Pytest</span><span class="tag" data-astro-cid-v3cnrnum>API Testing</span> </div> </header> <h2 id="introduction">Introduction</h2>
<h3 id="introducing-pytest">Introducing Pytest</h3>
<p>Pytest is a popular Python testing framework for writing, organizing, and running various types of automated tests. It provides a rich set of features that make it easy to write and manage test cases, as well as generate detailed test reports. Here are some of the key features and benefits of Pytest:</p>
<h4 id="simple-and-easy-to-use"><strong>Simple and easy to use</strong></h4>
<p>Pytest is designed to make writing test cases simple and easy to understand. You can write test assertions using Python’s standard <code>assert</code> statement without having to learn a new assertion syntax.</p>
<h4 id="automatic-discovery-of-test-cases"><strong>Automatic Discovery of Test Cases</strong></h4>
<p>Pytest can automatically discover and run test cases in your project without explicitly configuring the test suite. Test case files can be named <code>test_*.py</code> or <code>*_test.py</code>, or use a specific test function naming convention.</p>
<h4 id="rich-plugin-ecosystem"><strong>Rich plugin ecosystem</strong></h4>
<p>Pytest can be extended with plugins. There are many third-party plug-ins available to meet different testing needs, such as Allure reporting, parameterization, coverage analysis, and so on.</p>
<h4 id="parameterized-testing"><strong>Parameterized Testing</strong></h4>
<p>Pytest supports parameterized testing, which allows you to run the same test case multiple times, but with different parameters. This reduces code duplication and improves test coverage.</p>
<h4 id="exception-and-fault-localization"><strong>Exception and fault localization</strong></h4>
<p>Pytest provides detailed error and exception information that helps you locate and resolve problems more easily. It also provides detailed traceback information.</p>
<h4 id="parallel-test-execution"><strong>Parallel Test Execution</strong></h4>
<p>Pytest supports parallel execution of test cases, which increases the speed of test execution, especially in large projects.</p>
<h4 id="multiple-report-formats"><strong>Multiple Report Formats</strong></h4>
<p>Pytest supports multiple test report formats, including terminal output, JUnit XML, HTML reports and Allure reports. These reports can help you visualize test results.</p>
<h4 id="command-line-options"><strong>Command Line Options</strong></h4>
<p>Pytest provides a rich set of command line options to customize the behavior of test runs, including filtering, retrying, coverage analysis, and more.</p>
<h4 id="integration"><strong>Integration</strong></h4>
<p>Pytest can be easily integrated with other testing frameworks and tools (e.g. Selenium, Django, Flask, etc.) as well as continuous integration systems (e.g. Jenkins, Travis CI, etc.).</p>
<h4 id="active-community"><strong>Active Community</strong></h4>
<p>Pytest has an active community with extensive documentation and tutorials for learning and reference. You can also get support and solve problems in the community.</p>
<p>In short, Pytest is a powerful and flexible testing framework for projects of all sizes and types. Its ease of use, automation capabilities, and rich set of plugins make it one of the go-to tools in Python testing.</p>
<p>Official website: <a href="https://docs.pytest.org/en/latest/">https://docs.pytest.org/en/latest/</a></p>
<h3 id="introduction-to-python-virtual-environments">Introduction to python virtual environments</h3>
<p>A Python virtual environment is a mechanism for creating and managing multiple isolated development environments within a single Python installation. Virtual environments help resolve dependency conflicts between different projects by ensuring that each project can use its own independent Python packages and libraries without interfering with each other. Here are the steps on how to create and use a Python virtual environment:</p>
<h4 id="install-the-virtual-environment-tool"><strong>Install the Virtual Environment Tool</strong></h4>
<p>Before you begin, make sure you have installed Python’s virtual environment tools. In Python 3.3 and later, the <code>venv</code> module is built-in and can be used to create virtual environments. If you’re using an older version of Python, you can install the <code>virtualenv</code> tool.</p>
<p>For Python 3.3+, the <code>venv</code> tool is built-in and does not require additional installation.</p>
<p>For Python 2.x, you can install the <code>virtualenv</code> tool with the following command:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pip</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> virtualenv</span></span></code></pre>
<h4 id="creating-a-virtual-environment"><strong>Creating a virtual environment</strong></h4>
<p>Open a terminal, move to the directory where you wish to create the virtual environment, and run the following command to create the virtual environment:</p>
<p>Use <code>venv</code> (for Python 3.3+):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">python</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> venv</span><span style="color:#9ECBFF"> myenv</span></span></code></pre>
<p>Use <code>virtualenv</code> (for Python 2.x):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">virtualenv</span><span style="color:#9ECBFF"> myenv</span></span></code></pre>
<p>In the above command, <code>myenv</code> is the name of the virtual environment and you can customize the name.</p>
<h4 id="activate-virtual-environment"><strong>Activate virtual environment</strong></h4>
<p>To start using the virtual environment, you need to activate it. The activation command is slightly different for different operating systems:</p>
<ul>
<li>on macOS and Linux:</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#79B8FF">source</span><span style="color:#9ECBFF"> myenv/bin/activate</span></span></code></pre>
<ul>
<li>On Windows (using Command Prompt):</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">myenv\Scripts\activate</span></span></code></pre>
<ul>
<li>On Windows (using PowerShell):</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#79B8FF">.</span><span style="color:#E1E4E8">\</span><span style="color:#9ECBFF">myenv</span><span style="color:#E1E4E8">\</span><span style="color:#9ECBFF">Scripts</span><span style="color:#E1E4E8">\</span><span style="color:#9ECBFF">Activate.ps1</span></span></code></pre>
<p>Once the virtual environment is activated, you will see the name of the virtual environment in front of the terminal prompt, indicating that you are in the virtual environment.</p>
<h4 id="installing-dependencies-in-a-virtual-environment"><strong>Installing dependencies in a virtual environment</strong></h4>
<p>In a virtual environment, you can use <code>pip</code> to install any Python packages and libraries required by your project, and these dependencies will be associated with that virtual environment. Example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pip</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> requests</span></span></code></pre>
<h4 id="using-a-virtual-environment"><strong>Using a virtual environment</strong></h4>
<p>When working in a virtual environment, you can run Python scripts and use packages installed in the virtual environment. This ensures that your project runs in a separate environment and does not conflict with the global Python installation.</p>
<h4 id="exiting-the-virtual-environment"><strong>Exiting the virtual environment</strong></h4>
<p>To exit the virtual environment, simply run the following command in a terminal:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">deactivate</span></span></code></pre>
<p>This returns you to the global Python environment.</p>
<p>By using a virtual environment, you can maintain clean dependencies between projects and ensure project stability and isolation. This is a good practice in Python development.</p>
<h2 id="project-dependencies">Project dependencies</h2>
<blockquote>
<p>The following environments need to be installed in advance</p>
</blockquote>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked disabled/> python, demo version is v3.11.6</li>
</ul>
<blockquote>
<p>Just install python 3.x or higher.</p>
</blockquote>
<h2 id="project-directory-structure">Project directory structure</h2>
<p>The following is an example of the directory structure of a Pytest API automation test project:</p>
<blockquote>
<p>Subsequent demo projects will introduce allure reports, so there will be an additional allure-report directory.</p>
</blockquote>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="text"><code><span class="line"><span>Pytest-allure-demo/</span></span>
<span class="line"><span>    ├── tests/                  # test case files</span></span>
<span class="line"><span>    │   ├── test_login.py       # Example test case file</span></span>
<span class="line"><span>    │   ├── test_order.py       # Example test case file</span></span>
<span class="line"><span>    │   └── ...</span></span>
<span class="line"><span>    ├── data/                   # test data files (e.g. JSON, CSV, etc.)</span></span>
<span class="line"><span>    │   ├── dev_test_data.json      #  Test data file for development environment.</span></span>
<span class="line"><span>    │   ├── prod_test_data.json      #  Test data file for prod environment.</span></span>
<span class="line"><span>    │   ├── ...</span></span>
<span class="line"><span>    ├── config/</span></span>
<span class="line"><span>    │   ├── dev_config.json  # Development environment configuration file</span></span>
<span class="line"><span>    │   ├── prod_config.json  # Production environment configuration file</span></span>
<span class="line"><span>    │   ├── ...</span></span>
<span class="line"><span>    ├── conftest.py             # Pytest&#39;s global configuration file</span></span>
<span class="line"><span>    ├── pytest.ini              # Pytest configuration file</span></span>
<span class="line"><span>    ├── requirements.txt        # Project dependencies file</span></span>
<span class="line"><span>    └── allure-report/          # Allure reports</span></span></code></pre>
<h2 id="reference">reference</h2>
<ul>
<li>pytest: <a href="https://docs.pytest.org/en/latest/">https://docs.pytest.org/en/latest/</a></li>
</ul>  </article>  </main> <footer class="l-footer l-content" data-astro-cid-sz7xmlte> <a href="https://github.com/naodeng/naodeng.com.cn" target="_blank" class="github" data-astro-cid-sz7xmlte>
GitHub
<span class="material-icons-sharp dir" data-astro-cid-sz7xmlte>open_in_new</span> </a> <ul data-astro-cid-sz7xmlte> <li><a href="/en/" onclick="localStorage.selectedLang = &#34;en&#34;" lang="en">English</a></li><li><a href="/zh-cn/" onclick="localStorage.selectedLang = &#34;zh-cn&#34;" lang="zh-cn">简体中文</a></li> </ul> <a class="copy" href="https://naodeng.com.cn/" target="_blank" dir="ltr" data-astro-cid-sz7xmlte>
© Nao Deng 2026 </a> </footer>   </body> </html>  